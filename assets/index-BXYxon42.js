var jS=Object.defineProperty;var lf=e=>{throw TypeError(e)};var PS=(e,t,n)=>t in e?jS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>PS(e,typeof t!="symbol"?t+"":t,n),cc=(e,t,n)=>t.has(e)||lf("Cannot "+n);var j=(e,t,n)=>(cc(e,t,"read from private field"),n?n.call(e):t.get(e)),re=(e,t,n)=>t.has(e)?lf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),K=(e,t,n,r)=>(cc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ze=(e,t,n)=>(cc(e,t,"access private method"),n);var Ds=(e,t,n,r)=>({set _(o){K(e,t,o,n)},get _(){return j(e,t,r)}});function NS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Ey(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ay={exports:{}},bl={},jy={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),MS=Symbol.for("react.portal"),RS=Symbol.for("react.fragment"),DS=Symbol.for("react.strict_mode"),FS=Symbol.for("react.profiler"),LS=Symbol.for("react.provider"),OS=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),_S=Symbol.for("react.memo"),BS=Symbol.for("react.lazy"),cf=Symbol.iterator;function zS(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var Py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ny=Object.assign,My={};function qo(e,t,n){this.props=e,this.context=t,this.refs=My,this.updater=n||Py}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ry(){}Ry.prototype=qo.prototype;function Ud(e,t,n){this.props=e,this.context=t,this.refs=My,this.updater=n||Py}var Yd=Ud.prototype=new Ry;Yd.constructor=Ud;Ny(Yd,qo.prototype);Yd.isPureReactComponent=!0;var uf=Array.isArray,Dy=Object.prototype.hasOwnProperty,Gd={current:null},Fy={key:!0,ref:!0,__self:!0,__source:!0};function Ly(e,t,n){var r,o={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Dy.call(t,r)&&!Fy.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:gs,type:e,key:a,ref:s,props:o,_owner:Gd.current}}function WS(e,t){return{$$typeof:gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xd(e){return typeof e=="object"&&e!==null&&e.$$typeof===gs}function HS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var df=/\/+/g;function uc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HS(""+e.key):t.toString(36)}function mi(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case gs:case MS:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+uc(s,0):r,uf(o)?(n="",e!=null&&(n=e.replace(df,"$&/")+"/"),mi(o,t,n,"",function(c){return c})):o!=null&&(Xd(o)&&(o=WS(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(df,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",uf(e))for(var i=0;i<e.length;i++){a=e[i];var l=r+uc(a,i);s+=mi(a,t,n,l,o)}else if(l=zS(e),typeof l=="function")for(e=l.call(e),i=0;!(a=e.next()).done;)a=a.value,l=r+uc(a,i++),s+=mi(a,t,n,l,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fs(e,t,n){if(e==null)return e;var r=[],o=0;return mi(e,r,"","",function(a){return t.call(n,a,o++)}),r}function US(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},fi={transition:null},YS={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:fi,ReactCurrentOwner:Gd};function Oy(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Fs,forEach:function(e,t,n){Fs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fs(e,function(){t++}),t},toArray:function(e){return Fs(e,function(t){return t})||[]},only:function(e){if(!Xd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=qo;Z.Fragment=RS;Z.Profiler=FS;Z.PureComponent=Ud;Z.StrictMode=DS;Z.Suspense=$S;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS;Z.act=Oy;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ny({},e.props),o=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Gd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Dy.call(t,l)&&!Fy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){i=Array(l);for(var c=0;c<l;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:gs,type:e.type,key:o,ref:a,props:r,_owner:s}};Z.createContext=function(e){return e={$$typeof:OS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LS,_context:e},e.Consumer=e};Z.createElement=Ly;Z.createFactory=function(e){var t=Ly.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:VS,render:e}};Z.isValidElement=Xd;Z.lazy=function(e){return{$$typeof:BS,_payload:{_status:-1,_result:e},_init:US}};Z.memo=function(e,t){return{$$typeof:_S,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=fi.transition;fi.transition={};try{e()}finally{fi.transition=t}};Z.unstable_act=Oy;Z.useCallback=function(e,t){return nt.current.useCallback(e,t)};Z.useContext=function(e){return nt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return nt.current.useEffect(e,t)};Z.useId=function(){return nt.current.useId()};Z.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return nt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};Z.useRef=function(e){return nt.current.useRef(e)};Z.useState=function(e){return nt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return nt.current.useTransition()};Z.version="18.3.1";jy.exports=Z;var f=jy.exports;const D=Ey(f),GS=NS({__proto__:null,default:D},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=f,KS=Symbol.for("react.element"),qS=Symbol.for("react.fragment"),QS=Object.prototype.hasOwnProperty,ZS=XS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JS={key:!0,ref:!0,__self:!0,__source:!0};function Vy(e,t,n){var r,o={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)QS.call(t,r)&&!JS.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:KS,type:e,key:a,ref:s,props:o,_owner:ZS.current}}bl.Fragment=qS;bl.jsx=Vy;bl.jsxs=Vy;Ay.exports=bl;var d=Ay.exports,$y={exports:{}},xt={},_y={exports:{}},By={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,M){var _=E.length;E.push(M);e:for(;0<_;){var $=_-1>>>1,W=E[$];if(0<o(W,M))E[$]=M,E[_]=W,_=$;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var M=E[0],_=E.pop();if(_!==M){E[0]=_;e:for(var $=0,W=E.length,J=W>>>1;$<J;){var pe=2*($+1)-1,ut=E[pe],ae=pe+1,Mt=E[ae];if(0>o(ut,_))ae<W&&0>o(Mt,ut)?(E[$]=Mt,E[ae]=_,$=ae):(E[$]=ut,E[pe]=_,$=pe);else if(ae<W&&0>o(Mt,_))E[$]=Mt,E[ae]=_,$=ae;else break e}}return M}function o(E,M){var _=E.sortIndex-M.sortIndex;return _!==0?_:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var l=[],c=[],u=1,m=null,h=3,p=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=E)r(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(c)}}function k(E){if(y=!1,w(E),!x)if(n(l)!==null)x=!0,B(S);else{var M=n(c);M!==null&&R(k,M.startTime-E)}}function S(E,M){x=!1,y&&(y=!1,g(I),I=-1),p=!0;var _=h;try{for(w(M),m=n(l);m!==null&&(!(m.expirationTime>M)||E&&!L());){var $=m.callback;if(typeof $=="function"){m.callback=null,h=m.priorityLevel;var W=$(m.expirationTime<=M);M=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(l)&&r(l),w(M)}else r(l);m=n(l)}if(m!==null)var J=!0;else{var pe=n(c);pe!==null&&R(k,pe.startTime-M),J=!1}return J}finally{m=null,h=_,p=!1}}var C=!1,T=null,I=-1,A=5,P=-1;function L(){return!(e.unstable_now()-P<A)}function F(){if(T!==null){var E=e.unstable_now();P=E;var M=!0;try{M=T(!0,E)}finally{M?z():(C=!1,T=null)}}else C=!1}var z;if(typeof v=="function")z=function(){v(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=F,z=function(){U.postMessage(null)}}else z=function(){b(F,0)};function B(E){T=E,C||(C=!0,z())}function R(E,M){I=b(function(){E(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,B(S))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var _=h;h=M;try{return E()}finally{h=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var _=h;h=E;try{return M()}finally{h=_}},e.unstable_scheduleCallback=function(E,M,_){var $=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?$+_:$):_=$,E){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=_+W,E={id:u++,callback:M,priorityLevel:E,startTime:_,expirationTime:W,sortIndex:-1},_>$?(E.sortIndex=_,t(c,E),n(l)===null&&E===n(c)&&(y?(g(I),I=-1):y=!0,R(k,_-$))):(E.sortIndex=W,t(l,E),x||p||(x=!0,B(S))),E},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(E){var M=h;return function(){var _=h;h=M;try{return E.apply(this,arguments)}finally{h=_}}}})(By);_y.exports=By;var e1=_y.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=f,vt=e1;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zy=new Set,$a={};function zr(e,t){Oo(e,t),Oo(e+"Capture",t)}function Oo(e,t){for($a[e]=t,e=0;e<t.length;e++)zy.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=Object.prototype.hasOwnProperty,n1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf={},mf={};function r1(e){return hu.call(mf,e)?!0:hu.call(hf,e)?!1:n1.test(e)?mf[e]=!0:(hf[e]=!0,!1)}function o1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a1(e,t,n,r){if(t===null||typeof t>"u"||o1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,o,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function qd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kd,qd);Be[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kd,qd);Be[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kd,qd);Be[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qd(e,t,n,r){var o=Be.hasOwnProperty(t)?Be[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a1(t,n,o,r)&&(n=null),r||o===null?r1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=t1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Wy=Symbol.for("react.provider"),Hy=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),eh=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Uy=Symbol.for("react.offscreen"),ff=Symbol.iterator;function ia(e){return e===null||typeof e!="object"?null:(e=ff&&e[ff]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,dc;function va(e){if(dc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dc=t&&t[1]||""}return`
`+dc+e}var hc=!1;function mc(e,t){if(!e||hc)return"";hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),a=r.stack.split(`
`),s=o.length-1,i=a.length-1;1<=s&&0<=i&&o[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==a[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==a[i]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=i);break}}}finally{hc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?va(e):""}function s1(e){switch(e.tag){case 5:return va(e.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return e=mc(e.type,!1),e;case 11:return e=mc(e.type.render,!1),e;case 1:return e=mc(e.type,!0),e;default:return""}}function gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case eo:return"Portal";case mu:return"Profiler";case Zd:return"StrictMode";case fu:return"Suspense";case pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hy:return(e.displayName||"Context")+".Consumer";case Wy:return(e._context.displayName||"Context")+".Provider";case Jd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eh:return t=e.displayName||null,t!==null?t:gu(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return gu(e(t))}catch{}}return null}function i1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gu(t);case 8:return t===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e){var t=Yy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){e._valueTracker||(e._valueTracker=l1(e))}function Gy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yu(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=or(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xy(e,t){t=t.checked,t!=null&&Qd(e,"checked",t,!1)}function vu(e,t){Xy(e,t);var n=or(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xu(e,t.type,n):t.hasOwnProperty("defaultValue")&&xu(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xu(e,t,n){(t!=="number"||Li(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xa=Array.isArray;function vo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+or(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function wu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(xa(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:or(n)}}function Ky(e,t){var n=or(t.value),r=or(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vs,Qy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c1=["Webkit","ms","Moz","O"];Object.keys(Ca).forEach(function(e){c1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ca[t]=Ca[e]})});function Zy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ca.hasOwnProperty(e)&&Ca[e]?(""+t).trim():t+"px"}function Jy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var u1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ku(e,t){if(t){if(u1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Su(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=null;function th(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tu=null,xo=null,wo=null;function xf(e){if(e=xs(e)){if(typeof Tu!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Il(t),Tu(e.stateNode,e.type,t))}}function ev(e){xo?wo?wo.push(e):wo=[e]:xo=e}function tv(){if(xo){var e=xo,t=wo;if(wo=xo=null,xf(e),t)for(e=0;e<t.length;e++)xf(t[e])}}function nv(e,t){return e(t)}function rv(){}var fc=!1;function ov(e,t,n){if(fc)return e(t,n);fc=!0;try{return nv(e,t,n)}finally{fc=!1,(xo!==null||wo!==null)&&(rv(),tv())}}function Ba(e,t){var n=e.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Iu=!1;if(vn)try{var la={};Object.defineProperty(la,"passive",{get:function(){Iu=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Iu=!1}function d1(e,t,n,r,o,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ta=!1,Oi=null,Vi=!1,Eu=null,h1={onError:function(e){Ta=!0,Oi=e}};function m1(e,t,n,r,o,a,s,i,l){Ta=!1,Oi=null,d1.apply(h1,arguments)}function f1(e,t,n,r,o,a,s,i,l){if(m1.apply(this,arguments),Ta){if(Ta){var c=Oi;Ta=!1,Oi=null}else throw Error(N(198));Vi||(Vi=!0,Eu=c)}}function Wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function av(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wf(e){if(Wr(e)!==e)throw Error(N(188))}function p1(e){var t=e.alternate;if(!t){if(t=Wr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return wf(o),e;if(a===r)return wf(o),t;a=a.sibling}throw Error(N(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s){for(i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function sv(e){return e=p1(e),e!==null?iv(e):null}function iv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iv(e);if(t!==null)return t;e=e.sibling}return null}var lv=vt.unstable_scheduleCallback,bf=vt.unstable_cancelCallback,g1=vt.unstable_shouldYield,y1=vt.unstable_requestPaint,Ie=vt.unstable_now,v1=vt.unstable_getCurrentPriorityLevel,nh=vt.unstable_ImmediatePriority,cv=vt.unstable_UserBlockingPriority,$i=vt.unstable_NormalPriority,x1=vt.unstable_LowPriority,uv=vt.unstable_IdlePriority,kl=null,nn=null;function w1(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(kl,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:S1,b1=Math.log,k1=Math.LN2;function S1(e){return e>>>=0,e===0?32:31-(b1(e)/k1|0)|0}var $s=64,_s=4194304;function wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~o;i!==0?r=wa(i):(a&=s,a!==0&&(r=wa(a)))}else s=n&~o,s!==0?r=wa(s):a!==0&&(r=wa(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),o=1<<n,r|=e[n],t&=~o;return r}function C1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-_t(a),i=1<<s,l=o[s];l===-1?(!(i&n)||i&r)&&(o[s]=C1(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}function Au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dv(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function pc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ys(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function I1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_t(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function rh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var se=0;function hv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mv,oh,fv,pv,gv,ju=!1,Bs=[],qn=null,Qn=null,Zn=null,za=new Map,Wa=new Map,Bn=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function ca(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=xs(t),t!==null&&oh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function A1(e,t,n,r,o){switch(t){case"focusin":return qn=ca(qn,e,t,n,r,o),!0;case"dragenter":return Qn=ca(Qn,e,t,n,r,o),!0;case"mouseover":return Zn=ca(Zn,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return za.set(a,ca(za.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Wa.set(a,ca(Wa.get(a)||null,e,t,n,r,o)),!0}return!1}function yv(e){var t=kr(e.target);if(t!==null){var n=Wr(t);if(n!==null){if(t=n.tag,t===13){if(t=av(n),t!==null){e.blockedOn=t,gv(e.priority,function(){fv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cu=r,n.target.dispatchEvent(r),Cu=null}else return t=xs(n),t!==null&&oh(t),e.blockedOn=n,!1;t.shift()}return!0}function Sf(e,t,n){pi(e)&&n.delete(t)}function j1(){ju=!1,qn!==null&&pi(qn)&&(qn=null),Qn!==null&&pi(Qn)&&(Qn=null),Zn!==null&&pi(Zn)&&(Zn=null),za.forEach(Sf),Wa.forEach(Sf)}function ua(e,t){e.blockedOn===t&&(e.blockedOn=null,ju||(ju=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,j1)))}function Ha(e){function t(o){return ua(o,e)}if(0<Bs.length){ua(Bs[0],e);for(var n=1;n<Bs.length;n++){var r=Bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qn!==null&&ua(qn,e),Qn!==null&&ua(Qn,e),Zn!==null&&ua(Zn,e),za.forEach(t),Wa.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)yv(n),n.blockedOn===null&&Bn.shift()}var bo=En.ReactCurrentBatchConfig,Bi=!0;function P1(e,t,n,r){var o=se,a=bo.transition;bo.transition=null;try{se=1,ah(e,t,n,r)}finally{se=o,bo.transition=a}}function N1(e,t,n,r){var o=se,a=bo.transition;bo.transition=null;try{se=4,ah(e,t,n,r)}finally{se=o,bo.transition=a}}function ah(e,t,n,r){if(Bi){var o=Pu(e,t,n,r);if(o===null)Tc(e,t,r,zi,n),kf(e,r);else if(A1(o,e,t,n,r))r.stopPropagation();else if(kf(e,r),t&4&&-1<E1.indexOf(e)){for(;o!==null;){var a=xs(o);if(a!==null&&mv(a),a=Pu(e,t,n,r),a===null&&Tc(e,t,r,zi,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Tc(e,t,r,null,n)}}var zi=null;function Pu(e,t,n,r){if(zi=null,e=th(r),e=kr(e),e!==null)if(t=Wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=av(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zi=e,null}function vv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v1()){case nh:return 1;case cv:return 4;case $i:case x1:return 16;case uv:return 536870912;default:return 16}default:return 16}}var Xn=null,sh=null,gi=null;function xv(){if(gi)return gi;var e,t=sh,n=t.length,r,o="value"in Xn?Xn.value:Xn.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[a-r];r++);return gi=o.slice(e,1<r?1-r:void 0)}function yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function Cf(){return!1}function wt(e){function t(n,r,o,a,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zs:Cf,this.isPropagationStopped=Cf,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=wt(Qo),vs=we({},Qo,{view:0,detail:0}),M1=wt(vs),gc,yc,da,Sl=we({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(gc=e.screenX-da.screenX,yc=e.screenY-da.screenY):yc=gc=0,da=e),gc)},movementY:function(e){return"movementY"in e?e.movementY:yc}}),Tf=wt(Sl),R1=we({},Sl,{dataTransfer:0}),D1=wt(R1),F1=we({},vs,{relatedTarget:0}),vc=wt(F1),L1=we({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),O1=wt(L1),V1=we({},Qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$1=wt(V1),_1=we({},Qo,{data:0}),If=wt(_1),B1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W1[e])?!!t[e]:!1}function lh(){return H1}var U1=we({},vs,{key:function(e){if(e.key){var t=B1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y1=wt(U1),G1=we({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=wt(G1),X1=we({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),K1=wt(X1),q1=we({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q1=wt(q1),Z1=we({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J1=wt(Z1),eC=[9,13,27,32],ch=vn&&"CompositionEvent"in window,Ia=null;vn&&"documentMode"in document&&(Ia=document.documentMode);var tC=vn&&"TextEvent"in window&&!Ia,wv=vn&&(!ch||Ia&&8<Ia&&11>=Ia),Af=" ",jf=!1;function bv(e,t){switch(e){case"keyup":return eC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function nC(e,t){switch(e){case"compositionend":return kv(t);case"keypress":return t.which!==32?null:(jf=!0,Af);case"textInput":return e=t.data,e===Af&&jf?null:e;default:return null}}function rC(e,t){if(no)return e==="compositionend"||!ch&&bv(e,t)?(e=xv(),gi=sh=Xn=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wv&&t.locale!=="ko"?null:t.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oC[e.type]:t==="textarea"}function Sv(e,t,n,r){ev(r),t=Wi(t,"onChange"),0<t.length&&(n=new ih("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ea=null,Ua=null;function aC(e){Dv(e,0)}function Cl(e){var t=ao(e);if(Gy(t))return e}function sC(e,t){if(e==="change")return t}var Cv=!1;if(vn){var xc;if(vn){var wc="oninput"in document;if(!wc){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),wc=typeof Nf.oninput=="function"}xc=wc}else xc=!1;Cv=xc&&(!document.documentMode||9<document.documentMode)}function Mf(){Ea&&(Ea.detachEvent("onpropertychange",Tv),Ua=Ea=null)}function Tv(e){if(e.propertyName==="value"&&Cl(Ua)){var t=[];Sv(t,Ua,e,th(e)),ov(aC,t)}}function iC(e,t,n){e==="focusin"?(Mf(),Ea=t,Ua=n,Ea.attachEvent("onpropertychange",Tv)):e==="focusout"&&Mf()}function lC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(Ua)}function cC(e,t){if(e==="click")return Cl(t)}function uC(e,t){if(e==="input"||e==="change")return Cl(t)}function dC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:dC;function Ya(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!hu.call(t,o)||!zt(e[o],t[o]))return!1}return!0}function Rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Df(e,t){var n=Rf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rf(n)}}function Iv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ev(){for(var e=window,t=Li();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Li(e.document)}return t}function uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hC(e){var t=Ev(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Iv(n.ownerDocument.documentElement,n)){if(r!==null&&uh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Df(n,a);var s=Df(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mC=vn&&"documentMode"in document&&11>=document.documentMode,ro=null,Nu=null,Aa=null,Mu=!1;function Ff(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mu||ro==null||ro!==Li(r)||(r=ro,"selectionStart"in r&&uh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&Ya(Aa,r)||(Aa=r,r=Wi(Nu,"onSelect"),0<r.length&&(t=new ih("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ro)))}function Ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oo={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},bc={},Av={};vn&&(Av=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Tl(e){if(bc[e])return bc[e];if(!oo[e])return e;var t=oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Av)return bc[e]=t[n];return e}var jv=Tl("animationend"),Pv=Tl("animationiteration"),Nv=Tl("animationstart"),Mv=Tl("transitionend"),Rv=new Map,Lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(e,t){Rv.set(e,t),zr(t,[e])}for(var kc=0;kc<Lf.length;kc++){var Sc=Lf[kc],fC=Sc.toLowerCase(),pC=Sc[0].toUpperCase()+Sc.slice(1);hr(fC,"on"+pC)}hr(jv,"onAnimationEnd");hr(Pv,"onAnimationIteration");hr(Nv,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(Mv,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Of(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f1(r,t,void 0,e),e.currentTarget=null}function Dv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&o.isPropagationStopped())break e;Of(o,i,c),a=l}else for(s=0;s<r.length;s++){if(i=r[s],l=i.instance,c=i.currentTarget,i=i.listener,l!==a&&o.isPropagationStopped())break e;Of(o,i,c),a=l}}}if(Vi)throw e=Eu,Vi=!1,Eu=null,e}function he(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var r=e+"__bubble";n.has(r)||(Fv(t,e,2,!1),n.add(r))}function Cc(e,t,n){var r=0;t&&(r|=4),Fv(n,e,r,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function Ga(e){if(!e[Hs]){e[Hs]=!0,zy.forEach(function(n){n!=="selectionchange"&&(gC.has(n)||Cc(n,!1,e),Cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,Cc("selectionchange",!1,t))}}function Fv(e,t,n,r){switch(vv(t)){case 1:var o=P1;break;case 4:o=N1;break;default:o=ah}n=o.bind(null,t,n,e),o=void 0,!Iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Tc(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;i!==null;){if(s=kr(i),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}i=i.parentNode}}r=r.return}ov(function(){var c=a,u=th(n),m=[];e:{var h=Rv.get(e);if(h!==void 0){var p=ih,x=e;switch(e){case"keypress":if(yi(n)===0)break e;case"keydown":case"keyup":p=Y1;break;case"focusin":x="focus",p=vc;break;case"focusout":x="blur",p=vc;break;case"beforeblur":case"afterblur":p=vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=D1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=K1;break;case jv:case Pv:case Nv:p=O1;break;case Mv:p=Q1;break;case"scroll":p=M1;break;case"wheel":p=J1;break;case"copy":case"cut":case"paste":p=$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ef}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,w;v!==null;){w=v;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=Ba(v,g),k!=null&&y.push(Xa(v,k,w)))),b)break;v=v.return}0<y.length&&(h=new p(h,x,null,n,u),m.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Cu&&(x=n.relatedTarget||n.fromElement)&&(kr(x)||x[xn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?kr(x):null,x!==null&&(b=Wr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(y=Tf,k="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ef,k="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?h:ao(p),w=x==null?h:ao(x),h=new y(k,v+"leave",p,n,u),h.target=b,h.relatedTarget=w,k=null,kr(u)===c&&(y=new y(g,v+"enter",x,n,u),y.target=w,y.relatedTarget=b,k=y),b=k,p&&x)t:{for(y=p,g=x,v=0,w=y;w;w=Xr(w))v++;for(w=0,k=g;k;k=Xr(k))w++;for(;0<v-w;)y=Xr(y),v--;for(;0<w-v;)g=Xr(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Xr(y),g=Xr(g)}y=null}else y=null;p!==null&&Vf(m,h,p,y,!1),x!==null&&b!==null&&Vf(m,b,x,y,!0)}}e:{if(h=c?ao(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=sC;else if(Pf(h))if(Cv)S=uC;else{S=lC;var C=iC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=cC);if(S&&(S=S(e,c))){Sv(m,S,n,u);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&xu(h,"number",h.value)}switch(C=c?ao(c):window,e){case"focusin":(Pf(C)||C.contentEditable==="true")&&(ro=C,Nu=c,Aa=null);break;case"focusout":Aa=Nu=ro=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Ff(m,n,u);break;case"selectionchange":if(mC)break;case"keydown":case"keyup":Ff(m,n,u)}var T;if(ch)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else no?bv(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(wv&&n.locale!=="ko"&&(no||I!=="onCompositionStart"?I==="onCompositionEnd"&&no&&(T=xv()):(Xn=u,sh="value"in Xn?Xn.value:Xn.textContent,no=!0)),C=Wi(c,I),0<C.length&&(I=new If(I,e,null,n,u),m.push({event:I,listeners:C}),T?I.data=T:(T=kv(n),T!==null&&(I.data=T)))),(T=tC?nC(e,n):rC(e,n))&&(c=Wi(c,"onBeforeInput"),0<c.length&&(u=new If("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:c}),u.data=T))}Dv(m,t)})}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Ba(e,n),a!=null&&r.unshift(Xa(e,a,o)),a=Ba(e,t),a!=null&&r.push(Xa(e,a,o))),e=e.return}return r}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vf(e,t,n,r,o){for(var a=t._reactName,s=[];n!==null&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(l!==null&&l===r)break;i.tag===5&&c!==null&&(i=c,o?(l=Ba(n,a),l!=null&&s.unshift(Xa(n,l,i))):o||(l=Ba(n,a),l!=null&&s.push(Xa(n,l,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var yC=/\r\n?/g,vC=/\u0000|\uFFFD/g;function $f(e){return(typeof e=="string"?e:""+e).replace(yC,`
`).replace(vC,"")}function Us(e,t,n){if(t=$f(t),$f(e)!==t&&n)throw Error(N(425))}function Hi(){}var Ru=null,Du=null;function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(e){return _f.resolve(null).then(e).catch(bC)}:Lu;function bC(e){setTimeout(function(){throw e})}function Ic(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ha(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),en="__reactFiber$"+Zo,Ka="__reactProps$"+Zo,xn="__reactContainer$"+Zo,Ou="__reactEvents$"+Zo,kC="__reactListeners$"+Zo,SC="__reactHandles$"+Zo;function kr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bf(e);e!==null;){if(n=e[en])return n;e=Bf(e)}return t}e=n,n=e.parentNode}return null}function xs(e){return e=e[en]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Il(e){return e[Ka]||null}var Vu=[],so=-1;function mr(e){return{current:e}}function me(e){0>so||(e.current=Vu[so],Vu[so]=null,so--)}function le(e,t){so++,Vu[so]=e.current,e.current=t}var ar={},Ke=mr(ar),it=mr(!1),Fr=ar;function Vo(e,t){var n=e.type.contextTypes;if(!n)return ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function lt(e){return e=e.childContextTypes,e!=null}function Ui(){me(it),me(Ke)}function zf(e,t,n){if(Ke.current!==ar)throw Error(N(168));le(Ke,t),le(it,n)}function Lv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(N(108,i1(e)||"Unknown",o));return we({},n,r)}function Yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Fr=Ke.current,le(Ke,e),le(it,it.current),!0}function Wf(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Lv(e,t,Fr),r.__reactInternalMemoizedMergedChildContext=e,me(it),me(Ke),le(Ke,e)):me(it),le(it,n)}var fn=null,El=!1,Ec=!1;function Ov(e){fn===null?fn=[e]:fn.push(e)}function CC(e){El=!0,Ov(e)}function fr(){if(!Ec&&fn!==null){Ec=!0;var e=0,t=se;try{var n=fn;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,El=!1}catch(o){throw fn!==null&&(fn=fn.slice(e+1)),lv(nh,fr),o}finally{se=t,Ec=!1}}return null}var io=[],lo=0,Gi=null,Xi=0,Ct=[],Tt=0,Lr=null,pn=1,gn="";function vr(e,t){io[lo++]=Xi,io[lo++]=Gi,Gi=e,Xi=t}function Vv(e,t,n){Ct[Tt++]=pn,Ct[Tt++]=gn,Ct[Tt++]=Lr,Lr=e;var r=pn;e=gn;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var a=32-_t(t)+o;if(30<a){var s=o-o%5;a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,pn=1<<32-_t(t)+o|n<<o|r,gn=a+e}else pn=1<<a|n<<o|r,gn=e}function dh(e){e.return!==null&&(vr(e,1),Vv(e,1,0))}function hh(e){for(;e===Gi;)Gi=io[--lo],io[lo]=null,Xi=io[--lo],io[lo]=null;for(;e===Lr;)Lr=Ct[--Tt],Ct[Tt]=null,gn=Ct[--Tt],Ct[Tt]=null,pn=Ct[--Tt],Ct[Tt]=null}var gt=null,pt=null,fe=!1,$t=null;function $v(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,pt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lr!==null?{id:pn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,pt=null,!0):!1;default:return!1}}function $u(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _u(e){if(fe){var t=pt;if(t){var n=t;if(!Hf(e,t)){if($u(e))throw Error(N(418));t=Jn(n.nextSibling);var r=gt;t&&Hf(e,t)?$v(r,n):(e.flags=e.flags&-4097|2,fe=!1,gt=e)}}else{if($u(e))throw Error(N(418));e.flags=e.flags&-4097|2,fe=!1,gt=e}}}function Uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Ys(e){if(e!==gt)return!1;if(!fe)return Uf(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fu(e.type,e.memoizedProps)),t&&(t=pt)){if($u(e))throw _v(),Error(N(418));for(;t;)$v(e,t),t=Jn(t.nextSibling)}if(Uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=gt?Jn(e.stateNode.nextSibling):null;return!0}function _v(){for(var e=pt;e;)e=Jn(e.nextSibling)}function $o(){pt=gt=null,fe=!1}function mh(e){$t===null?$t=[e]:$t.push(e)}var TC=En.ReactCurrentBatchConfig;function ha(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var i=o.refs;s===null?delete i[a]:i[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yf(e){var t=e._init;return t(e._payload)}function Bv(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function o(g,v){return g=rr(g,v),g.index=0,g.sibling=null,g}function a(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,v,w,k){return v===null||v.tag!==6?(v=Dc(w,g.mode,k),v.return=g,v):(v=o(v,w),v.return=g,v)}function l(g,v,w,k){var S=w.type;return S===to?u(g,v,w.props.children,k,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$n&&Yf(S)===v.type)?(k=o(v,w.props),k.ref=ha(g,v,w),k.return=g,k):(k=Ci(w.type,w.key,w.props,null,g.mode,k),k.ref=ha(g,v,w),k.return=g,k)}function c(g,v,w,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Fc(w,g.mode,k),v.return=g,v):(v=o(v,w.children||[]),v.return=g,v)}function u(g,v,w,k,S){return v===null||v.tag!==7?(v=Mr(w,g.mode,k,S),v.return=g,v):(v=o(v,w),v.return=g,v)}function m(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dc(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ls:return w=Ci(v.type,v.key,v.props,null,g.mode,w),w.ref=ha(g,null,v),w.return=g,w;case eo:return v=Fc(v,g.mode,w),v.return=g,v;case $n:var k=v._init;return m(g,k(v._payload),w)}if(xa(v)||ia(v))return v=Mr(v,g.mode,w,null),v.return=g,v;Gs(g,v)}return null}function h(g,v,w,k){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:i(g,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ls:return w.key===S?l(g,v,w,k):null;case eo:return w.key===S?c(g,v,w,k):null;case $n:return S=w._init,h(g,v,S(w._payload),k)}if(xa(w)||ia(w))return S!==null?null:u(g,v,w,k,null);Gs(g,w)}return null}function p(g,v,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,i(v,g,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ls:return g=g.get(k.key===null?w:k.key)||null,l(v,g,k,S);case eo:return g=g.get(k.key===null?w:k.key)||null,c(v,g,k,S);case $n:var C=k._init;return p(g,v,w,C(k._payload),S)}if(xa(k)||ia(k))return g=g.get(w)||null,u(v,g,k,S,null);Gs(v,k)}return null}function x(g,v,w,k){for(var S=null,C=null,T=v,I=v=0,A=null;T!==null&&I<w.length;I++){T.index>I?(A=T,T=null):A=T.sibling;var P=h(g,T,w[I],k);if(P===null){T===null&&(T=A);break}e&&T&&P.alternate===null&&t(g,T),v=a(P,v,I),C===null?S=P:C.sibling=P,C=P,T=A}if(I===w.length)return n(g,T),fe&&vr(g,I),S;if(T===null){for(;I<w.length;I++)T=m(g,w[I],k),T!==null&&(v=a(T,v,I),C===null?S=T:C.sibling=T,C=T);return fe&&vr(g,I),S}for(T=r(g,T);I<w.length;I++)A=p(T,g,I,w[I],k),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?I:A.key),v=a(A,v,I),C===null?S=A:C.sibling=A,C=A);return e&&T.forEach(function(L){return t(g,L)}),fe&&vr(g,I),S}function y(g,v,w,k){var S=ia(w);if(typeof S!="function")throw Error(N(150));if(w=S.call(w),w==null)throw Error(N(151));for(var C=S=null,T=v,I=v=0,A=null,P=w.next();T!==null&&!P.done;I++,P=w.next()){T.index>I?(A=T,T=null):A=T.sibling;var L=h(g,T,P.value,k);if(L===null){T===null&&(T=A);break}e&&T&&L.alternate===null&&t(g,T),v=a(L,v,I),C===null?S=L:C.sibling=L,C=L,T=A}if(P.done)return n(g,T),fe&&vr(g,I),S;if(T===null){for(;!P.done;I++,P=w.next())P=m(g,P.value,k),P!==null&&(v=a(P,v,I),C===null?S=P:C.sibling=P,C=P);return fe&&vr(g,I),S}for(T=r(g,T);!P.done;I++,P=w.next())P=p(T,g,I,P.value,k),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?I:P.key),v=a(P,v,I),C===null?S=P:C.sibling=P,C=P);return e&&T.forEach(function(F){return t(g,F)}),fe&&vr(g,I),S}function b(g,v,w,k){if(typeof w=="object"&&w!==null&&w.type===to&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ls:e:{for(var S=w.key,C=v;C!==null;){if(C.key===S){if(S=w.type,S===to){if(C.tag===7){n(g,C.sibling),v=o(C,w.props.children),v.return=g,g=v;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$n&&Yf(S)===C.type){n(g,C.sibling),v=o(C,w.props),v.ref=ha(g,C,w),v.return=g,g=v;break e}n(g,C);break}else t(g,C);C=C.sibling}w.type===to?(v=Mr(w.props.children,g.mode,k,w.key),v.return=g,g=v):(k=Ci(w.type,w.key,w.props,null,g.mode,k),k.ref=ha(g,v,w),k.return=g,g=k)}return s(g);case eo:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=o(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Fc(w,g.mode,k),v.return=g,g=v}return s(g);case $n:return C=w._init,b(g,v,C(w._payload),k)}if(xa(w))return x(g,v,w,k);if(ia(w))return y(g,v,w,k);Gs(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=o(v,w),v.return=g,g=v):(n(g,v),v=Dc(w,g.mode,k),v.return=g,g=v),s(g)):n(g,v)}return b}var _o=Bv(!0),zv=Bv(!1),Ki=mr(null),qi=null,co=null,fh=null;function ph(){fh=co=qi=null}function gh(e){var t=Ki.current;me(Ki),e._currentValue=t}function Bu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){qi=e,fh=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(fh!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(qi===null)throw Error(N(308));co=e,qi.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var Sr=null;function yh(e){Sr===null?Sr=[e]:Sr.push(e)}function Wv(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,yh(t)):(n.next=o.next,o.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _n=!1;function vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,wn(e,n)}return o=r.interleaved,o===null?(t.next=t,yh(r)):(t.next=o.next,o.next=t),r.interleaved=t,wn(e,n)}function vi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rh(e,n)}}function Gf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qi(e,t,n,r){var o=e.updateQueue;_n=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var l=i,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,i=u.lastBaseUpdate,i!==s&&(i===null?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(a!==null){var m=o.baseState;s=0,u=c=l=null,i=a;do{var h=i.lane,p=i.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,y=i;switch(h=t,p=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){m=x.call(p,m,h);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(p,m,h):x,h==null)break e;m=we({},m,h);break e;case 2:_n=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[i]:h.push(i))}else p={eventTime:p,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(c=u=p,l=m):u=u.next=p,s|=h;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;h=i,i=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(u===null&&(l=m),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Vr|=s,e.lanes=s,e.memoizedState=m}}function Xf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(N(191,o));o.call(r)}}}var ws={},rn=mr(ws),qa=mr(ws),Qa=mr(ws);function Cr(e){if(e===ws)throw Error(N(174));return e}function xh(e,t){switch(le(Qa,t),le(qa,e),le(rn,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bu(t,e)}me(rn),le(rn,t)}function Bo(){me(rn),me(qa),me(Qa)}function Uv(e){Cr(Qa.current);var t=Cr(rn.current),n=bu(t,e.type);t!==n&&(le(qa,e),le(rn,n))}function wh(e){qa.current===e&&(me(rn),me(qa))}var ge=mr(0);function Zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ac=[];function bh(){for(var e=0;e<Ac.length;e++)Ac[e]._workInProgressVersionPrimary=null;Ac.length=0}var xi=En.ReactCurrentDispatcher,jc=En.ReactCurrentBatchConfig,Or=0,ve=null,je=null,Me=null,Ji=!1,ja=!1,Za=0,IC=0;function We(){throw Error(N(321))}function kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function Sh(e,t,n,r,o,a){if(Or=a,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xi.current=e===null||e.memoizedState===null?PC:NC,e=n(r,o),ja){a=0;do{if(ja=!1,Za=0,25<=a)throw Error(N(301));a+=1,Me=je=null,t.updateQueue=null,xi.current=MC,e=n(r,o)}while(ja)}if(xi.current=el,t=je!==null&&je.next!==null,Or=0,Me=je=ve=null,Ji=!1,t)throw Error(N(300));return e}function Ch(){var e=Za!==0;return Za=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ve.memoizedState=Me=e:Me=Me.next=e,Me}function Pt(){if(je===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Me===null?ve.memoizedState:Me.next;if(t!==null)Me=t,je=e;else{if(e===null)throw Error(N(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Me===null?ve.memoizedState=Me=e:Me=Me.next=e}return Me}function Ja(e,t){return typeof t=="function"?t(e):t}function Pc(e){var t=Pt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=je,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var i=s=null,l=null,c=a;do{var u=c.lane;if((Or&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(i=l=m,s=r):l=l.next=m,ve.lanes|=u,Vr|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=i,zt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,ve.lanes|=a,Vr|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nc(e){var t=Pt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do a=e(a,s.action),s=s.next;while(s!==o);zt(a,t.memoizedState)||(at=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Yv(){}function Gv(e,t){var n=ve,r=Pt(),o=t(),a=!zt(r.memoizedState,o);if(a&&(r.memoizedState=o,at=!0),r=r.queue,Th(qv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,es(9,Kv.bind(null,n,r,o,t),void 0,null),Fe===null)throw Error(N(349));Or&30||Xv(n,t,o)}return o}function Xv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kv(e,t,n,r){t.value=n,t.getSnapshot=r,Qv(t)&&Zv(e)}function qv(e,t,n){return n(function(){Qv(t)&&Zv(e)})}function Qv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function Zv(e){var t=wn(e,1);t!==null&&Bt(t,e,1,-1)}function Kf(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e},t.queue=e,e=e.dispatch=jC.bind(null,ve,e),[t.memoizedState,e]}function es(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jv(){return Pt().memoizedState}function wi(e,t,n,r){var o=qt();ve.flags|=e,o.memoizedState=es(1|t,n,void 0,r===void 0?null:r)}function Al(e,t,n,r){var o=Pt();r=r===void 0?null:r;var a=void 0;if(je!==null){var s=je.memoizedState;if(a=s.destroy,r!==null&&kh(r,s.deps)){o.memoizedState=es(t,n,a,r);return}}ve.flags|=e,o.memoizedState=es(1|t,n,a,r)}function qf(e,t){return wi(8390656,8,e,t)}function Th(e,t){return Al(2048,8,e,t)}function ex(e,t){return Al(4,2,e,t)}function tx(e,t){return Al(4,4,e,t)}function nx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rx(e,t,n){return n=n!=null?n.concat([e]):null,Al(4,4,nx.bind(null,t,e),n)}function Ih(){}function ox(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ax(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sx(e,t,n){return Or&21?(zt(n,t)||(n=dv(),ve.lanes|=n,Vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function EC(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=jc.transition;jc.transition={};try{e(!1),t()}finally{se=n,jc.transition=r}}function ix(){return Pt().memoizedState}function AC(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lx(e))cx(t,n);else if(n=Wv(e,t,n,r),n!==null){var o=tt();Bt(n,e,r,o),ux(n,t,r)}}function jC(e,t,n){var r=nr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lx(e))cx(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,i=a(s,n);if(o.hasEagerState=!0,o.eagerState=i,zt(i,s)){var l=t.interleaved;l===null?(o.next=o,yh(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=Wv(e,t,o,r),n!==null&&(o=tt(),Bt(n,e,r,o),ux(n,t,r))}}function lx(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function cx(e,t){ja=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ux(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rh(e,n)}}var el={readContext:jt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},PC={readContext:jt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:qf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wi(4194308,4,nx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return wi(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AC.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Kf,useDebugValue:Ih,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Kf(!1),t=e[0];return e=EC.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,o=qt();if(fe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Fe===null)throw Error(N(349));Or&30||Xv(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,qf(qv.bind(null,r,a,e),[e]),r.flags|=2048,es(9,Kv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=qt(),t=Fe.identifierPrefix;if(fe){var n=gn,r=pn;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Za++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NC={readContext:jt,useCallback:ox,useContext:jt,useEffect:Th,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ax,useReducer:Pc,useRef:Jv,useState:function(){return Pc(Ja)},useDebugValue:Ih,useDeferredValue:function(e){var t=Pt();return sx(t,je.memoizedState,e)},useTransition:function(){var e=Pc(Ja)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Yv,useSyncExternalStore:Gv,useId:ix,unstable_isNewReconciler:!1},MC={readContext:jt,useCallback:ox,useContext:jt,useEffect:Th,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ax,useReducer:Nc,useRef:Jv,useState:function(){return Nc(Ja)},useDebugValue:Ih,useDeferredValue:function(e){var t=Pt();return je===null?t.memoizedState=e:sx(t,je.memoizedState,e)},useTransition:function(){var e=Nc(Ja)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Yv,useSyncExternalStore:Gv,useId:ix,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?Wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),o=nr(e),a=yn(r,o);a.payload=t,n!=null&&(a.callback=n),t=er(e,a,o),t!==null&&(Bt(t,e,o,r),vi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),o=nr(e),a=yn(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=er(e,a,o),t!==null&&(Bt(t,e,o,r),vi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=nr(e),o=yn(n,r);o.tag=2,t!=null&&(o.callback=t),t=er(e,o,r),t!==null&&(Bt(t,e,r,n),vi(t,e,r))}};function Qf(e,t,n,r,o,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ya(n,r)||!Ya(o,a):!0}function dx(e,t,n){var r=!1,o=ar,a=t.contextType;return typeof a=="object"&&a!==null?a=jt(a):(o=lt(t)?Fr:Ke.current,r=t.contextTypes,a=(r=r!=null)?Vo(e,o):ar),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Zf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function Wu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},vh(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=jt(a):(a=lt(t)?Fr:Ke.current,o.context=Vo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(zu(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&jl.enqueueReplaceState(o,o.state,null),Qi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function zo(e,t){try{var n="",r=t;do n+=s1(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Mc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RC=typeof WeakMap=="function"?WeakMap:Map;function hx(e,t,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,ed=r),Hu(e,t)},n}function mx(e,t,n){n=yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Hu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hu(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Jf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RC;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=GC.bind(null,e,t,n),t.then(e,e))}function ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tp(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var DC=En.ReactCurrentOwner,at=!1;function Ze(e,t,n,r){t.child=e===null?zv(t,null,n,r):_o(t,e.child,n,r)}function np(e,t,n,r,o){n=n.render;var a=t.ref;return ko(t,o),r=Sh(e,t,n,r,a,o),n=Ch(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bn(e,t,o)):(fe&&n&&dh(t),t.flags|=1,Ze(e,t,r,o),t.child)}function rp(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Dh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,fx(e,t,a,r,o)):(e=Ci(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(s,r)&&e.ref===t.ref)return bn(e,t,o)}return t.flags|=1,e=rr(a,r),e.ref=t.ref,e.return=t,t.child=e}function fx(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Ya(a,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,bn(e,t,o)}return Uu(e,t,n,r,o)}function px(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ho,mt),mt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(ho,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,le(ho,mt),mt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,le(ho,mt),mt|=r;return Ze(e,t,o,n),t.child}function gx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uu(e,t,n,r,o){var a=lt(n)?Fr:Ke.current;return a=Vo(t,a),ko(t,o),n=Sh(e,t,n,r,a,o),r=Ch(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bn(e,t,o)):(fe&&r&&dh(t),t.flags|=1,Ze(e,t,n,o),t.child)}function op(e,t,n,r,o){if(lt(n)){var a=!0;Yi(t)}else a=!1;if(ko(t,o),t.stateNode===null)bi(e,t),dx(t,n,r),Wu(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=lt(n)?Fr:Ke.current,c=Vo(t,c));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||l!==c)&&Zf(t,s,r,c),_n=!1;var h=t.memoizedState;s.state=h,Qi(t,r,s,o),l=t.memoizedState,i!==r||h!==l||it.current||_n?(typeof u=="function"&&(zu(t,n,u,r),l=t.memoizedState),(i=_n||Qf(t,n,i,r,h,l,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Hv(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:Ft(t.type,i),s.props=c,m=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=lt(n)?Fr:Ke.current,l=Vo(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==m||h!==l)&&Zf(t,s,r,l),_n=!1,h=t.memoizedState,s.state=h,Qi(t,r,s,o);var x=t.memoizedState;i!==m||h!==x||it.current||_n?(typeof p=="function"&&(zu(t,n,p,r),x=t.memoizedState),(c=_n||Qf(t,n,c,r,h,x,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Yu(e,t,n,r,a,o)}function Yu(e,t,n,r,o,a){gx(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Wf(t,n,!1),bn(e,t,a);r=t.stateNode,DC.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=_o(t,e.child,null,a),t.child=_o(t,null,i,a)):Ze(e,t,i,a),t.memoizedState=r.state,o&&Wf(t,n,!0),t.child}function yx(e){var t=e.stateNode;t.pendingContext?zf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zf(e,t.context,!1),xh(e,t.containerInfo)}function ap(e,t,n,r,o){return $o(),mh(o),t.flags|=256,Ze(e,t,n,r),t.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function vx(e,t,n){var r=t.pendingProps,o=ge.current,a=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),le(ge,o&1),e===null)return _u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ml(s,r,0,null),e=Mr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xu(n),t.memoizedState=Gu,e):Eh(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return FC(e,t,s,r,i,o,n);if(a){a=r.fallback,s=t.mode,o=e.child,i=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?a=rr(i,a):(a=Mr(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Xu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Gu,r}return a=e.child,e=a.sibling,r=rr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eh(e,t){return t=Ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xs(e,t,n,r){return r!==null&&mh(r),_o(t,e.child,null,n),e=Eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FC(e,t,n,r,o,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Mc(Error(N(422))),Xs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Ml({mode:"visible",children:r.children},o,0,null),a=Mr(a,o,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&_o(t,e.child,null,s),t.child.memoizedState=Xu(s),t.memoizedState=Gu,a);if(!(t.mode&1))return Xs(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(N(419)),r=Mc(a,r,void 0),Xs(e,t,s,r)}if(i=(s&e.childLanes)!==0,at||i){if(r=Fe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,wn(e,o),Bt(r,e,o,-1))}return Rh(),r=Mc(Error(N(421))),Xs(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=XC.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,pt=Jn(o.nextSibling),gt=t,fe=!0,$t=null,e!==null&&(Ct[Tt++]=pn,Ct[Tt++]=gn,Ct[Tt++]=Lr,pn=e.id,gn=e.overflow,Lr=t),t=Eh(t,r.children),t.flags|=4096,t)}function sp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bu(e.return,t,n)}function Rc(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function xx(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ze(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sp(e,n,t);else if(e.tag===19)sp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ge,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Zi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rc(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rc(t,!0,n,null,a);break;case"together":Rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LC(e,t,n){switch(t.tag){case 3:yx(t),$o();break;case 5:Uv(t);break;case 1:lt(t.type)&&Yi(t);break;case 4:xh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;le(Ki,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?vx(e,t,n):(le(ge,ge.current&1),e=bn(e,t,n),e!==null?e.sibling:null);le(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xx(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,px(e,t,n)}return bn(e,t,n)}var wx,Ku,bx,kx;wx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ku=function(){};bx=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Cr(rn.current);var a=null;switch(n){case"input":o=yu(e,o),r=yu(e,r),a=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),a=[];break;case"textarea":o=wu(e,o),r=wu(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hi)}ku(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var i=o[c];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($a.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(i=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==i&&(l!=null||i!=null))if(c==="style")if(i){for(s in i)!i.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&i[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($a.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&he("scroll",e),a||i===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};kx=function(e,t,n,r){n!==r&&(t.flags|=4)};function ma(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OC(e,t,n){var r=t.pendingProps;switch(hh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return lt(t.type)&&Ui(),He(t),null;case 3:return r=t.stateNode,Bo(),me(it),me(Ke),bh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(rd($t),$t=null))),Ku(e,t),He(t),null;case 5:wh(t);var o=Cr(Qa.current);if(n=t.type,e!==null&&t.stateNode!=null)bx(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return He(t),null}if(e=Cr(rn.current),Ys(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[en]=t,r[Ka]=a,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(o=0;o<ba.length;o++)he(ba[o],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":pf(r,a),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},he("invalid",r);break;case"textarea":yf(r,a),he("invalid",r)}ku(n,a),o=null;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];s==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&Us(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Us(r.textContent,i,e),o=["children",""+i]):$a.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":Os(r),gf(r,a,!0);break;case"textarea":Os(r),vf(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[en]=t,e[Ka]=r,wx(e,t,!1,!1),t.stateNode=e;e:{switch(s=Su(n,r),n){case"dialog":he("cancel",e),he("close",e),o=r;break;case"iframe":case"object":case"embed":he("load",e),o=r;break;case"video":case"audio":for(o=0;o<ba.length;o++)he(ba[o],e);o=r;break;case"source":he("error",e),o=r;break;case"img":case"image":case"link":he("error",e),he("load",e),o=r;break;case"details":he("toggle",e),o=r;break;case"input":pf(e,r),o=yu(e,r),he("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),he("invalid",e);break;case"textarea":yf(e,r),o=wu(e,r),he("invalid",e);break;default:o=r}ku(n,o),i=o;for(a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="style"?Jy(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qy(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_a(e,l):typeof l=="number"&&_a(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($a.hasOwnProperty(a)?l!=null&&a==="onScroll"&&he("scroll",e):l!=null&&Qd(e,a,l,s))}switch(n){case"input":Os(e),gf(e,r,!1);break;case"textarea":Os(e),vf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+or(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?vo(e,!!r.multiple,a,!1):r.defaultValue!=null&&vo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)kx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Cr(Qa.current),Cr(rn.current),Ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(a=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return He(t),null;case 13:if(me(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&pt!==null&&t.mode&1&&!(t.flags&128))_v(),$o(),t.flags|=98560,a=!1;else if(a=Ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(N(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(N(317));a[en]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),a=!1}else $t!==null&&(rd($t),$t=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Pe===0&&(Pe=3):Rh())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Bo(),Ku(e,t),e===null&&Ga(t.stateNode.containerInfo),He(t),null;case 10:return gh(t.type._context),He(t),null;case 17:return lt(t.type)&&Ui(),He(t),null;case 19:if(me(ge),a=t.memoizedState,a===null)return He(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)ma(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Zi(e),s!==null){for(t.flags|=128,ma(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ge,ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ie()>Wo&&(t.flags|=128,r=!0,ma(a,!1),t.lanes=4194304)}else{if(!r)if(e=Zi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ma(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!fe)return He(t),null}else 2*Ie()-a.renderingStartTime>Wo&&n!==1073741824&&(t.flags|=128,r=!0,ma(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ie(),t.sibling=null,n=ge.current,le(ge,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Mh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function VC(e,t){switch(hh(t),t.tag){case 1:return lt(t.type)&&Ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bo(),me(it),me(Ke),bh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wh(t),null;case 13:if(me(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ge),null;case 4:return Bo(),null;case 10:return gh(t.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var Ks=!1,Ge=!1,$C=typeof WeakSet=="function"?WeakSet:Set,V=null;function uo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function qu(e,t,n){try{n()}catch(r){Se(e,t,r)}}var ip=!1;function _C(e,t){if(Ru=Bi,e=Ev(),uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,i=-1,l=-1,c=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||o!==0&&m.nodeType!==3||(i=s+o),m!==a||r!==0&&m.nodeType!==3||(l=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++c===o&&(i=s),h===a&&++u===r&&(l=s),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:e,selectionRange:n},Bi=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ft(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(k){Se(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=ip,ip=!1,x}function Pa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&qu(t,n,a)}o=o.next}while(o!==r)}}function Pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sx(e){var t=e.alternate;t!==null&&(e.alternate=null,Sx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Ka],delete t[Ou],delete t[kC],delete t[SC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cx(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hi));else if(r!==4&&(e=e.child,e!==null))for(Zu(e,t,n),e=e.sibling;e!==null;)Zu(e,t,n),e=e.sibling}function Ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ju(e,t,n),e=e.sibling;e!==null;)Ju(e,t,n),e=e.sibling}var Ve=null,Vt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Tx(e,t,n),n=n.sibling}function Tx(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(kl,n)}catch{}switch(n.tag){case 5:Ge||uo(n,t);case 6:var r=Ve,o=Vt;Ve=null,Rn(e,t,n),Ve=r,Vt=o,Ve!==null&&(Vt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Vt?(e=Ve,n=n.stateNode,e.nodeType===8?Ic(e.parentNode,n):e.nodeType===1&&Ic(e,n),Ha(e)):Ic(Ve,n.stateNode));break;case 4:r=Ve,o=Vt,Ve=n.stateNode.containerInfo,Vt=!0,Rn(e,t,n),Ve=r,Vt=o;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qu(n,t,s),o=o.next}while(o!==r)}Rn(e,t,n);break;case 1:if(!Ge&&(uo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Se(n,t,i)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,Rn(e,t,n),Ge=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $C),t.forEach(function(r){var o=KC.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Ve=i.stateNode,Vt=!1;break e;case 3:Ve=i.stateNode.containerInfo,Vt=!0;break e;case 4:Ve=i.stateNode.containerInfo,Vt=!0;break e}i=i.return}if(Ve===null)throw Error(N(160));Tx(a,s,o),Ve=null,Vt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Se(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ix(t,e),t=t.sibling}function Ix(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Kt(e),r&4){try{Pa(3,e,e.return),Pl(3,e)}catch(y){Se(e,e.return,y)}try{Pa(5,e,e.return)}catch(y){Se(e,e.return,y)}}break;case 1:Rt(t,e),Kt(e),r&512&&n!==null&&uo(n,n.return);break;case 5:if(Rt(t,e),Kt(e),r&512&&n!==null&&uo(n,n.return),e.flags&32){var o=e.stateNode;try{_a(o,"")}catch(y){Se(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Xy(o,a),Su(i,s);var c=Su(i,a);for(s=0;s<l.length;s+=2){var u=l[s],m=l[s+1];u==="style"?Jy(o,m):u==="dangerouslySetInnerHTML"?Qy(o,m):u==="children"?_a(o,m):Qd(o,u,m,c)}switch(i){case"input":vu(o,a);break;case"textarea":Ky(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?vo(o,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?vo(o,!!a.multiple,a.defaultValue,!0):vo(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ka]=a}catch(y){Se(e,e.return,y)}}break;case 6:if(Rt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(N(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(y){Se(e,e.return,y)}}break;case 3:if(Rt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(y){Se(e,e.return,y)}break;case 4:Rt(t,e),Kt(e);break;case 13:Rt(t,e),Kt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Ph=Ie())),r&4&&cp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(c=Ge)||u,Rt(t,e),Ge=c):Rt(t,e),Kt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(m=V=u;V!==null;){switch(h=V,p=h.child,h.tag){case 0:case 11:case 14:case 15:Pa(4,h,h.return);break;case 1:uo(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Se(r,n,y)}}break;case 5:uo(h,h.return);break;case 22:if(h.memoizedState!==null){dp(m);continue}}p!==null?(p.return=h,V=p):dp(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{o=m.stateNode,c?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=m.stateNode,l=m.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=Zy("display",s))}catch(y){Se(e,e.return,y)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(y){Se(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rt(t,e),Kt(e),r&4&&cp(e);break;case 21:break;default:Rt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cx(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(_a(o,""),r.flags&=-33);var a=lp(e);Ju(e,a,o);break;case 3:case 4:var s=r.stateNode.containerInfo,i=lp(e);Zu(e,i,s);break;default:throw Error(N(161))}}catch(l){Se(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BC(e,t,n){V=e,Ex(e)}function Ex(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var o=V,a=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Ks;if(!s){var i=o.alternate,l=i!==null&&i.memoizedState!==null||Ge;i=Ks;var c=Ge;if(Ks=s,(Ge=l)&&!c)for(V=o;V!==null;)s=V,l=s.child,s.tag===22&&s.memoizedState!==null?hp(o):l!==null?(l.return=s,V=l):hp(o);for(;a!==null;)V=a,Ex(a),a=a.sibling;V=o,Ks=i,Ge=c}up(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,V=a):up(e)}}function up(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xf(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xf(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Ha(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ge||t.flags&512&&Qu(t)}catch(h){Se(t,t.return,h)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function dp(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function hp(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pl(4,t)}catch(l){Se(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Se(t,o,l)}}var a=t.return;try{Qu(t)}catch(l){Se(t,a,l)}break;case 5:var s=t.return;try{Qu(t)}catch(l){Se(t,s,l)}}}catch(l){Se(t,t.return,l)}if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}var zC=Math.ceil,tl=En.ReactCurrentDispatcher,Ah=En.ReactCurrentOwner,Et=En.ReactCurrentBatchConfig,ee=0,Fe=null,Ee=null,_e=0,mt=0,ho=mr(0),Pe=0,ts=null,Vr=0,Nl=0,jh=0,Na=null,ot=null,Ph=0,Wo=1/0,mn=null,nl=!1,ed=null,tr=null,qs=!1,Kn=null,rl=0,Ma=0,td=null,ki=-1,Si=0;function tt(){return ee&6?Ie():ki!==-1?ki:ki=Ie()}function nr(e){return e.mode&1?ee&2&&_e!==0?_e&-_e:TC.transition!==null?(Si===0&&(Si=dv()),Si):(e=se,e!==0||(e=window.event,e=e===void 0?16:vv(e.type)),e):1}function Bt(e,t,n,r){if(50<Ma)throw Ma=0,td=null,Error(N(185));ys(e,n,r),(!(ee&2)||e!==Fe)&&(e===Fe&&(!(ee&2)&&(Nl|=n),Pe===4&&zn(e,_e)),ct(e,r),n===1&&ee===0&&!(t.mode&1)&&(Wo=Ie()+500,El&&fr()))}function ct(e,t){var n=e.callbackNode;T1(e,t);var r=_i(e,e===Fe?_e:0);if(r===0)n!==null&&bf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bf(n),t===1)e.tag===0?CC(mp.bind(null,e)):Ov(mp.bind(null,e)),wC(function(){!(ee&6)&&fr()}),n=null;else{switch(hv(r)){case 1:n=nh;break;case 4:n=cv;break;case 16:n=$i;break;case 536870912:n=uv;break;default:n=$i}n=Fx(n,Ax.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ax(e,t){if(ki=-1,Si=0,ee&6)throw Error(N(327));var n=e.callbackNode;if(So()&&e.callbackNode!==n)return null;var r=_i(e,e===Fe?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ol(e,r);else{t=r;var o=ee;ee|=2;var a=Px();(Fe!==e||_e!==t)&&(mn=null,Wo=Ie()+500,Nr(e,t));do try{UC();break}catch(i){jx(e,i)}while(!0);ph(),tl.current=a,ee=o,Ee!==null?t=0:(Fe=null,_e=0,t=Pe)}if(t!==0){if(t===2&&(o=Au(e),o!==0&&(r=o,t=nd(e,o))),t===1)throw n=ts,Nr(e,0),zn(e,r),ct(e,Ie()),n;if(t===6)zn(e,r);else{if(o=e.current.alternate,!(r&30)&&!WC(o)&&(t=ol(e,r),t===2&&(a=Au(e),a!==0&&(r=a,t=nd(e,a))),t===1))throw n=ts,Nr(e,0),zn(e,r),ct(e,Ie()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:xr(e,ot,mn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Ph+500-Ie(),10<t)){if(_i(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Lu(xr.bind(null,e,ot,mn),t);break}xr(e,ot,mn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-_t(r);a=1<<s,s=t[s],s>o&&(o=s),r&=~a}if(r=o,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zC(r/1960))-r,10<r){e.timeoutHandle=Lu(xr.bind(null,e,ot,mn),r);break}xr(e,ot,mn);break;case 5:xr(e,ot,mn);break;default:throw Error(N(329))}}}return ct(e,Ie()),e.callbackNode===n?Ax.bind(null,e):null}function nd(e,t){var n=Na;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=ol(e,t),e!==2&&(t=ot,ot=n,t!==null&&rd(t)),e}function rd(e){ot===null?ot=e:ot.push.apply(ot,e)}function WC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!zt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~jh,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function mp(e){if(ee&6)throw Error(N(327));So();var t=_i(e,0);if(!(t&1))return ct(e,Ie()),null;var n=ol(e,t);if(e.tag!==0&&n===2){var r=Au(e);r!==0&&(t=r,n=nd(e,r))}if(n===1)throw n=ts,Nr(e,0),zn(e,t),ct(e,Ie()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,ot,mn),ct(e,Ie()),null}function Nh(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(Wo=Ie()+500,El&&fr())}}function $r(e){Kn!==null&&Kn.tag===0&&!(ee&6)&&So();var t=ee;ee|=1;var n=Et.transition,r=se;try{if(Et.transition=null,se=1,e)return e()}finally{se=r,Et.transition=n,ee=t,!(ee&6)&&fr()}}function Mh(){mt=ho.current,me(ho)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xC(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(hh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ui();break;case 3:Bo(),me(it),me(Ke),bh();break;case 5:wh(r);break;case 4:Bo();break;case 13:me(ge);break;case 19:me(ge);break;case 10:gh(r.type._context);break;case 22:case 23:Mh()}n=n.return}if(Fe=e,Ee=e=rr(e.current,null),_e=mt=t,Pe=0,ts=null,jh=Nl=Vr=0,ot=Na=null,Sr!==null){for(t=0;t<Sr.length;t++)if(n=Sr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=o,r.next=s}n.pending=r}Sr=null}return e}function jx(e,t){do{var n=Ee;try{if(ph(),xi.current=el,Ji){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ji=!1}if(Or=0,Me=je=ve=null,ja=!1,Za=0,Ah.current=null,n===null||n.return===null){Pe=1,ts=t,Ee=null;break}e:{var a=e,s=n.return,i=n,l=t;if(t=_e,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=i,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ep(s);if(p!==null){p.flags&=-257,tp(p,s,i,a,t),p.mode&1&&Jf(a,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var y=new Set;y.add(l),t.updateQueue=y}else x.add(l);break e}else{if(!(t&1)){Jf(a,c,t),Rh();break e}l=Error(N(426))}}else if(fe&&i.mode&1){var b=ep(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tp(b,s,i,a,t),mh(zo(l,i));break e}}a=l=zo(l,i),Pe!==4&&(Pe=2),Na===null?Na=[a]:Na.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=hx(a,l,t);Gf(a,g);break e;case 1:i=l;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tr===null||!tr.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=mx(a,i,t);Gf(a,k);break e}}a=a.return}while(a!==null)}Mx(n)}catch(S){t=S,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Px(){var e=tl.current;return tl.current=el,e===null?el:e}function Rh(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Fe===null||!(Vr&268435455)&&!(Nl&268435455)||zn(Fe,_e)}function ol(e,t){var n=ee;ee|=2;var r=Px();(Fe!==e||_e!==t)&&(mn=null,Nr(e,t));do try{HC();break}catch(o){jx(e,o)}while(!0);if(ph(),ee=n,tl.current=r,Ee!==null)throw Error(N(261));return Fe=null,_e=0,Pe}function HC(){for(;Ee!==null;)Nx(Ee)}function UC(){for(;Ee!==null&&!g1();)Nx(Ee)}function Nx(e){var t=Dx(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Mx(e):Ee=t,Ah.current=null}function Mx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=VC(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ee=null;return}}else if(n=OC(n,t,mt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Pe===0&&(Pe=5)}function xr(e,t,n){var r=se,o=Et.transition;try{Et.transition=null,se=1,YC(e,t,n,r)}finally{Et.transition=o,se=r}return null}function YC(e,t,n,r){do So();while(Kn!==null);if(ee&6)throw Error(N(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(I1(e,a),e===Fe&&(Ee=Fe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qs||(qs=!0,Fx($i,function(){return So(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Et.transition,Et.transition=null;var s=se;se=1;var i=ee;ee|=4,Ah.current=null,_C(e,n),Ix(n,e),hC(Du),Bi=!!Ru,Du=Ru=null,e.current=n,BC(n),y1(),ee=i,se=s,Et.transition=a}else e.current=n;if(qs&&(qs=!1,Kn=e,rl=o),a=e.pendingLanes,a===0&&(tr=null),w1(n.stateNode),ct(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(nl)throw nl=!1,e=ed,ed=null,e;return rl&1&&e.tag!==0&&So(),a=e.pendingLanes,a&1?e===td?Ma++:(Ma=0,td=e):Ma=0,fr(),null}function So(){if(Kn!==null){var e=hv(rl),t=Et.transition,n=se;try{if(Et.transition=null,se=16>e?16:e,Kn===null)var r=!1;else{if(e=Kn,Kn=null,rl=0,ee&6)throw Error(N(331));var o=ee;for(ee|=4,V=e.current;V!==null;){var a=V,s=a.child;if(V.flags&16){var i=a.deletions;if(i!==null){for(var l=0;l<i.length;l++){var c=i[l];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Pa(8,u,a)}var m=u.child;if(m!==null)m.return=u,V=m;else for(;V!==null;){u=V;var h=u.sibling,p=u.return;if(Sx(u),u===c){V=null;break}if(h!==null){h.return=p,V=h;break}V=p}}}var x=a.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}V=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,V=s;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pa(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,V=g;break e}V=a.return}}var v=e.current;for(V=v;V!==null;){s=V;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,V=w;else e:for(s=v;V!==null;){if(i=V,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Pl(9,i)}}catch(S){Se(i,i.return,S)}if(i===s){V=null;break e}var k=i.sibling;if(k!==null){k.return=i.return,V=k;break e}V=i.return}}if(ee=o,fr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(kl,e)}catch{}r=!0}return r}finally{se=n,Et.transition=t}}return!1}function fp(e,t,n){t=zo(n,t),t=hx(e,t,1),e=er(e,t,1),t=tt(),e!==null&&(ys(e,1,t),ct(e,t))}function Se(e,t,n){if(e.tag===3)fp(e,e,n);else for(;t!==null;){if(t.tag===3){fp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=zo(n,e),e=mx(t,e,1),t=er(t,e,1),e=tt(),t!==null&&(ys(t,1,e),ct(t,e));break}}t=t.return}}function GC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(_e&n)===n&&(Pe===4||Pe===3&&(_e&130023424)===_e&&500>Ie()-Ph?Nr(e,0):jh|=n),ct(e,t)}function Rx(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var n=tt();e=wn(e,t),e!==null&&(ys(e,t,n),ct(e,n))}function XC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rx(e,n)}function KC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Rx(e,n)}var Dx;Dx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,LC(e,t,n);at=!!(e.flags&131072)}else at=!1,fe&&t.flags&1048576&&Vv(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bi(e,t),e=t.pendingProps;var o=Vo(t,Ke.current);ko(t,n),o=Sh(null,t,r,e,o,n);var a=Ch();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(a=!0,Yi(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,vh(t),o.updater=jl,t.stateNode=o,o._reactInternals=t,Wu(t,r,e,n),t=Yu(null,t,r,!0,a,n)):(t.tag=0,fe&&a&&dh(t),Ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=QC(r),e=Ft(r,e),o){case 0:t=Uu(null,t,r,e,n);break e;case 1:t=op(null,t,r,e,n);break e;case 11:t=np(null,t,r,e,n);break e;case 14:t=rp(null,t,r,Ft(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ft(r,o),Uu(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ft(r,o),op(e,t,r,o,n);case 3:e:{if(yx(t),e===null)throw Error(N(387));r=t.pendingProps,a=t.memoizedState,o=a.element,Hv(e,t),Qi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=zo(Error(N(423)),t),t=ap(e,t,r,n,o);break e}else if(r!==o){o=zo(Error(N(424)),t),t=ap(e,t,r,n,o);break e}else for(pt=Jn(t.stateNode.containerInfo.firstChild),gt=t,fe=!0,$t=null,n=zv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===o){t=bn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Uv(t),e===null&&_u(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,s=o.children,Fu(r,o)?s=null:a!==null&&Fu(r,a)&&(t.flags|=32),gx(e,t),Ze(e,t,s,n),t.child;case 6:return e===null&&_u(t),null;case 13:return vx(e,t,n);case 4:return xh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_o(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ft(r,o),np(e,t,r,o,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,le(Ki,r._currentValue),r._currentValue=s,a!==null)if(zt(a.value,s)){if(a.children===o.children&&!it.current){t=bn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){s=a.child;for(var l=i.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=yn(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Bu(a.return,n,t),i.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(N(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Bu(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ko(t,n),o=jt(o),r=r(o),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,o=Ft(r,t.pendingProps),o=Ft(r.type,o),rp(e,t,r,o,n);case 15:return fx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ft(r,o),bi(e,t),t.tag=1,lt(r)?(e=!0,Yi(t)):e=!1,ko(t,n),dx(t,r,o),Wu(t,r,o,n),Yu(null,t,r,!0,e,n);case 19:return xx(e,t,n);case 22:return px(e,t,n)}throw Error(N(156,t.tag))};function Fx(e,t){return lv(e,t)}function qC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new qC(e,t,n,r)}function Dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QC(e){if(typeof e=="function")return Dh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jd)return 11;if(e===eh)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ci(e,t,n,r,o,a){var s=2;if(r=e,typeof e=="function")Dh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case to:return Mr(n.children,o,a,t);case Zd:s=8,o|=8;break;case mu:return e=It(12,n,t,o|2),e.elementType=mu,e.lanes=a,e;case fu:return e=It(13,n,t,o),e.elementType=fu,e.lanes=a,e;case pu:return e=It(19,n,t,o),e.elementType=pu,e.lanes=a,e;case Uy:return Ml(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wy:s=10;break e;case Hy:s=9;break e;case Jd:s=11;break e;case eh:s=14;break e;case $n:s=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=It(s,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Mr(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function Ml(e,t,n,r){return e=It(22,e,r,t),e.elementType=Uy,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Fc(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZC(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pc(0),this.expirationTimes=pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fh(e,t,n,r,o,a,s,i,l){return e=new ZC(e,t,n,i,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=It(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(a),e}function JC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lx(e){if(!e)return ar;e=e._reactInternals;e:{if(Wr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(lt(n))return Lv(e,n,t)}return t}function Ox(e,t,n,r,o,a,s,i,l){return e=Fh(n,r,!0,e,o,a,s,i,l),e.context=Lx(null),n=e.current,r=tt(),o=nr(n),a=yn(r,o),a.callback=t??null,er(n,a,o),e.current.lanes=o,ys(e,o,r),ct(e,r),e}function Rl(e,t,n,r){var o=t.current,a=tt(),s=nr(o);return n=Lx(n),t.context===null?t.context=n:t.pendingContext=n,t=yn(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(o,t,s),e!==null&&(Bt(e,o,s,a),vi(e,o,s)),s}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lh(e,t){pp(e,t),(e=e.alternate)&&pp(e,t)}function eT(){return null}var Vx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oh(e){this._internalRoot=e}Dl.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Rl(e,t,null,null)};Dl.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){Rl(null,e,null,null)}),t[xn]=null}};function Dl(e){this._internalRoot=e}Dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&yv(e)}};function Vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gp(){}function tT(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var c=al(s);a.call(c)}}var s=Ox(t,r,e,0,null,!1,!1,"",gp);return e._reactRootContainer=s,e[xn]=s.current,Ga(e.nodeType===8?e.parentNode:e),$r(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var c=al(l);i.call(c)}}var l=Fh(e,0,!1,null,null,!1,!1,"",gp);return e._reactRootContainer=l,e[xn]=l.current,Ga(e.nodeType===8?e.parentNode:e),$r(function(){Rl(t,l,n,r)}),l}function Ll(e,t,n,r,o){var a=n._reactRootContainer;if(a){var s=a;if(typeof o=="function"){var i=o;o=function(){var l=al(s);i.call(l)}}Rl(t,s,e,o)}else s=tT(n,t,e,o,r);return al(s)}mv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wa(t.pendingLanes);n!==0&&(rh(t,n|1),ct(t,Ie()),!(ee&6)&&(Wo=Ie()+500,fr()))}break;case 13:$r(function(){var r=wn(e,1);if(r!==null){var o=tt();Bt(r,e,1,o)}}),Lh(e,1)}};oh=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=tt();Bt(t,e,134217728,n)}Lh(e,134217728)}};fv=function(e){if(e.tag===13){var t=nr(e),n=wn(e,t);if(n!==null){var r=tt();Bt(n,e,t,r)}Lh(e,t)}};pv=function(){return se};gv=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Tu=function(e,t,n){switch(t){case"input":if(vu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Il(r);if(!o)throw Error(N(90));Gy(r),vu(r,o)}}}break;case"textarea":Ky(e,n);break;case"select":t=n.value,t!=null&&vo(e,!!n.multiple,t,!1)}};nv=Nh;rv=$r;var nT={usingClientEntryPoint:!1,Events:[xs,ao,Il,ev,tv,Nh]},fa={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rT={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sv(e),e===null?null:e.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||eT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{kl=Qs.inject(rT),nn=Qs}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nT;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(t))throw Error(N(200));return JC(e,t,null,n)};xt.createRoot=function(e,t){if(!Vh(e))throw Error(N(299));var n=!1,r="",o=Vx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Fh(e,1,!1,null,null,n,!1,r,o),e[xn]=t.current,Ga(e.nodeType===8?e.parentNode:e),new Oh(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=sv(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return $r(e)};xt.hydrate=function(e,t,n){if(!Fl(t))throw Error(N(200));return Ll(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Vh(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",s=Vx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ox(t,null,e,1,n??null,o,!1,a,s),e[xn]=t.current,Ga(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Dl(t)};xt.render=function(e,t,n){if(!Fl(t))throw Error(N(200));return Ll(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(N(40));return e._reactRootContainer?($r(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};xt.unstable_batchedUpdates=Nh;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fl(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Ll(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function $x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($x)}catch(e){console.error(e)}}$x(),$y.exports=xt;var bs=$y.exports;const _x=Ey(bs);var Bx,yp=bs;Bx=yp.createRoot,yp.hydrateRoot;const zx={xavier:{id:"xavier",name:"Xavier",role:"Solvitor",description:"The engineering and technological bedrock of the team.",affection:0,avatar:"/assets/characters/xavier-neutral.png",color:"#4CC2FF",temperament:"Supportive, Tech-savvy, Empathetic"},navarre:{id:"navarre",name:"Navarre",role:"Bellfox",description:"A natural networker with a flirtatious and persuasive style.",affection:0,avatar:"/assets/characters/navarre-neutral.png",color:"#FFB347",temperament:"Charismatic, Persuasive, Gregarious"},etta:{id:"etta",name:"Etta",role:"Diva",description:"Confident to the point of arrogance, with a narrow focus on goals.",affection:0,avatar:"/assets/characters/etta-neutral.png",color:"#FF5E5B",temperament:"Ambitious, Assertive, Results-oriented"},senara:{id:"senara",name:"Senara",role:"Gnarus",description:"The enigmatic intellectual, a philosopher that bridges knowledge with inquiry.",affection:0,avatar:"/assets/characters/senara-neutral.png",color:"#9C89FF",temperament:"Intellectual, Reserved, Curious"}},Ti={intro:{id:"intro",background:"cybaton-office",dialogue:[{character:"narrator",text:"The gleaming Cybaton tower stands as a testament to technological innovation, its glass and steel structure reaching into the clear blue sky of downtown."},{character:"narrator",text:"Inside, the orientation for the new cohort of city administrators is about to begin."},{character:"maven",text:"I can't believe I'm actually here. How did I even pass the assessment? My results were so...",mood:"neutral"},{character:"narrator",text:"A gentle chime signals the start of the orientation session. The Chief HR Officer, Dr. Elara Voss, steps onto the stage."},{character:"narrator",text:"Dr. Voss: Welcome to Cybaton's City Administration Program! You represent the brightest minds, chosen to shape our future."},{character:"narrator",text:"The room buzzes with excitement. You scan the crowd, wondering who you'll be teamed with."},{character:"narrator",text:"Dr. Voss: When I call your name, please join your assigned team coordinator."},{character:"narrator",text:"Names are called, groups form. You wait anxiously..."},{character:"narrator",text:"Dr. Voss: And finally, for Stonewich deployment: Xavier Chen, Navarre Ellis, Etta Montgomery, Senara Kapoor... and Maven Gray."},{character:"maven",text:"Five? That's unheard of. Teams are always four...",mood:"shocked"}],nextSceneId:"team-meeting"}},oT={"team-meeting":{id:"team-meeting",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"You gather in a sleek meeting room with your new teammates. The air is thick with anticipation and uncertainty."},{character:"xavier",text:"Hey everyone! I'm Xavier. Looks like we'll be working together in Stonewich.",mood:"neutral"},{character:"navarre",text:"Navarre Ellis. Charmed to meet you all. Stonewich, huh? Old tech, but classic vibes.",mood:"happy"},{character:"etta",text:"Etta Montgomery. I expected a more cutting-edge assignment. Stonewich wasn't one I had prepared a plan for. There's so much to do.",mood:"neutral"},{character:"senara",text:"Senara. I look forward to our collaboration.",mood:"neutral"},{character:"narrator",text:"All eyes turn to you, the unexpected fifth member."}],choices:[{text:"Hi, I'm Maven. I'm excited to work with you all.",affectionChanges:{xavier:.5,navarre:1,etta:.5,senara:0},nextSceneId:"team-meeting-response-friendly"},{text:"Maven Gray. I'm not sure why I'm here either, but I'll do my best.",affectionChanges:{xavier:1,navarre:0,etta:0,senara:.5},nextSceneId:"team-meeting-response-honest"},{text:"Maven. My assessment results were... unconventional. That's probably why I'm the fifth wheel.",affectionChanges:{xavier:-.5,navarre:-1,etta:-1,senara:1},nextSceneId:"team-meeting-response-self-deprecating"}]},"team-meeting-response-friendly":{id:"team-meeting-response-friendly",background:"cybaton-meeting-room",dialogue:[{character:"xavier",text:"Five minds are better than four, right?",mood:"happy"},{character:"navarre",text:"Absolutely! The more the merrier. And speaking of merry, we should all grab drinks after this to celebrate our team formation.",mood:"happy"},{character:"etta",text:"Let's stay focused. We should review the Stonewich briefing materials first.",mood:"neutral"},{character:"senara",text:"I've already studied them. The city's systems are stable but outdated.",mood:"neutral"},{character:"maven",text:"Already? How is that possible? We were just notified of the assignment moments ago.",mood:"surprised"},{character:"xavier",text:"He's probably like me. I have a wearable Cybaton Oracle interface that's been feeding me all the Stonewich systems information and diagnostics as soon as I heard it.",mood:"neutral"},{character:"etta",text:"That's promising to hear. Wait...did you say your name was Navarre Ellis? The media darling?",mood:"surprised"},{character:"senara",text:"A perfect fit for the team's Bellfox.",mood:"neutral"},{character:"navarre",text:"Seems my reputation proceeds me, like always.",mood:"happy"},{character:"xavier",text:"I know I'm a natural Solvitor. Ready to design, build and fix tech anytime.",mood:"neutral"},{character:"maven",text:"Does everyone know their role already?",mood:"neutral"},{character:"senara",text:"Of course. It was determined as part of our assessment results. I'll be your Gnarus, your guide to knowledge mundane and arcane.",mood:"neutral"},{character:"maven",text:"I see...",mood:"neutral"},{character:"narrator",text:"Your anxiety starts to spiral since your results were inconclusive. You start to wonder whether you should actually be here. What if it's all a mistake?"},{character:"etta",text:"Just great. I see a fifth will be adding a lot more chatter if nothing else. My role here is obvious, isn't it?",mood:"neutral"},{character:"narrator",text:"In the traditional team design, there were always four roles - Bellfox, Diva, Gnarus, and Solvitor."},{character:"narrator",text:"If Navarre was the Bellfox, Xavier the Solvitor, and Senara the Gnarus, then Etta..."},{character:"etta",text:"Diva.",mood:"angry"},{character:"narrator",text:"The uncertainty around your role feels like it may trigger a panic attack. You try not to be obvious but can't help wondering if you have time to start a calming ritual on your bionic to help calm down."},{character:"navarre",text:"Just relax! You're part of the team now.",mood:"laughing"}],nextSceneId:"briefing"},"team-meeting-response-honest":{id:"team-meeting-response-honest",background:"cybaton-meeting-room",dialogue:[{character:"xavier",text:"Hey, we're all figuring things out. I'm sure there's a good reason you're with us.",mood:"happy"},{character:"etta",text:"Hmm, interesting. Five-person teams aren't standard protocol, for good reason in terms of efficiency.",mood:"neutral"},{character:"senara",text:"They're testing something new. Your profile showed potential that fits with their hypothesis.",mood:"neutral"},{character:"maven",text:"How do you know that? How do you know what's on my profile?",mood:"surprised"},{character:"xavier",text:"Any of us can access the team profiles now that we've been assigned. Don't you have a wearable too?",mood:"surprised"},{character:"maven",text:"Yes, but I haven't used it that way.",mood:"neutral"},{character:"navarre",text:"Well, whatever the reason, welcome aboard! We'll make it work.",mood:"neutral"},{character:"etta",text:"Wait...did you say your name was Navarre Ellis? The media darling?",mood:"surprised"},{character:"senara",text:"A perfect fit for the team's Bellfox.",mood:"neutral"},{character:"navarre",text:"Seems my reputation proceeds me, like always.",mood:"happy"},{character:"xavier",text:"I know I'm a natural Solvitor. Ready to design, build and fix tech anytime.",mood:"neutral"},{character:"maven",text:"Does everyone know their role already?",mood:"surprised"},{character:"senara",text:"Of course. It was determined as part of our assessment results. I'll be your Gnarus, your guide to knowledge mundane and arcane.",mood:"neutral"},{character:"maven",text:"I see...",mood:"neutral"},{character:"narrator",text:"Your anxiety starts to spiral since your results were inconclusive. You start to wonder whether you should actually be here. What if it's all a mistake?"},{character:"etta",text:"Just great. I see a fifth will be adding a lot more chatter if nothing else. My role here is obvious, isn't it?",mood:"neutral"},{character:"narrator",text:"In the traditional team design, there were always four roles - Bellfox, Diva, Gnarus, and Solvitor."},{character:"narrator",text:"If Navarre was the Bellfox, Xavier the Solvitor, and Senara the Gnarus, then Etta..."},{character:"etta",text:"Diva.",mood:"angry"},{character:"narrator",text:"The uncertainty around your role feels like it may trigger a panic attack. You try not to be obvious as you wonder if you have time to start a calming ritual on your bionic."},{character:"xavier",text:"Oh! Is that one of the new bionic harmonizers? I modified mine so that it'll cycle depending on biometrics without the need for a trigger. I can help you with that sometime, if you want.",mood:"happy"}],nextSceneId:"briefing"},"team-meeting-response-self-deprecating":{id:"team-meeting-response-self-deprecating",background:"cybaton-meeting-room",dialogue:[{character:"etta",text:"Great. An experimental addition. Let's hope it doesn't compromise our efficiency.",mood:"angry"},{character:"xavier",text:"Come on, Etta. Every team has unique dynamics. I'm sure Maven brings a valuable perspective.",mood:"neutral"},{character:"navarre",text:"Unconventional isn't always bad. Keeps things interesting.",mood:"neutral"},{character:"senara",text:"Inconclusive results on the assessment often indicate complex thinking patterns. That could be beneficial.",mood:"neutral"},{character:"etta",text:"Or just poor clarity of thinking. Wait...did you say your name was Navarre Ellis? The media darling?",mood:"surprised"},{character:"senara",text:"A perfect fit for the team's Bellfox.",mood:"neutral"},{character:"navarre",text:"Seems my reputation proceeds me, like always.",mood:"happy"},{character:"xavier",text:"I know I'm a natural Solvitor. Ready to design, build and fix tech anytime.",mood:"neutral"},{character:"maven",text:"Does everyone know their role already?",mood:"surprised"},{character:"senara",text:"Of course. It was determined as part of our assessment results. I'll be your Gnarus, your guide to knowledge mundane and arcane.",mood:"neutral"},{character:"maven",text:"I see...",mood:"neutral"},{character:"narrator",text:"Your anxiety starts to spiral since your results were inconclusive. You start to wonder whether you should actually be here. What if it's all a mistake?"},{character:"etta",text:"Just great. I see a fifth will be adding a lot more chatter if nothing else. My role here is obvious, isn't it?",mood:"neutral"},{character:"narrator",text:"In the traditional team design, there were always four roles - Bellfox, Diva, Gnarus, and Solvitor."},{character:"narrator",text:"If Navarre was the Bellfox, Xavier the Solvitor, and Senara the Gnarus, then Etta..."},{character:"etta",text:"Diva. D-I-V-A!",mood:"angry"},{character:"narrator",text:"The uncertainty around your role feels like it may trigger a panic attack. Is there time to start a calming ritual on your bionic?"},{character:"senara",text:"Dr. Voss will be here in a moment...",mood:"neutral"},{character:"maven",text:"Do all Gnarus read minds too?",mood:"surprised"},{character:"narrator",text:"Senara merely looked back at you with an enigmatic smile."}],nextSceneId:"briefing"}},aT={briefing:{id:"briefing",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"A holographic display activates in the center of the table, showing a detailed map of Stonewich city."},{character:"narrator",text:"Dr. Voss enters the room with a tablet in hand."},{character:"narrator",text:"Dr. Voss: Stonewich is one of our oldest partnerships. Thirty years into a ninety-nine-year contract. The technology is stable but aging."},{character:"narrator",text:"The hologram zooms in on various districts, highlighting infrastructure systems."},{character:"narrator",text:"Dr. Voss: Your team has been assigned there because each of you brings something unique to the table."},{character:"narrator",text:"She looks directly at you."},{character:"narrator",text:"Dr. Voss: Especially you, Maven. Your assessment showed remarkable adaptability across multiple domains, though not mastery in any single one."},{character:"maven",text:"So that's why... I'm the wild card.",mood:"surprised"},{character:"narrator",text:"Dr. Voss nods with a smile."},{character:"narrator",text:"Dr. Voss: You leave for Stonewich tomorrow morning. I suggest you all get to know each other better before then."},{character:"narrator",text:"You feel conflicted. You're reassured that it's not a mistake, but you're still uncertain what you can bring beyond what the others do."},{character:"narrator",text:"You decide that this will just be something you'll need to figure out for yourself as you go and decide to be proactive."}],choices:[{text:"Suggest going out for coffee as a team",affectionChanges:{xavier:.5,navarre:2,etta:-1,senara:-.5},nextSceneId:"coffee-shop"},{text:"Propose reviewing the Stonewich files together",affectionChanges:{xavier:0,navarre:-1,etta:2,senara:0},nextSceneId:"study-session"},{text:"Ask if anyone wants to visit the Cybaton R&D floor",affectionChanges:{xavier:2,navarre:0,etta:0,senara:1},nextSceneId:"rd-tour"}]}},sT={"coffee-shop":{id:"coffee-shop",background:"city-cafe",dialogue:[{character:"narrator",text:"You all head to a small cafe near Cybaton headquarters. The atmosphere is relaxed, a welcome contrast to the corporate environment."},{character:"navarre",text:"Great suggestion, Maven! Nothing like coffee and conversation to build team chemistry.",mood:"happy"},{character:"xavier",text:"This place has the best pastries too. Anyone want to split a cinnamon roll?",mood:"happy"},{character:"etta",text:"I suppose some informal team building is to be expected. I'll have an espresso.",mood:"neutral"},{character:"senara",text:"Tea for me.",mood:"neutral"},{character:"maven",text:"I must admit that I am relieved to get an assignment and know who my team will be.",mood:"happy"},{character:"navarre",text:"Let's grab this center table.",mood:"happy"},{character:"narrator",text:"Your team no sooner sits down, than several patrons and the barista walk over to personally greet Navarre."},{character:"navarre",text:"It's good to see all of you too. Today I am here with my new Cybaton team. We'll be heading for Stonewich tomorrow.",mood:"happy"},{character:"narrator",text:"The people congratulate the team and quietly dissipate, leaving you and the others free to get to know one another."},{character:"narrator",text:"The conversation flows easily, and you learn more about your teammates. Xavier is passionate about tech ethics, Navarre has connections everywhere, Etta is intensely ambitious, and Senara is brilliantly analytical but private."},{character:"narrator",text:"By the end of the evening, you feel more connected to the team and ready for tomorrow's departure. You feel Navarre's smile has gotten friendlier when you look his way."}],nextSceneId:"departure-lobby"}},$h={"study-session":{id:"study-session",background:"cybaton-library",dialogue:[{character:"narrator",text:"You all gather in the Cybaton research library. Digital displays and holographic projections illuminate the space."},{character:"etta",text:"Excellent choice, Maven. Let's make sure we're fully prepared for the Stonewich assignment.",mood:"happy"},{character:"senara",text:"I've already compiled notes to indicate status and immediate actions. Integration points and forecasted bottlenecks should be a focus. All relevant details have been shared in the team Oracle.",mood:"neutral"},{character:"xavier",text:"That's great, Senara. I found some interesting community feedback on Stonewich's tech. The residents actually seem to like some of the older systems.",mood:"neutral"},{character:"navarre",text:"Politics are crucial too. Stonewich has a strong community council and thriving commerce leadership that we'll need to work with.",mood:"neutral"},{character:"etta",text:"Let's determine a strong plan with prioritized actions that integrate our efforts. Your notes are exceptionally detailed, Senara. Excellent!",mood:"neutral"},{character:"etta",text:"Xavier, you'll need to dig deeper and assess latent demand for self-directed services that Cybaton offers.",mood:"neutral"},{character:"xavier",text:"I'd love to work with some of the latest Cybaton R&D, so I'll try some pilot programs to test out the local appetite for the new tech services.",mood:"neutral"},{character:"navarre",text:"I've got contacts at the Council and the Commerce Guild. Don't worry, Etta. We know our jobs.",mood:"neutral"},{character:"narrator",text:"The team works late into the evening, analyzing Stonewich's systems and history. You develop a deeper understanding of the city and its needs, thanks mostly to Senara who seemed to know everything about Stonewich."},{character:"narrator",text:"By the time you leave, you feel well-prepared for tomorrow's departure, and you notice approving glances from Etta."}],nextSceneId:"departure-lobby"}},iT={"rd-tour":{id:"rd-tour",background:"cybaton-lab",dialogue:[{character:"narrator",text:"You suggest visiting Cybaton's R&D floor, and Xavier's eyes light up immediately."},{character:"xavier",text:"That's a brilliant idea! I can show you some of the prototypes we might be testing in Stonewich.",mood:"happy"},{character:"navarre",text:"Sure, why not? Staying informed of the latest trends in any field can be helpful.",mood:"neutral"},{character:"etta",text:"As long as it's relevant to our assignment, I have no objection.",mood:"neutral"},{character:"senara",text:"The latest status reports on some of the projects should be more impactful with physical interaction and visual inspection.",mood:"neutral"},{character:"narrator",text:"Xavier leads the tour enthusiastically, showing off everything from maintenance drones to community engagement interfaces."},{character:"xavier",text:"And this is my favorite project - an AI system that helps predict infrastructure needs before problems arise. It started simply as drone surveillance but expanded to so much more.",mood:"happy"},{character:"maven",text:"This is amazing, Xavier. You really know your stuff.",mood:"happy"},{character:"narrator",text:"The evening flies by with fascinating technology demonstrations. You notice Xavier beaming at your interest, while Senara makes quiet but insightful observations."},{character:"narrator",text:"By the end of the tour, you feel more excited about the possibilities in Stonewich, and you've definitely strengthened your connection with Xavier."}],nextSceneId:"departure-lobby"}},od={...oT,...aT,...sT,...$h,...iT},Wx={"departure-lobby":{id:"departure-lobby",background:"cybaton-lobby",dialogue:[{character:"narrator",text:"The next morning, your team gathers in the grand lobby of Cybaton headquarters, luggage in tow and ready for departure."},{character:"narrator",text:"Dr. Elara Voss stands by the entrance, clipboard in hand, checking off final preparations."},{character:"narrator",text:"Dr. Voss: Team Stonewich, I see you're all here on time. Excellent start."},{character:"etta",text:"I've triple-checked our itinerary. The transit should take approximately three hours, accounting for the morning traffic patterns.",mood:"neutral"},{character:"narrator",text:"Dr. Voss nods approvingly, making a note on her clipboard."},{character:"narrator",text:"Dr. Voss: Remember, you represent Cybaton now. Stonewich has some of our oldest infrastructure integrations, so expect both challenges and opportunities."},{character:"xavier",text:"We won't let you down, Dr. Voss. The team's prepared for whatever comes our way.",mood:"happy"},{character:"senara",text:"The historical data suggests Stonewich has an excellent balance of traditional values and technological adoption.",mood:"neutral"},{character:"navarre",text:"And I hear their seasonal festivals are legendary! Perfect opportunities to engage with the community.",mood:"happy"},{character:"maven",text:"I'm a little nervous. I will contribute however I can.",mood:"embarrassed"},{character:"narrator",text:"Dr. Voss: An interesting mix of personalities. That's why you were selected. Your Cybaton transport is waiting outside."},{character:"narrator",text:"Your team picks up their luggage and follows Dr. Voss through the automatic doors to the waiting shuttle."},{character:"narrator",text:"Dr. Voss: I'll be monitoring your progress remotely. Quarterly reports are expected in-person. Good luck."},{character:"narrator",text:"With a formal nod, she steps back as your team boards the sleek transport pod that will take you to Stonewich."}],nextSceneId:"departure-journey"},"departure-journey":{id:"departure-journey",background:"cybaton-shuttle",dialogue:[{character:"narrator",text:"The transport pod glides smoothly through the city and onto the main transit route to Stonewich."},{character:"narrator",text:"Through the panoramic windows, you watch as gleaming skyscrapers give way to rolling countryside."},{character:"xavier",text:"So, what made everyone join the Cybaton administrator program?",mood:"neutral"},{character:"etta",text:"The challenge, of course. Cybaton manages 68% of urban infrastructure worldwide. It's where the real impact happens.",mood:"neutral"},{character:"navarre",text:"The people! Being at the intersection of technology and community is where the most interesting conversations happen.",mood:"happy"},{character:"senara",text:"Cities generate fascinating patterns that few get to analyze at this level of access.",mood:"neutral"},{character:"maven",text:"I... I guess I want to make a difference? Sorry, that sounds so generic.",mood:"embarrassed"},{character:"xavier",text:"Not at all. That's why we're all here in different ways.",mood:"happy"},{character:"navarre",text:"Etta, you aren't here on behalf of your father or Watanabe Industries?",mood:"neutral"},{character:"etta",text:"No, of course not, although I can understand why you'd think that. I'd rather not talk about it.",mood:"neutral"},{character:"narrator",text:"The conversation flows easily as the kilometers pass. Before you know it, the transport pod is announcing your arrival."}],nextSceneId:"departure-morning"},"departure-morning":{id:"departure-morning",background:"stonewich-shuttle",dialogue:[{character:"xavier",text:"Oh, hey! Look out the window. We're almost there.",mood:"neutral"},{character:"senara",text:"Arriving in a new city is always fascinating. So much potential waiting to be unlocked.",mood:"neutral"},{character:"maven",text:"It's a little overwhelming.",mood:"neutral"},{character:"etta",text:"We should head to our central office first. That's where we'll be based for most of our work.",mood:"neutral"},{character:"narrator",text:"As your team settles into Stonewich, you begin your new role as Cybaton administrators."},{character:"narrator",text:"The city seems to welcome you, but there are challenges ahead that will test your adaptability."}],nextSceneId:"season-transition-spring"}};console.log("Intro scenes:",Object.keys(Ti));console.log("Team meeting scenes:",Object.keys(od));console.log("Departure scenes:",Object.keys(Wx));console.log("Bonding scenes:",Object.keys($h));const Hx={...Ti,...od,...Wx,...$h,"prologue-intro":Ti.intro,intro:Ti.intro,"team-meeting":od["team-meeting"]};console.log("Available prologue scenes:",Object.keys(Hx));const lT={"spring-intro":{id:"spring-intro",background:"stonewich-office",dialogue:[{character:"narrator",text:"As the weather warms, Stonewich prepares for the Spring Blooms & Brooms Festival, a time of renewal and community beautification efforts."},{character:"narrator",text:"You find Xavier sitting in the office working on a tablet."},{character:"xavier",text:"Good morning!",mood:"happy"},{character:"maven",text:"Good morning. Busy day?",mood:"neutral"},{character:"xavier",text:"Yep! The Spring Blooms & Brooms festival is coming up fast, and there's a lot to do.",mood:"neutral"},{character:"navarre",text:"Morning! Did someone mention the festival? We should all definitely get involved. What a great way to make connections.",mood:"neutral"},{character:"senara",text:"Oh, hello. Are we meeting on the festival now? This room isn't usually so hectic this early. Where's Etta?",mood:"neutral"},{character:"maven",text:"What? Oh, no. We were just chatting.",mood:"neutral"},{character:"etta",text:"Did someone call for me? I've been working on these vendor arrangements since dawn for the local art fair component of the spring festival.",mood:"neutral"},{character:"maven",text:"No, sorry. We were just chatting.",mood:"neutral"},{character:"etta",text:"All of you? Typical. Look, the spring festival planning is very demanding. Rather than chatting, why don't you pick someone to shadow and help them out, Maven?",mood:"angry"},{character:"navarre",text:"No need to get short with us because we're connecting here, but it's a great idea. Maven, who would you like to shadow?",mood:"neutral"},{character:"maven",text:"Maybe I can spend some time with each of you? I think...",mood:"neutral"}],nextSceneId:"spring-selection"}},cT={"spring-planning":{id:"spring-planning",background:"stonewich-office",dialogue:[{character:"narrator",text:"A few days later, with the Spring festival approaching, the team gathers to finalize the plans."},{character:"etta",text:"Let's review our preparations for the Spring Blooms & Brooms festival. I'm happy to say we're right on schedule and on budget.",mood:"happy"},{character:"xavier",text:"The city systems are all set. I've programmed the cleaning drones to assist with the community cleanup events.",mood:"happy"},{character:"navarre",text:"I've leveraged my connections to create quite a buzz. Fashion designers are creating festival-themed collections, media outlets are covering us, and several celebrities have confirmed attendance.",mood:"happy"},{character:"senara",text:"I've developed an AI assistant for festival attendees. It offers historical anecdotes about the festival, a comprehensive flower identification database, and detailed planting guidance.",mood:"neutral"},{character:"etta",text:"Excellent work, everyone. Maven, I'd like you to experience some of these activities firsthand tomorrow. Your perspective will be valuable for our team's assessment.",mood:"happy"},{character:"maven",text:"Of course, I'd be happy to try them out.",mood:"happy"},{character:"etta",text:"Good. It's important that we all understand the public experience of our initiatives.",mood:"neutral"}],nextSceneId:"spring-festival-activities"},"spring-festival-activities":{id:"spring-festival-activities",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"The day of the Spring Blooms & Brooms festival arrives. The city is vibrant with activity as residents participate in various events."},{character:"maven",text:"There's so much happening today. I should try out some of these activities to report back to the team.",mood:"happy"}]},"spring-festival-completion":{id:"spring-festival-completion",background:"stonewich-office",dialogue:[{character:"narrator",text:"As the Spring Blooms & Brooms festival concludes, the team gathers to discuss the outcomes."},{character:"etta",text:"The festival was a tremendous success. Our community engagement metrics exceeded projections.",mood:"happy"},{character:"xavier",text:"The cleaning drones performed flawlessly. We've collected data that will help optimize city maintenance protocols.",mood:"happy"},{character:"navarre",text:"The social media buzz was incredible. Stonewich is trending across multiple platforms, and I've already got inquiries about future collaborations.",mood:"happy"},{character:"senara",text:"The AI assistant logged over ten thousand interactions. People were particularly interested in the historical context of the festival traditions.",mood:"neutral"},{character:"maven",text:"It was amazing to see everything come together. The residents seemed genuinely happy.",mood:"happy"},{character:"etta",text:"Dr. Voss will be pleased. Let's prepare our report for tomorrow's meeting at Cybaton headquarters.",mood:"neutral"}],nextSceneId:"spring-conclusion-meeting"},"spring-conclusion-meeting":{id:"spring-conclusion-meeting",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"Back at Cybaton headquarters, the team presents their spring festival results to Dr. Voss."},{character:"etta",text:"As you can see from our metrics, Dr. Voss, the Spring Blooms & Brooms festival was executed perfectly. All objectives were met or exceeded.",mood:"neutral"},{character:"xavier",text:"Our technological implementations functioned at 98.7% efficiency, and we've gathered valuable data for future improvements.",mood:"happy"},{character:"navarre",text:"The social and economic impact has been substantial. We've secured three new corporate partnerships for the city as a direct result of the festival connections.",mood:"happy"},{character:"senara",text:"Public knowledge retention about Stonewich's history increased by 42% according to our exit surveys. The educational components were particularly successful.",mood:"neutral"},{character:"maven",text:"The community really came together. There was a genuine sense of civic pride.",mood:"happy"},{character:"narrator",text:"Dr. Voss listens carefully, occasionally making notes as the team presents."},{character:"narrator",text:"After the presentation concludes, Dr. Voss stands and addresses the team."},{character:"narrator",text:"Dr. Voss is a commanding presence with silver-streaked hair and piercing eyes that seem to evaluate everything.",mood:"neutral"},{character:"narrator",text:"Dr. Voss speaks with a measured tone, each word precisely chosen."},{character:"narrator",text:`"I'm impressed with what you've accomplished. Each of you has demonstrated excellence in your respective domains."`},{character:"narrator",text:'"This is a promising start, but merely the beginning of what Stonewich requires."'},{character:"narrator",text:"Dr. Voss paces slowly before continuing."},{character:"narrator",text:`"Festivals and community events are important, yes. But beneath Stonewich's charming exterior lie systemic issues that will demand more from you."`},{character:"narrator",text:'"In the coming seasons, I expect you to move beyond executing pleasant civic functions and begin addressing the core challenges facing Stonewich."'},{character:"narrator",text:`"When you truly begin to function as a unified team rather than exceptional individuals, you'll become a model for city administration that others will follow."`},{character:"narrator",text:"Dr. Voss nods firmly, a clear dismissal."},{character:"narrator",text:"As the team files out, the weight of Dr. Voss's expectations settles on their shoulders. There's clearly much more at stake than seasonal festivals."}],nextSceneId:"spring-conclusion"}},uT={"spring-brooms-away-intro":{id:"spring-brooms-away-intro",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"You join Xavier and a group of volunteers for the community cleanup portion of the festival."},{character:"xavier",text:"Thanks for joining the cleanup crew, Maven! We're using a mix of traditional methods and my cleaning drones.",mood:"happy"},{character:"xavier",text:"I've created a system to coordinate our efforts. We need to efficiently identify and clean problem spots around the plaza.",mood:"neutral"},{character:"maven",text:"How can I help?",mood:"neutral"},{character:"xavier",text:"You can operate the drone scanner interface! It'll show you where the problem spots are, and you can direct the cleanup teams.",mood:"happy"},{character:"narrator",text:"Xavier hands you a tablet with the drone control interface."},{character:"narrator",text:"GAME INSTRUCTIONS: In 'Brooms Away', you'll need to scan the area for litter and direct the drones to clean it up."}],nextSceneId:"spring-brooms-away-start"},"spring-brooms-away-start":{id:"spring-brooms-away-start",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"You prepare to coordinate the cleanup effort using Xavier's drone interface."}],nextSceneId:"spring-brooms-away-complete"},"spring-brooms-away-complete":{id:"spring-brooms-away-complete",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"With your coordination, the cleanup teams make excellent progress around the plaza."},{character:"xavier",text:"That was amazing work, Maven! The system worked perfectly with your guidance.",mood:"happy"},{character:"maven",text:"It was actually pretty fun. Your drone interface made it easy to spot where help was needed.",mood:"happy"},{character:"xavier",text:"I'm glad you enjoyed it! This kind of technology-assisted community effort is exactly what Stonewich needs.",mood:"happy"},{character:"narrator",text:"By mid-afternoon, the plaza is spotless and ready for the next phase of the festival."}],nextSceneId:"spring-festival-midway"},"spring-bloom-view-intro":{id:"spring-bloom-view-intro",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"You join Senara at the community gardens where volunteers are preparing to plant new flowers and vegetables."},{character:"senara",text:"Glad you chose to help with the gardens. Many overlook the importance of urban green spaces.",mood:"neutral"},{character:"maven",text:"What's the plan for today?",mood:"neutral"},{character:"senara",text:"We need to locate all the supplies and tools scattered around the garden area. Some are well-hidden among existing plants.",mood:"neutral"},{character:"senara",text:"Finding everything efficiently will allow us to maximize our planting time before the sun sets.",mood:"neutral"},{character:"narrator",text:"Senara hands you a checklist of items to find."},{character:"narrator",text:"GAME INSTRUCTIONS: In 'Bloom With A View', you'll need to locate gardening supplies hidden throughout the community garden."}],nextSceneId:"spring-bloom-view-start"},"spring-bloom-view-start":{id:"spring-bloom-view-start",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"You begin searching for the gardening supplies needed for the community planting."}],nextSceneId:"spring-bloom-view-complete"},"spring-bloom-view-complete":{id:"spring-bloom-view-complete",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"With all the supplies located, the planting begins in earnest. By the end of the day, the community gardens are transformed with new life."},{character:"senara",text:"Impressive work. Your methodical approach saved us considerable time.",mood:"neutral"},{character:"maven",text:"Thanks. It feels good to contribute to something that will grow and beautify the city.",mood:"happy"},{character:"senara",text:"Indeed. These gardens will provide both aesthetic and practical benefits. A thoughtful investment in the city's future.",mood:"happy"},{character:"narrator",text:"As evening approaches, you take a moment to appreciate the freshly planted gardens and the community's collaborative efforts."}],nextSceneId:"spring-festival-midway"},"spring-mud-fling-intro":{id:"spring-mud-fling-intro",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"You find Navarre organizing a group of children and adults for what appears to be a messy game in a sectioned-off area of the park."},{character:"navarre",text:"Maven! Perfect timing. We're about to start the traditional Spring Mud Festival games.",mood:"happy"},{character:"maven",text:"Mud Festival? That doesn't sound very... clean.",mood:"surprised"},{character:"navarre",text:"That's the point! Spring isn't just about cleanliness, it's about embracing new growth—which starts in the soil.",mood:"laughing"},{character:"navarre",text:"Besides, it's a great way to get the community to let loose and have fun. Will you join us for a round of Mud Fling?",mood:"happy"},{character:"maven",text:"I guess I can't say no to a local tradition...",mood:"embarrassed"},{character:"narrator",text:"GAME INSTRUCTIONS: In 'Mud Fling', you'll participate in a friendly mud battle. Dodge incoming mud balls and try to hit your opponents!"}],nextSceneId:"spring-mud-fling-start"},"spring-mud-fling-start":{id:"spring-mud-fling-start",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"You step into the mud pit arena, ready for a messy but fun competition."}],nextSceneId:"spring-mud-fling-complete"},"spring-mud-fling-complete":{id:"spring-mud-fling-complete",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"Covered in mud but laughing, you and the other participants finish the game to the cheers of onlookers."},{character:"navarre",text:"Now THAT is how you make a splash at a festival! Did you see how everyone was cheering?",mood:"happy"},{character:"maven",text:"I have to admit, that was more fun than I expected. Though I'll need a serious shower.",mood:"laughing"},{character:"navarre",text:"Worth it though, right? Sometimes you need to get a little dirty to really connect with people.",mood:"happy"},{character:"narrator",text:"As you clean up, several community members come to chat with you, the ice thoroughly broken by your participation in the messy festival game."}],nextSceneId:"spring-festival-midway"},"spring-festival-midway":{id:"spring-festival-midway",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"As the day progresses, the Spring festival is in full swing across Stonewich."},{character:"maven",text:"I never expected to enjoy this quite so much. Everyone seems really into the festival spirit.",mood:"happy"},{character:"xavier",text:"That's what makes Stonewich special. The technology is just a tool—it's the community that brings everything to life.",mood:"happy"},{character:"navarre",text:"And speaking of community, I've been hearing great things about our team from the locals. We're making a good impression!",mood:"happy"},{character:"etta",text:"The metrics are promising. Public approval ratings for the administration team are up 12% since this morning.",mood:"neutral"},{character:"senara",text:"More importantly, the festival is maintaining its traditional purpose: bringing people together while renewing the city.",mood:"neutral"},{character:"narrator",text:"As evening approaches, you join your teammates to enjoy the rest of the festivities, feeling like you're truly becoming part of Stonewich."}],nextSceneId:"spring-festival-activities"},"spring-festival-end":{id:"spring-festival-end",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"The Spring Blooms & Brooms Festival comes to a successful close as the sun begins to set."},{character:"maven",text:"That was quite a day. I think we all learned a lot about Stonewich and its traditions.",mood:"happy"},{character:"xavier",text:"And the people got to know us better too. That's important for establishing trust.",mood:"happy"},{character:"etta",text:"The festival was a strategic success. We should capitalize on this momentum for our future initiatives.",mood:"neutral"},{character:"narrator",text:"As the festival wraps up, you feel a sense of accomplishment and deeper connection to your new home."}],nextSceneId:"spring-conclusion"}},dT={"spring-conclusion":{id:"spring-conclusion",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"As spring continues in Stonewich, your team settles into a rhythm. Each member's strengths become more apparent in different situations."},{character:"narrator",text:"You've begun to see patterns in how your teammates operate, and found yourself gravitating toward certain approaches. Dr. Voss's words weigh at the back of your mind, but daily routines make it seem less urgent."},{character:"maven",text:"These past few months have taught me so much about everyone... and about myself.",mood:"neutral"},{character:"narrator",text:"With spring coming to a close, it's time to prepare for summer—and the next seasonal festival."},{character:"narrator",text:"But your experiences have already begun to shape your path. Your strongest connections are becoming clear."}],nextSceneId:"season-transition-summer"},"season-transition-summer":{id:"season-transition-summer",background:"summer-transition",dialogue:[{character:"narrator",text:"Summer, Chapter 2"}],nextSceneId:"summer-intro"}},hT={"spring-character-selection":{id:"spring-character-selection",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"As spring begins in Stonewich, the team prepares for the Blooms & Brooms Festival. Maven needs to decide who to spend time with first."}]}},mT={"spring-visit-xavier":{id:"spring-visit-xavier",background:"stonewich-workstation",dialogue:[{character:"narrator",text:"You find Xavier at his workstation, surrounded by multiple screens displaying city system diagnostics."},{character:"xavier",text:"Maven! Perfect timing. I was just looking at the festival's tech requirements. Want to help me plan the setup?",mood:"happy"},{character:"maven",text:"How's it going? Anything I can help with?",mood:"neutral"},{character:"xavier",text:"Actually, yes. I'm designing an app for the festival that shows event locations and schedules. Would you mind giving me your opinion on the interface?",mood:"neutral"}],choices:[{text:"I'd be happy to help with the design!",affectionChanges:{xavier:1},nextSceneId:"spring-visit-xavier-help"},{text:"I'm not very tech-savvy, but I'll try my best.",nextSceneId:"spring-visit-xavier-unsure"},{text:"Maybe we should focus on making sure the existing systems work properly first?",affectionChanges:{xavier:-.5},nextSceneId:"spring-visit-xavier-practical"}]},"spring-visit-xavier-help":{id:"spring-visit-xavier-help",background:"stonewich-workstation",dialogue:[{character:"xavier",text:"That's great! I appreciate your enthusiasm.",mood:"happy"},{character:"xavier",text:"I've been thinking about using the city's color scheme for the app, but I'm not sure if that feels festive enough for a spring celebration.",mood:"neutral"},{character:"maven",text:"What if we use spring colors like fresh greens and flower pinks? It would feel more seasonal while still being professional.",mood:"happy"},{character:"xavier",text:"That's perfect! You have a good eye for these things.",mood:"happy"},{character:"xavier",text:"Working with you is really refreshing, Maven. You bring a different perspective that we need.",mood:"happy"},{character:"narrator",text:"You spend the next hour collaborating with Xavier on the app design. The time flies by as you bounce ideas off each other."}],nextSceneId:"spring-character-selection-1"},"spring-visit-xavier-unsure":{id:"spring-visit-xavier-unsure",background:"stonewich-workstation",dialogue:[{character:"xavier",text:"Don't worry about it! Sometimes a non-technical perspective is exactly what we need.",mood:"happy"},{character:"xavier",text:"Let's work together to ensure the smart displays and environmental systems are working for the Blooms & Brooms festival. It's quite a challenge, and more hands will make light work.",mood:"neutral"},{character:"narrator",text:"You spend the next several hours testing hardware, connections, and systems. Xavier is always close by for issues that come up, and you slowly gain confidence in troubleshooting."}],nextSceneId:"spring-character-selection-1"},"spring-visit-xavier-practical":{id:"spring-visit-xavier-practical",background:"stonewich-workstation",dialogue:[{character:"xavier",text:"Oh... I guess you're right. I was getting ahead of myself.",mood:"sad"},{character:"xavier",text:"I'm always trying to improve things, but sometimes I do get distracted by new projects.",mood:"neutral"},{character:"maven",text:"I didn't mean to discourage you. Your enthusiasm is great, but I just want to make sure we're covered on the basics too.",mood:"neutral"},{character:"xavier",text:"No, you made a fair point. Let's run some diagnostics on the city's waste management systems first, since they'll be crucial during the festival.",mood:"neutral"},{character:"narrator",text:"You help Xavier with the diagnostics checks and then run capacity simulations for load management. It's less exciting than designing a new app, but it uncovers a few potential issues that could have caused problems during the festival."}],nextSceneId:"spring-character-selection-1"},"spring-visit-navarre":{id:"spring-visit-navarre",background:"city-cafe",dialogue:[{character:"narrator",text:"You find Navarre at a popular cafe in the city center. He appears to be charming the staff and several patrons."},{character:"navarre",text:"Maven! Come join us! I was just getting to know some of Stonewich's finest citizens.",mood:"happy"},{character:"maven",text:"Networking already, I see.",mood:"neutral"},{character:"navarre",text:"Always! The Spring festival is our chance to make a good impression on the community. First impressions matter, as they say.",mood:"happy"},{character:"navarre",text:"In fact, I could use your help with something. The local business association wants our team to join their pre-festival mixer tonight. Will you come with me?",mood:"neutral"}],choices:[{text:"Sounds fun! I'd love to meet more local people.",affectionChanges:{navarre:1},nextSceneId:"spring-visit-navarre-agree"},{text:"I'm not really comfortable at those kinds of events.",nextSceneId:"spring-visit-navarre-hesitant"},{text:"Shouldn't we focus on work instead of socializing?",affectionChanges:{navarre:-.5},nextSceneId:"spring-visit-navarre-refuse"}]},"spring-visit-navarre-agree":{id:"spring-visit-navarre-agree",background:"city-cafe",dialogue:[{character:"navarre",text:"That's the spirit! You're going to love these people once you get to know them.",mood:"happy"},{character:"maven",text:"Any tips for making a good impression?",mood:"neutral"},{character:"navarre",text:"Just be yourself! But also, let me tell you about the key players you'll want to meet tonight...",mood:"happy"},{character:"narrator",text:"Navarre enthusiastically briefs you on the local business owners and their interests. His knowledge of the social landscape is impressive."},{character:"navarre",text:"You know, Maven, you've got a natural charm that people respond to. Don't underestimate that.",mood:"happy"},{character:"narrator",text:"Later that night, you attend the mixer with Navarre. To your surprise, you find yourself easily conversing with the locals, and even make some valuable connections for the team."}],nextSceneId:"spring-character-selection-2"},"spring-visit-navarre-hesitant":{id:"spring-visit-navarre-hesitant",background:"city-cafe",dialogue:[{character:"navarre",text:"I understand. These events can be overwhelming if you're not used to them.",mood:"neutral"},{character:"maven",text:"It's just not really my strength. I get anxious in big crowds of strangers.",mood:"embarrassed"},{character:"navarre",text:"Everyone has different strengths. Tell you what - why don't you come for just an hour? I'll stay by your side and introduce you to just a few key people.",mood:"neutral"},{character:"maven",text:"I guess that doesn't sound too bad...",mood:"neutral"},{character:"navarre",text:"Perfect! And if you want to leave after an hour, no questions asked. Deal?",mood:"happy"},{character:"narrator",text:"You agree to Navarre's compromise. That evening, he keeps his word, serving as a buffer between you and the crowd. To your surprise, you actually enjoy yourself and even stay longer than the promised hour."}],nextSceneId:"spring-character-selection-2"},"spring-visit-navarre-refuse":{id:"spring-visit-navarre-refuse",background:"city-cafe",dialogue:[{character:"navarre",text:"Oh, Maven... this IS work. Building relationships is a crucial part of city management.",mood:"surprised"},{character:"maven",text:"I just think our time might be better spent on more concrete tasks.",mood:"neutral"},{character:"navarre",text:"I respect your opinion, but think about it this way: when the waste management system breaks down, who are you going to call? The person you met and built rapport with, or a stranger?",mood:"neutral"},{character:"maven",text:"I hadn't thought of it that way...",mood:"surprised"},{character:"navarre",text:"That's alright. We all have different approaches. I'll represent the team tonight, and I'll make sure to mention your dedication to the technical aspects of our work.",mood:"neutral"},{character:"narrator",text:"Navarre heads to the mixer without you. The next day, he mentions that several people were asking about 'the new team member' and seemed disappointed you weren't there."}],nextSceneId:"spring-character-selection-2"},"spring-visit-etta":{id:"spring-visit-etta",background:"stonewich-workstation",dialogue:[{character:"narrator",text:"Etta is meticulously running complex simulations on her workstation."},{character:"etta",text:"Maven. Did you need something? I'm kind of busy here.",mood:"neutral"},{character:"maven",text:"I wanted to see how the Spring festival preparations are going from your end.",mood:"neutral"},{character:"etta",text:"Supplies, vendors, schedules - you name it. There's a million practical and logistical considerations to be finalized.",mood:"neutral"},{character:"maven",text:"I'd be happy to help. What are you working on?",mood:"neutral"},{character:"etta",text:"You came by to shadow me, right? I could use an opinion. Should we focus resources on pre-cleaning the venue to be more welcoming or providing more supplies for on-the-day activities for higher engagement?",mood:"neutral"}],choices:[{text:"Cleaning - a clean city is the foundation of the festival.",affectionChanges:{etta:-.5},nextSceneId:"spring-visit-etta-cleaning"},{text:"Why not balance both? We need clean spaces for people to use for activities.",affectionChanges:{etta:1},nextSceneId:"spring-visit-etta-balance"},{text:"Activity resources - people will remember what they did together at the event, not how clean it was beforehand.",nextSceneId:"spring-visit-etta-seedlings"}]},"spring-visit-etta-cleaning":{id:"spring-visit-etta-cleaning",background:"stonewich-workstation",dialogue:[{character:"etta",text:"Exactly. Aesthetics are meaningless without proper sanitation and organization, but paid staff will need to be deployed.",mood:"neutral"},{character:"maven",text:"Oh, right. Volunteers aren't likely to sign-up to do what most consider the responsibility of the sanitation department.",mood:"embarrassed"},{character:"etta",text:"Right. I thought you might have a suggestion, but it's the same dilemma - cleaning doesn't directly contribute to higher engagement, only higher costs.",mood:"angry"},{character:"etta",text:"Let's move on. I was expecting too much that you might have a solution for such an issue.",mood:"neutral"},{character:"narrator",text:"Etta makes adjustments to her simulations, occasionally asking for your input on specific allocations."},{character:"etta",text:"Your reasoning was sound, Maven, but conventional. It's important to know where to invest wisely.",mood:"neutral"},{character:"narrator",text:"Coming from Etta, this seems like high praise indeed. You continue to work together for another hour, and find a certain satisfaction in the meticulous planning although it lacks something in creative innovation."}],nextSceneId:"spring-character-selection-3"},"spring-visit-etta-balance":{id:"spring-visit-etta-balance",background:"stonewich-workstation",dialogue:[{character:"etta",text:"Balance? That's a vague concept that doesn't help with specific resource allocation.",mood:"neutral"},{character:"maven",text:"What I mean is that we should structure activities around both to meet your goal. Both are equally important.",mood:"neutral"},{character:"etta",text:"Hmm. That's not exactly balance. The goal is to drive higher engagement.",mood:"neutral"},{character:"maven",text:"Then let's make sure resources are appropriate for both phases, and we structure both as activities designed for participation.",mood:"neutral"},{character:"etta",text:"Structured activities to clean? Will anyone want to do that? What's your idea exactly?",mood:"surprised"},{character:"maven",text:"Let's start with a volunteer orientation the day before where volunteers can meet each other, preview the venues, and prep for the festival.",mood:"surprised"},{character:"narrator",text:"You work with Etta to create a two-phase plan for the festival with new activities designed for cleaning and higher volunteer engagement."},{character:"etta",text:"This is a novel approach and may save some budget on cleaners, but there are risks here too if volunteers don't show up. Your idea is innovative.",mood:"happy"},{character:"narrator",text:"Despite her remarks about risks, she does incorporate some of your suggestions. You feel a quiet pride in providing a practical approach to achieveing the outcomes desired."}],nextSceneId:"spring-character-selection-3"},"spring-visit-etta-seedlings":{id:"spring-visit-etta-seedlings",background:"stonewich-workstation",dialogue:[{character:"etta",text:"I'm concerned with measurable outcomes. People's memories are hazy outcomes at best.",mood:"neutral"},{character:"maven",text:"But public perception matters too. People remember the fun they had doing something together more than clean streets.",mood:"neutral"},{character:"etta",text:"The true return on such a plan would be the rate of return visitors to the festival next year.",mood:"neutral"},{character:"etta",text:"Can people really make good memories if the venues don't look inviting enough to go? Will the funding for next year get approved if the impact isn't visible from this year?",mood:"neutral"},{character:"maven",text:"I see your point. I was thinking too much about it as an experience and not enough as objective outcomes.",mood:"embarrassed"},{character:"etta",text:"At least you can admit when you're wrong. That's... something.",mood:"neutral"},{character:"narrator",text:"The conversation with Etta becomes a bit strained after that, but you do learn a great deal about resource allocation and city planning in the process."}],nextSceneId:"spring-character-selection-3"},"spring-visit-senara":{id:"spring-visit-senara",background:"stonewich-office",dialogue:[{character:"narrator",text:"You find Senara in the relaxing with a tablet in hand in the Stonewich office and a cup of tea in easy reach."},{character:"senara",text:"Maven. I didn't expect to see you here. I thought you were shadowing someone today?",mood:"surprised"},{character:"maven",text:"I was looking for you, actually. I thought I'd shadow you today. What are you researching?",mood:"neutral"},{character:"senara",text:"The historical context of Stonewich's Spring festival. Did you know it dates back over three centuries?",mood:"neutral"},{character:"senara",text:"I'm trying to determine whether it's the history of the people or the place that have a greater significance to evolving traditions. There's a dilemma between maintaining traditions as historical and moving forward as societal values shift. What's your perspective?",mood:"neutral"}],choices:[{text:"Traditions have value and should be preserved. Changing with societal values only chases fads.",affectionChanges:{senara:1},nextSceneId:"spring-visit-senara-traditional"},{text:"We should find a balance between honoring history and recognizing what is defining for people today.",nextSceneId:"spring-visit-senara-balance"},{text:"Society evolves. Change is inevitable. We should focus on managing the change proactively, not resisting against the ebb of time.",affectionChanges:{senara:-.5},nextSceneId:"spring-visit-senara-modern"}]},"spring-visit-senara-traditional":{id:"spring-visit-senara-traditional",background:"stonewich-office",dialogue:[{character:"senara",text:"Interesting. Most people are quick to dismiss historical practices as outdated.",mood:"surprised"},{character:"maven",text:"There's wisdom in traditions that have endured. They connect us to our past.",mood:"neutral"},{character:"senara",text:"Indeed. One such tradition was the 'Spring Makers Fair' where citizens would showcase crafts made from materials gathered during winter.",mood:"happy"},{character:"senara",text:"It encouraged resourcefulness and community skill-sharing. Concepts that remain valuable.",mood:"neutral"},{character:"maven",text:"That sounds amazing. Perhaps what began as the spring festival transitioned to the autumn with the focus on craftmanship?",mood:"happy"},{character:"senara",text:"It would seem so. Over time the city's commerce became more centered on the port trade and shifted the daily cadences of its citizens.",mood:"happy"},{character:"maven",text:"Perhaps the local art fair component of the spring festival is the living remnant of what was once more robust?",mood:"happy"},{character:"senara",text:"Perhaps. I appreciate your interest in preservation, Maven. Few take the time to look backward before moving forward.",mood:"happy"},{character:"narrator",text:"You spend the next hour discussing historical traditions with Senara. His usually reserved demeanor softens as he shares his knowledge with someone who genuinely values it."}],nextSceneId:"spring-character-selection-4"},"spring-visit-senara-balance":{id:"spring-visit-senara-balance",background:"stonewich-office",dialogue:[{character:"senara",text:"A diplomatic answer. But what does balance look like in practice?",mood:"neutral"},{character:"maven",text:"Perhaps we could reintroduce historical elements but present them in modern contexts?",mood:"neutral"},{character:"senara",text:"Such as?",mood:"neutral"},{character:"maven",text:"Like the spring cleaning traditions, but with modern technology to make it more efficient and engaging.",mood:"neutral"},{character:"senara",text:"Hmm. That could work. History isn't meant to be a museum piece, but a living foundation for the present.",mood:"neutral"},{character:"narrator",text:"Senara shows you some of the historical records he's been studying. Together, you identify several traditions that could be modernized while preserving their core meaning."}],nextSceneId:"spring-character-selection-4"},"spring-visit-senara-modern":{id:"spring-visit-senara-modern",background:"stonewich-office",dialogue:[{character:"senara",text:"A common perspective. But evolution without reference to the past has a dehumanizing effect on society where technology substitutes for community.",mood:"neutral"},{character:"maven",text:"But holding onto outdated traditions can create negative backlash or disengagement.",mood:"neutral"},{character:"senara",text:"And who decides what is 'outdated'? Contemporary biases often misinterpret historical wisdom.",mood:"neutral"},{character:"maven",text:"I just think we should focus on being proactive in managing adaptations to traditions that reflect our current values.",mood:"neutral"},{character:"senara",text:"And what are those values, Maven? How do they shape our identity if not within the context of what we've been historically?",mood:"neutral"},{character:"narrator",text:"Your conversation with Senara becomes a philosophical debate. Though you disagree on some points, you gain a deeper appreciation for his thoughtful approach to change."}],nextSceneId:"spring-character-selection-4"}},fT={"spring-selection":{id:"spring-selection",background:"spring-cityoverlook",dialogue:[{character:"narrator",text:"Maven considers who to spend time with during the festival preparations."}],nextSceneId:"spring-character-selection"},"season-transition-spring":{id:"season-transition-spring",background:"spring-transition",dialogue:[{character:"narrator",text:"Spring Chapter 1"}],nextSceneId:"spring-intro"}},pT={...lT,...hT,...mT,...cT,...uT,...dT,...fT},gT={"summer-intro":{id:"summer-intro",background:"stonewich-office",dialogue:[{character:"narrator",text:"The heat of summer arrives in Stonewich, bringing with it the excitement of the Summer Songs & Sips Festival."},{character:"navarre",text:"Summer in Stonewich is magical! The social energy is absolutely perfect for seeing and being seen.",mood:"happy"},{character:"etta",text:"The increased foot traffic and tourism during summer will be a good stress test for our systems.",mood:"neutral"},{character:"xavier",text:"I've upgraded the cooling systems in all the public squares to keep everyone comfortable during the outdoor events. Cool, bug-free zones!",mood:"happy"},{character:"senara",text:"The musical lyrics of the city's oldest folksongs read like beautiful, timeless poetry. I'm interested to see how new music trends may be inspired by them.",mood:"neutral"},{character:"maven",text:"Sampling summer flavors in different drinks sounds like it'll be a lot of fun.",mood:"happy"},{character:"narrator",text:"A dark cloud passes across the bright summer sun momentarily darkening the room, and Dr. Voss's words bubble up to darken your mood.",mood:"happy"},{character:"maven",text:"Ah, has anyone had any clues as to what Dr. Voss might have been referring to at our spring report meeting?",mood:"neutral"},{character:"navarre",text:"Don't you think she just hints vaguely at doom and gloom to all the teams as a work hard motivation speech?",mood:"happy"},{character:"xavier",text:"Definitely! I haven't given it another thought. I run diagnostics and systems checks all the time, and this city is in fine shape.",mood:"happy"},{character:"etta",text:"I agree. Anything expressed so vaguely is not worth investing time or thought to worry over when there's concrete tasks that need my attention.",mood:"neutral"},{character:"maven",text:"Dr. Voss seemed rather serious when she talked about it, but I suppose you must be right.",mood:"neutral"},{character:"narrator",text:"You still feel a bit uneasy about the state of Stonewich given what Dr.Voss said, but you take the cue from your team and focus on more practical tasks for now.",mood:"neutral"},{character:"senara",text:"Maven, are you planning to shadow us all again?",mood:"neutral"},{character:"maven",text:"Is that an invitation? Yes, I'd love to!",mood:"happy"}],nextSceneId:"summer-character-selection"}},yT={"summer-planning":{id:"summer-planning",background:"stonewich-office",dialogue:[{character:"xavier",text:"Summer Songs & Sips is Stonewich's way of celebrating music, culture, and local beverages.",mood:"happy"},{character:"navarre",text:"It's the most social event of the year—perfect for making connections and enjoying the nightlife.",mood:"happy"},{character:"etta",text:"We should consider how our participation can optimize tourism revenues.",mood:"neutral"},{character:"senara",text:"The festival includes performances that celebrate Stonewich's dynamic cultural evolution.",mood:"neutral"},{character:"maven",text:"Let's finalize our plans for the festival activities.",mood:"happy"}],nextSceneId:"summer-festival-activities"}},vT={"summer-festival-activities":{id:"summer-festival-activities",background:"summer-cityoverlook",dialogue:[{character:"narrator",text:"The Summer Songs & Sips festival is underway! What aspect would you like to experience first?"}]}},xT={"summer-serenade-intro":{id:"summer-serenade-intro",background:"summer-cityoverlook",dialogue:[{character:"xavier",text:"The four main stages each showcase a different musical style. Each one reflects something about our team's personalities, in a way.",mood:"happy"},{character:"maven",text:"I can see the crowds are really getting into the music. It's a beautiful sight.",mood:"happy"},{character:"xavier",text:"Why not try the interactive rhythm experience? You can select a stage and follow along with the music.",mood:"happy"},{character:"maven",text:"That sounds like fun! I'll give it a try.",mood:"happy"}],nextSceneId:"summer-serenade-start"},"summer-spoken-word-intro":{id:"summer-spoken-word-intro",background:"summer-cityoverlook",dialogue:[{character:"senara",text:"Poetry is a fascinating linguistic construct. The way words can be arranged to create both meaning and rhythm simultaneously.",mood:"neutral"},{character:"maven",text:"I've never written poetry before, but I've always appreciated it.",mood:"neutral"},{character:"senara",text:"The spoken word competition allows participants to choose from different stanza options to create a coherent poem. Would you like to try?",mood:"neutral"},{character:"maven",text:"I think I would. It might help me understand the artistic side of Stonewich better.",mood:"happy"}],nextSceneId:"summer-spoken-word-start"},"summer-whats-on-tap-intro":{id:"summer-whats-on-tap-intro",background:"summer-cityoverlook",dialogue:[{character:"navarre",text:"The beer tents are always the heart of the social scene at the festival! Want to try your hand at serving?",mood:"happy"},{character:"maven",text:"I've never done anything like that before.",mood:"surprised"},{character:"navarre",text:"It's simple! Just pour the right drinks with the right amount of foam, ice, or flavoring. You'll be surprised how quickly you can read what people want.",mood:"happy"},{character:"maven",text:"Alright, I'll give it a shot. It could be fun to be on the other side of the counter for once.",mood:"happy"}],nextSceneId:"summer-whats-on-tap-start"}},wT={"summer-serenade-complete":{id:"summer-serenade-complete",background:"stonewich-cityscape",dialogue:[{character:"xavier",text:"That was fantastic! Music has this way of connecting people instantaneously. It's one of the purest forms of communication.",mood:"happy"},{character:"maven",text:"I felt that. When everyone was moving to the same rhythm, it created this sense of unity I hadn't experienced before.",mood:"happy"},{character:"xavier",text:"That's exactly why I love creating these interactive experiences. Technology can help forge those connections, make them more accessible.",mood:"happy"}],nextSceneId:"summer-festival-activities"},"summer-spoken-word-complete":{id:"summer-spoken-word-complete",background:"city-cafe",dialogue:[{character:"senara",text:"Interesting choices in your composition. The thematic coherence shows an intuitive understanding of linguistic patterns.",mood:"neutral"},{character:"maven",text:"It was challenging to maintain a consistent theme while also creating something that flowed naturally.",mood:"happy"},{character:"senara",text:"That's the beauty of it. The constraints force creative solutions. Your mind adapted to find connections between seemingly disparate elements.",mood:"neutral"}],nextSceneId:"summer-festival-activities"},"summer-whats-on-tap-complete":{id:"summer-whats-on-tap-complete",background:"city-cafe",dialogue:[{character:"navarre",text:"You're a natural! Did you see how people opened up to you while you were serving them?",mood:"happy"},{character:"maven",text:"It was surprising how many conversations started just from a simple interaction over a drink order.",mood:"happy"},{character:"navarre",text:"That's the secret to networking - create a simple, comfortable exchange first. Everything builds from there. You just experienced the foundation of how I build connections.",mood:"happy"}],nextSceneId:"summer-festival-activities"}},bT={"summer-festival-completion":{id:"summer-festival-completion",background:"stonewich-office",dialogue:[{character:"maven",text:"The Summer Songs & Sips festival was a huge success! Our team managed to create a memorable experience for everyone.",mood:"happy"},{character:"xavier",text:"The interactive music exhibits were a hit. People loved being able to create their own tunes.",mood:"happy"},{character:"navarre",text:"And the beverage tastings brought in record revenue. I made some excellent connections with the local vendors.",mood:"happy"},{character:"etta",text:"The metrics show a 24% increase in attendance and a 31% increase in revenue compared to last year's festival.",mood:"neutral"},{character:"senara",text:"The cultural performances provided an enlightening view into Stonewich's history while embracing modern interpretations.",mood:"neutral"},{character:"maven",text:"Now it's time to compile our report for Dr. Voss. Our summer achievements will certainly impress Cybaton.",mood:"happy"}],nextSceneId:"summer-conclusion-meeting"}},kT={...yT,...vT,...xT,...wT,...bT},ST={"summer-serenade-start":{id:"summer-serenade-start",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"You approach the interactive music exhibit, ready to test your rhythm skills."}],nextSceneId:"summer-serenade-complete"},"summer-spoken-word-start":{id:"summer-spoken-word-start",background:"city-cafe",dialogue:[{character:"narrator",text:"You take a seat at the spoken word competition area, ready to craft your poem."}],nextSceneId:"summer-spoken-word-complete"},"summer-whats-on-tap-start":{id:"summer-whats-on-tap-start",background:"city-cafe",dialogue:[{character:"narrator",text:"You put on an apron and take your position behind the beer tent counter."}],nextSceneId:"summer-whats-on-tap-complete"},"summer-serenade-complete":{id:"summer-serenade-complete",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"Your musical performance comes to an end, drawing applause from the crowd."},{character:"xavier",text:"That was impressive! Your musical intuition really comes through.",mood:"happy"}],nextSceneId:"summer-festival-midway"},"summer-spoken-word-complete":{id:"summer-spoken-word-complete",background:"city-cafe",dialogue:[{character:"narrator",text:"As you finish your poem, the audience snaps their fingers in appreciation."},{character:"senara",text:"Your words carry authentic emotion. Quite effective at conveying personal truth.",mood:"neutral"}],nextSceneId:"summer-festival-midway"},"summer-whats-on-tap-complete":{id:"summer-whats-on-tap-complete",background:"city-cafe",dialogue:[{character:"navarre",text:"You have a surprising knack for bartending! The customers loved your service.",mood:"happy"},{character:"maven",text:"I enjoyed connecting with people. There's something special about facilitating those moments of enjoyment.",mood:"happy"}],nextSceneId:"summer-festival-midway"},"summer-wine-tasting-intro":{id:"summer-wine-tasting-intro",background:"city-cafe",dialogue:[{character:"navarre",text:"The 'Sips' part of the festival is just as important as the 'Songs'. Local vineyards showcase their finest varieties.",mood:"happy"},{character:"maven",text:"I've never been to a formal wine tasting before.",mood:"neutral"},{character:"navarre",text:"Then you're in for a treat! Let me show you how it's done.",mood:"happy"}],nextSceneId:"summer-whats-on-tap-intro"},"summer-festival-midway":{id:"summer-festival-midway",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"The Summer Songs & Sips festival continues in full swing around you."},{character:"maven",text:"The festival has such a different energy than the spring one. It feels more relaxed yet vibrant.",mood:"happy"},{character:"xavier",text:"Music has this way of bringing people together that's different from other activities.",mood:"happy"},{character:"navarre",text:"And people are definitely connecting! I've already made some promising contacts for future Stonewich promotions.",mood:"happy"}],nextSceneId:"summer-festival-activities"},"summer-conclusion-meeting":{id:"summer-conclusion-meeting",background:"stonewich-office",dialogue:[{character:"etta",text:"The festival attendance exceeded projections by 12%. Vendor satisfaction ratings were also above benchmark.",mood:"neutral"},{character:"xavier",text:"And no technical issues with any of the performances! The cooling systems held up perfectly despite the heat wave.",mood:"happy"},{character:"navarre",text:"Several influential visitors mentioned they're looking forward to the autumn festival. We've built good momentum.",mood:"happy"},{character:"senara",text:"The cultural significance ratings showed marked improvement from previous years. People are connecting with the city's musical heritage.",mood:"neutral"},{character:"maven",text:"It seems like we've all contributed something meaningful to make this a success.",mood:"happy"}],nextSceneId:"summer-conclusion"}},CT={"summer-conclusion-meeting":{id:"summer-conclusion-meeting",background:"cybaton-meeting-room",dialogue:[{character:"etta",text:"Dr. Voss, our team's work during Summer Songs & Sips festival resulted in increased city revenues by 31% compared to last year.",mood:"neutral"},{character:"maven",text:"We also managed to improve community engagement significantly through the new interactive exhibits.",mood:"confident"},{character:"narrator",text:"Dr. Voss reviews your detailed report with a polite expression."},{character:"narrator",text:"Dr. Voss: Your team continues to exceed expectations in Stonewich, as individual talents."},{character:"narrator",text:"Dr. Voss: However, you still have not found your stride as a team, and the situation in Stonewich shows signs of destabilization."},{character:"xavier",text:"What do you mean? The systems and diagnostics I've been monitoring show efficient and stable.",mood:"neutral"},{character:"narrator",text:"Dr. Voss: Perhaps my words at the end of your last report were too vague. Let me be more explicit."},{character:"narrator",text:"Dr. Voss: The results you speak of are tangible and undisputed, but they do not provide an accurate portrayal of the city's current situation."},{character:"narrator",text:"Dr. Voss: New technology meant to promote self-service and convenience have made it difficult for people to interact together. The marital and family trends are grim."},{character:"narrator",text:"Dr. Voss: You speak of more interest in the history and culture of Stonewich, but that appears to be a novelty and not something that provides meaning or tangible results."},{character:"narrator",text:"Dr. Voss: What differentiates Stonewich? How does it attract business, visitors, residents that could live or move freely?"},{character:"narrator",text:"Dr. Voss: And our competitors are taking notice of these deficiencies. Cybaton is facing more pressure to review its contracts and threats in many siloed services, exacerbated by the decentralized distribution of microsystems."},{character:"narrator",text:"Dr. Voss: Your autumn assignment will begin soon. I expect continued excellence from each you, but I also hope to see something more."},{character:"narrator",text:"Dr. Voss makes eye contact with you for a long, uncomfortable moment before dismissing the team."}],nextSceneId:"summer-conclusion-debrief"},"summer-conclusion-debrief":{id:"summer-conclusion-debrief",background:"cybaton-shuttle",dialogue:[{character:"narrator",text:"The air was thick with tension in the shuttle. Dr. Voss's words seemed to have settled heavily and weighted the team down."},{character:"maven",text:"Let's talk about what Dr. Voss said. It's clearly bothering all of us.",mood:"neutral"},{character:"etta",text:"Fine. I'm angry. Where did marriage and family statistics come from? We are performing beyond expectations, but she's measuring us to some standard I've never heard.",mood:"angry"},{character:"xavier",text:"I can't believe it. I thought the self-service systems were helping people. I had no idea they actually caused people to be more self-isolating and lonely.",mood:"sad"},{character:"navarre",text:"Well, I know I've seen the competitive activity firsthand, but I didn't realize it was on such a scale, not just a petty spat with Morgan.",mood:"sad"},{character:"maven",text:"I think I understand what Dr. Voss was trying to get at.",mood:"neutral"},{character:"etta",text:"Well, spit it out! Does she have some kind of master plan that none of us have seen?!",mood:"angry"},{character:"xavier",text:"I haven't seen any grand architecture or plan like that. If I thought the micro systems I had deployed would destabilize the central control systems, I would have taken precautions.",mood:"neutral"},{character:"senara",text:"Xavier, I believe Etta's question was rhetorical out of exasperation. We've been privy to all plans and relevant information for Stonewich.",mood:"neutral"},{character:"navarre",text:"Senara is well informed, as expected. There's a different issue here. Did you have something to share, Maven?",mood:"neutral"},{character:"narrator",text:"You take a moment to consider before responding. Dr. Voss seemed to take pains to show how shortsighted the team had been in their analysis and metrics."},{character:"maven",text:"Each of us heard what Dr. Voss said as a criticism of a more narrow perspective, but I think the root of that is we aren't striving toward a vision.",mood:"neutral"},{character:"etta",text:"That's so vague. It sounds like more of the empty motivational speak.",mood:"neutral"},{character:"senara",text:"Maven, if you see a pattern that resonates with what Dr. Voss said that the rest of us don't, then you should take a more direct role in autumn.",mood:"neutral"},{character:"navarre",text:"That's a great idea.",mood:"neutral"},{character:"xavier",text:"We'll be counting on you, Maven.",mood:"neutral"},{character:"narrator",text:"You're not sure exactly what it is you can do, but you hope you don't let your team down."}],nextSceneId:"season-transition-autumn"}},TT=(e,t,n,r)=>{const o={},a=l=>{if(l.length===0)return`${e}-selection`;const c=l.sort().join("-");return`${e}-${c}`},s=l=>({id:a(l),background:"stonewich-cityscape",dialogue:[{character:"narrator",text:l.length>0?r:n}]}),i=l=>l.reduce((c,u)=>c.concat(c.map(m=>[...m,u])),[[]]);for(const l of i(t))o[a(l)]=s(l);return o},sl=TT("summer",["xavier","navarre","etta","senara"],"As summer heats up in Stonewich, spend time with your teammates to prepare for the festival.","Who would you like to visit next to support festival preparations and deepen your bonds?");console.log("Generated summer character selection scene keys:",Object.keys(sl));sl["summer-character-selection"]||(sl["summer-character-selection"]={id:"summer-character-selection",background:"summer-cityoverlook",dialogue:[{character:"narrator",text:"As summer heats up in Stonewich, spend time with your teammates to prepare for the festival."},{character:"narrator",text:"Who would you like to visit next to support festival preparations and deepen your bonds?"}],choices:[{text:"Visit Xavier",nextSceneId:"summer-visit-xavier"},{text:"Visit Navarre",nextSceneId:"summer-visit-navarre"},{text:"Visit Etta",nextSceneId:"summer-visit-etta"},{text:"Visit Senara",nextSceneId:"summer-visit-senara"},{text:"Proceed to festival planning",nextSceneId:"summer-planning"}]});const IT={"summer-visit-xavier":{id:"summer-visit-xavier",background:"summer-cityoverlook",dialogue:[{character:"narrator",text:"Xavier has taken you to the rooftop of a municipal building where you have a good view of the city's skyline."},{character:"xavier",text:"Maven! Isn't this a beautiful view? I never tire of it.",mood:"happy"},{character:"maven",text:"Yes, very, but I have to wonder what we are doing here? I don't mean to sound like Etta, but is there a point to this location?",mood:"neutral"},{character:"xavier",text:"You do sound a bit like Etta! She must be rubbing off on you.",mood:"laughing"},{character:"xavier",text:"To answer your question, yes, actually. I indeed have a reason to bring us up here. Two even.",mood:"happy"},{character:"maven",text:"Oh? Now I'm curious.",mood:"neutral"},{character:"xavier",text:"My first reason is related to the summer festival. This is the best spot for me to have eyes directly on the drones I need to synchronize for the stage shows, cooling, and maintenance routines.",mood:"neutral"},{character:"xavier",text:"And the second, well, it might be a bit selfish.",mood:"neutral"},{character:"narrator",text:"Xavier's usually bright demeanor seems dimmed as he shares the second reason quietly, uncertainty clear on his face."}],choices:[{text:"Synchronizing drone routines? That sounds more like drone playtime. Count me in!",affectionChanges:{xavier:-1},nextSceneId:"summer-visit-xavier-technical"},{text:"I'm not sure if there's much I can do, but did you want to talk about whatever is bothering you?",affectionChanges:{xavier:1},nextSceneId:"summer-visit-xavier-personal"}]},"summer-visit-xavier-technical":{id:"summer-visit-xavier-technical",background:"summer-cityoverlook",dialogue:[{character:"xavier",text:"That's great! I appreciate your enthusiasm. It's a beautiful day whenever I get to work with the drones.",mood:"happy"},{character:"xavier",text:"You've gotten much better at the technical stuff. Do you think we should keep the drones unobstrusive or should we incorporate some visual displays for some entertainment value?",mood:"neutral"},{character:"maven",text:"I can tell you have something wild in mind. What if we kept them unobtrusive most of the time so we don't take attention away from the performing acts, but liven things up sporadically for some novelty?",mood:"happy"},{character:"xavier",text:"That's perfect! Let's start testing some some of these choreography configurations.",mood:"happy"},{character:"xavier",text:"You have some great dance moves. Your perspective on incorporating them into the drones routines is like music in motion.",mood:"happy"},{character:"narrator",text:"You spend the afternoon with Xavier on the drone routines. The time flies by."}],nextSceneId:"summer-character-selection-1"},"summer-visit-xavier-personal":{id:"summer-visit-xavier-personal",background:"summer-cityoverlook",dialogue:[{character:"xavier",text:"Don't worry about it. I've got it under control.",mood:"neutral"},{character:"maven",text:"Aren't we friends? I like to think I'm a good listener if you want to give me a try.",mood:"neutral"},{character:"xavier",text:"Well, I'm not sure what to say. I just needed some time away from the office. Isn't that selfish?",mood:"neutral"},{character:"maven",text:"Not at all. You are always the person everyone turns to first with a problem. You're always there with a smile to overpower Etta's frowns. You can take a break when you need to.",mood:"neutral"},{character:"xavier",text:"It feels selfish. I should be happy to help everyone out, and I really do enjoy working with everyone, even Etta. I guess it's hard to describe except as maybe loneliness?",mood:"neutral"},{character:"maven",text:"You are loved by everyone, Xavier. There's no reason to feel lonely.",mood:"neutral"},{character:"narrator",text:"Xavier didn't say anything more, and the conversation felt unfinished leaving an awkward air between the two of you.",mood:"neutral"},{character:"narrator",text:"You spend the next several hours quietly working together to map drone routines and timings. Xavier seemed lost in his thoughts."}],nextSceneId:"summer-character-selection-1"},"summer-visit-navarre":{id:"summer-visit-navarre",background:"city-cafe",dialogue:[{character:"narrator",text:"You find Navarre at an outdoor patio of a trendy bistro, engaged in an animated conversation with a group of well-dressed locals."},{character:"navarre",text:"Maven! Perfect timing. I was just telling these fine people about our plans for the Summer Songs & Sips festival.",mood:"happy"},{character:"maven",text:"I see you're working the connections as usual.",mood:"neutral"},{character:"navarre",text:"Of course! Though today has been... interesting. Ran into Morgan Thornfield earlier.",mood:"neutral"},{character:"maven",text:"Thornfield? From the competing management company?",mood:"surprised"},{character:"navarre",text:"The very same. She's been spreading some unsavory rumors about our festival plans. I could use your help deciding how to handle this situation.",mood:"neutral"}],choices:[{text:"Let's focus on the logistics. What venues need to be secured and what connections do we need to prioritize?",affectionChanges:{navarre:-.5},nextSceneId:"summer-visit-navarre-technical"},{text:"Tell me more about this rivalry with Morgan. Maybe I can help you navigate this social minefield.",affectionChanges:{navarre:1},nextSceneId:"summer-visit-navarre-personal"}]},"summer-visit-navarre-technical":{id:"summer-visit-navarre-technical",background:"city-cafe",dialogue:[{character:"navarre",text:"All business today, I see. Alright, let's talk strategy.",mood:"neutral"},{character:"maven",text:"I figure the best way to counter rumors is to deliver an exceptional festival experience.",mood:"neutral"},{character:"navarre",text:"You're right. We need to secure the riverside pavilion for the headline performances and the vineyard estate for the tasting events.",mood:"neutral"},{character:"maven",text:"What about local musicians? Have we confirmed the lineup?",mood:"neutral"},{character:"navarre",text:"That's where things get tricky. Morgan has been approaching our confirmed acts with better offers. We need to shore up those relationships.",mood:"neutral"},{character:"narrator",text:"You spend the afternoon with Navarre, mapping out a strategic plan for venue arrangements and artist relations. Though he maintains his professional demeanor, you notice his smile doesn't quite reach his eyes when Morgan's name comes up."}],nextSceneId:"summer-character-selection-2"},"summer-visit-navarre-personal":{id:"summer-visit-navarre-personal",background:"city-cafe",dialogue:[{character:"navarre",text:"Morgan and I have... history. We studied together at the Academy before Cybaton recruited me.",mood:"neutral"},{character:"maven",text:"History? That must be awkward.",mood:"neutral"},{character:"navarre",text:"More than awkward. She takes it personally. Every success I have had since we parted ways is like a rebuke to her.",mood:"sad"},{character:"navarre",text:"She's telling people our sound equipment is substandard, that we've cut corners on the quality of refreshments... anything to diminish our event.",mood:"angry"},{character:"maven",text:"Why is she so determined to undermine you specifically? Is it just coincidental that she's assigned to Stonewich?",mood:"neutral"},{character:"navarre",text:"Cybaton chose me over her, for one reason. She's ready to prove in any way she can that she's more capable.",mood:"sad"},{character:"maven",text:"...and?",mood:"neutral"},{character:"navarre",text:"I'm sure it's not coincidental. Part of the reason this has been so personal is because of the feelings she still has for me.",mood:"embarrassed"},{character:"maven",text:"So your history was not just as classmates and collaborators but also intimate? I had no idea you carried this weight while making everything look so effortless.",mood:"surprised"},{character:"navarre",text:"That's part of the job, isn't it? Everyone sees the charming socialite, but nobody sees the calculations behind every smile and handshake.",mood:"neutral"},{character:"narrator",text:"You spend the afternoon listening to Navarre open up about the personal toll of his public persona. For perhaps the first time, you see beyond his polished exterior to the genuine person underneath."}],nextSceneId:"summer-character-selection-2"},"summer-visit-etta":{id:"summer-visit-etta",background:"stonewich-workstation",dialogue:[{character:"narrator",text:"You find Etta analyzing budget projections for the summer festival with intense focus."},{character:"etta",text:"Maven. Did you need something? I'm in the middle of optimizing our resource allocation.",mood:"neutral"},{character:"maven",text:"I came to see if you needed any assistance with the summer festival preparations.",mood:"neutral"},{character:"etta",text:"Actually, your timing is... acceptable. I could use a second opinion.",mood:"neutral"},{character:"maven",text:"Happy to help. What are you working on?",mood:"neutral"},{character:"etta",text:"I just received a call from my father. He wants me to prioritize showcasing Watanabe Industries' new sound equipment at the festival.",mood:"neutral"},{character:"narrator",text:"You notice Etta's normally perfect posture is slightly rigid, her hands tense on the keyboard."}],choices:[{text:"Let's analyze the technical specifications and cost-benefit ratio of using their equipment.",affectionChanges:{etta:-.5},nextSceneId:"summer-visit-etta-technical"},{text:"It sounds like there's more to this situation than just equipment choices.",affectionChanges:{etta:1},nextSceneId:"summer-visit-etta-personal"}]},"summer-visit-etta-technical":{id:"summer-visit-etta-technical",background:"stonewich-workstation",dialogue:[{character:"etta",text:"Yes, let's focus on the metrics. That's what matters.",mood:"neutral"},{character:"maven",text:"Do we have the specs for their equipment? We should compare it against alternatives.",mood:"neutral"},{character:"etta",text:"Here they are. Their amplification system is 12% more energy-efficient, but costs 30% more than our current provider.",mood:"neutral"},{character:"maven",text:"What about sound quality? That's crucial for a music festival.",mood:"neutral"},{character:"etta",text:"Comparable, possibly marginally better in outdoor settings. But not enough to justify the cost increase in my assessment.",mood:"neutral"},{character:"narrator",text:"You work with Etta to create a detailed analysis of various sound equipment options. Though she doesn't say it directly, you sense her relief at having objective data to counter her father's pressure."},{character:"etta",text:"Your analytical skills are improving, Maven. This report will be... useful.",mood:"neutral"}],nextSceneId:"summer-character-selection-3"},"summer-visit-etta-personal":{id:"summer-visit-etta-personal",background:"stonewich-workstation",dialogue:[{character:"etta",text:"What are you implying?",mood:"angry"},{character:"maven",text:"Nothing negative. Just that you seem tense about your father's request.",mood:"neutral"},{character:"etta",text:"I'm not... It's just... complicated.",mood:"neutral"},{character:"maven",text:"Family expectations often are.",mood:"neutral"},{character:"etta",text:"My father expects the Watanabe name to open doors. He expects me to leverage my position to benefit the family business.",mood:"sad"},{character:"maven",text:"And you don't feel comfortable with that.",mood:"neutral"},{character:"etta",text:"It's a conflict of interest. I was selected for this position based on merit, not my family connections. I refuse to blur those lines.",mood:"angry"},{character:"etta",text:"But every time I say no, I'm reminded of how I've disappointed him yet again. How I'm not the dutiful daughter he expected.",mood:"sad"},{character:"maven",text:"It takes integrity to maintain those boundaries. I admire that about you.",mood:"neutral"},{character:"narrator",text:"You sit with Etta as she opens up about the weight of family expectations. Though she quickly composes herself and returns to her professional demeanor, there's a new understanding between you."}],nextSceneId:"summer-character-selection-3"},"summer-visit-senara":{id:"summer-visit-senara",background:"stonewich-office",dialogue:[{character:"narrator",text:"You find Senara in a quiet corner of the office, surrounded by historical texts and digital displays showing intricate neural pathway diagrams."},{character:"senara",text:"Maven. I didn't expect company today.",mood:"surprised"},{character:"maven",text:"What are you working on? It looks fascinating.",mood:"neutral"},{character:"senara",text:"I'm studying historical musical patterns from Stonewich's past summer festivals and their neurological impact on listeners.",mood:"neutral"},{character:"senara",text:"My analysis suggests certain chord progressions produce a 37% increase in dopamine release when performed at sunset versus midday.",mood:"neutral"},{character:"maven",text:"That's... remarkably specific. How can you tell?",mood:"surprised"},{character:"senara",text:"My neural interfacing allows me to process patterns that others might miss. But sometimes I wonder if my conclusions are truly mine or just the algorithms my parents had implanted.",mood:"sad"}],choices:[{text:"Let's focus on applying your research to optimize the festival schedule for maximum impact.",affectionChanges:{senara:-.5},nextSceneId:"summer-visit-senara-technical"},{text:"Tell me more about these neural enhancements. How do they affect how you experience the world?",affectionChanges:{senara:1},nextSceneId:"summer-visit-senara-personal"}]},"summer-visit-senara-technical":{id:"summer-visit-senara-technical",background:"stonewich-office",dialogue:[{character:"senara",text:"A practical approach. Very well.",mood:"neutral"},{character:"maven",text:"Your insights could help us create a truly memorable experience for attendees.",mood:"neutral"},{character:"senara",text:"According to my analysis, we should schedule the string quartet at sunset, followed by percussion-heavy ensembles as night falls.",mood:"neutral"},{character:"maven",text:"And what about the wine tasting events? Is there an optimal time for those?",mood:"neutral"},{character:"senara",text:"Mid-afternoon provides the optimal balance of light, temperature, and taste sensitivity. I can show you the data.",mood:"neutral"},{character:"narrator",text:"You spend hours with Senara, creating an intricate schedule based on their remarkable insights. Though focused on the technical aspects, you occasionally catch them watching your reactions with what seems like curiosity."}],nextSceneId:"summer-character-selection-4"},"summer-visit-senara-personal":{id:"summer-visit-senara-personal",background:"stonewich-office",dialogue:[{character:"senara",text:"You... want to know about that? Most people prefer to ignore the augmentations.",mood:"surprised"},{character:"maven",text:"I'm interested in you as a person. That includes understanding how your perception of our shared reality may differ.",mood:"neutral"},{character:"senara",text:"My parents were pioneers in neural enhancement. They believed they were giving me a gift—expanded cognitive capacity, pattern recognition beyond human baseline.",mood:"neutral"},{character:"senara",text:"But sometimes I process information so differently from others that I feel... disconnected. Like I'm observing humanity rather than participating in it.",mood:"sad"},{character:"maven",text:"Do you ever resent them for making that choice for you?",mood:"neutral"},{character:"senara",text:"How can I? They gave me abilities that make me valuable. But I often wonder—if I find beauty in a musical pattern because of mathematical precision rather than emotional resonance, am I really experiencing beauty at all?",mood:"thoughtful"},{character:"maven",text:"Perhaps there's beauty in both approaches. Different paths to appreciation don't make your experience less valid.",mood:"thoughtful"},{character:"senara",text:"An intriguing perspective. I... appreciate you listening, Maven. Few people ask these questions.",mood:"happy"},{character:"narrator",text:"You spend the afternoon in philosophical conversation with Senara. As you talk, you notice their typically rigid posture gradually relaxing, as if unburdened by sharing these deeply personal thoughts."}],nextSceneId:"summer-character-selection-4"}},ET={...gT,...sl,...IT,...kT,...ST,...CT},AT={"autumn-intro":{id:"autumn-intro",background:"stonewich-office",dialogue:[{character:"narrator",text:"As summer fades into autumn, the city of Stonewich transforms with vibrant oranges and reds. The air grows crisper, and preparations for the Heritage & Handicrafts Festival begin."},{character:"maven",text:"I can't believe we've already been here for half a year. So much has changed since we first arrived.",mood:"thoughtful"},{character:"xavier",text:"The Heritage & Handicrafts Festival is about celebrating the community and shared culture of Stonewich. Maybe it can spark some better connections.",mood:"happy"},{character:"etta",text:"We need to reconsider the metrics we've been using beyond performance efficiency. It'll be a challenge to measure anything as hazy as community spirit.",mood:"neutral"},{character:"senara",text:"The festival provides a fascinating look into the cultural evolution of the city. The artisans on display are quite remarkable.",mood:"thoughtful"},{character:"navarre",text:"And the food! Don't forget about the Heritage Food Fest. Local restaurants showcase traditional recipes passed down through generations.",mood:"happy"}],nextSceneId:"autumn-planning"},"autumn-planning":{id:"autumn-planning",background:"stonewich-office",dialogue:[{character:"etta",text:"Let's talk about our responsibilities for the festival. We need to coordinate with the event organizers and make sure everything runs smoothly.",mood:"neutral"},{character:"xavier",text:"I've been looking at the technical needs for the festival. We'll need to set up additional network nodes around the historic district to handle the increased data traffic.",mood:"neutral"},{character:"navarre",text:"I've already reached out to the local artisans and craftspeople. They're excited to showcase their work at the festival.",mood:"happy"},{character:"senara",text:"The city has a fascinating history of craftmanship and skills development. I wonder what likely contributed to periods of exceptional growth.",mood:"thoughtful"},{character:"maven",text:"I have a good feeling about the autumn season. I have decided on a focus that may help us address the larger picture that Dr. Voss shared.",mood:"happy"},{character:"etta",text:"That's great, Maven, but whatever it is, we still need to deliver on expectations for the festival and our other administration duties.",mood:"neutral"},{character:"navarre",text:"We are counting on you, Maven, but you're not alone.",mood:"neutral"},{character:"xavier",text:"That's right! If you need a hand, it'll be our turn to pitch in for you.",mood:"neutral"},{character:"maven",text:"Thanks, everyone. Let's all do our best!",mood:"neutral"}],nextSceneId:"autumn-relationship-development"},"autumn-relationship-development":{id:"autumn-relationship-development",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"As autumn deepens, I find myself thinking more and more about the connections I've made here in Stonewich.",mood:"thoughtful"}],nextSceneId:"autumn-character"},"autumn-character":{id:"autumn-character",background:"autumn-cityoverlook",dialogue:[],nextSceneId:"autumn-festival-intro"}},jT={"autumn-festival-intro":{id:"autumn-festival-intro",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"The autumn air is crisp with the scent of spiced cider and wood smoke as we arrive at the Autumn Handicrafts & Heritage Festival.",mood:"happy"},{character:"narrator",text:"The festival celebrates the traditional crafts and cultural heritage that have been passed down through generations in Stonewich."},{character:"maven",text:"I'm excited to see all the different crafts and traditions on display. There's so much to explore!",mood:"happy"}],nextSceneId:"autumn-festival-activities"},"autumn-festivities-conclusion":{id:"autumn-festivities-conclusion",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"That was a wonderful time at the festival. I feel like I've really connected with the heritage of Stonewich.",mood:"happy"},{character:"maven",text:"I should check in with the team and see what's next on our agenda.",mood:"thoughtful"}],nextSceneId:"autumn-conclusion-debrief"}},PT={"autumn-crafter-intro":{id:"autumn-crafter-intro",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"The artisan workshop looks fascinating! I could try my hand at making something with traditional methods and modern touches.",mood:"happy"}],nextSceneId:"autumn-crafter-start"},"autumn-crafter-start":{id:"autumn-crafter-start",background:"autumn-cityoverlook",minigame:"crafter",dialogue:[{character:"maven",text:"Let's see what I can create!",mood:"happy"}],nextSceneId:"autumn-crafter-complete"},"autumn-crafter-complete":{id:"autumn-crafter-complete",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I'm quite proud of what I've made! It's a perfect blend of traditional craftsmanship and modern design.",mood:"happy"}],nextSceneId:"autumn-festival-activities"},"autumn-tour-guide-intro":{id:"autumn-tour-guide-intro",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I could help guide tourists through the historic district and share Stonewich's rich history with them.",mood:"thoughtful"}],nextSceneId:"autumn-tour-guide-start"},"autumn-tour-guide-start":{id:"autumn-tour-guide-start",background:"autumn-cityoverlook",minigame:"tourGuide",dialogue:[{character:"maven",text:"Time to show these visitors what makes Stonewich so special!",mood:"happy"}],nextSceneId:"autumn-tour-guide-complete"},"autumn-tour-guide-complete":{id:"autumn-tour-guide-complete",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"The tourists seemed to really enjoy learning about Stonewich's history. It's important to keep these stories alive.",mood:"happy"}],nextSceneId:"autumn-festival-activities"},"autumn-memories-intro":{id:"autumn-memories-intro",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"We should take some photos together to remember this festival!",mood:"happy"}],nextSceneId:"autumn-memories-date-start"}},NT={"season-transition-autumn":{id:"season-transition-autumn",background:"autumn-transition",dialogue:[{character:"narrator",text:"As summer fades, autumn blankets Stonewich in rich, warm colors. The city prepares for the Handicrafts & Heritage festival."},{character:"narrator",text:"The team's bond has grown stronger, and certain relationships have deepened beyond professional camaraderie."},{character:"maven",text:"Autumn in Stonewich... I can feel a change in the air. Not just the season, but something in me too.",mood:"thoughtful"}],nextSceneId:"autumn-intro"}},MT={"autumn-festivities-conclusion":{id:"autumn-festivities-conclusion",background:"autumn-cityoverlook",dialogue:[{character:"narrator",text:"As autumn reaches its peak, the Heritage & Handicrafts Festival comes to a successful conclusion."},{character:"navarre",text:"Another fantastic festival in the books! The engagement metrics are through the roof.",mood:"happy"},{character:"etta",text:"The operational efficiency was 12% higher than last season. We're definitely improving.",mood:"happy"},{character:"xavier",text:"All the systems performed without a single major issue. I think we've really hit our stride as a team.",mood:"happy"},{character:"maven",text:"We should be proud of what we've accomplished here.",mood:"happy"},{character:"senara",text:"We should prepare for our meeting with Dr. Voss. She'll want a detailed report.",mood:"neutral"}],nextSceneId:"autumn-conclusion-meeting"},"autumn-conclusion-meeting":{id:"autumn-conclusion-meeting",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"The team meets with Dr. Voss to discuss the autumn festival's outcomes and prepare for winter."},{character:"etta",text:"That wraps up the report for the season. Did you have feedback for us, Dr. Voss?",mood:"neutral"},{character:"narrator",text:"Dr. Voss: Your performance this season has been exemplary. You continue to deliver as individual talents."},{character:"narrator",text:"Dr. Voss: I don't think you need me to tell you that. You've started showing some progress on those broader social markers as well, as only a unified team can."},{character:"maven",text:"Your feedback last season helped us to look beyond ourselves. We have a long way to go, but our behavioral patterns are shifting.",mood:"happy"},{character:"narrator",text:"Dr. Voss: Indeed. I've observed considerable changes, much more than could be considered coincidental."},{character:"narrator",text:"Dr. Voss: The autumn festival in particular drove higher rates of romantic commitments and productive skill building, both essential for a stable and happy workforce."},{character:"narrator",text:"Dr. Voss: The competitors are still there, but the local authorities and commerce leaders are not as receptive."},{character:"narrator",text:"Dr. Voss: From the end of summer until now, that is a remarkable shift. If you can keep up this momentum, Stonewich may emerge on stronger footing than it's had in the last ten years."},{character:"narrator",text:"Dr. Voss: Your final evaluations and future assignments with Cybaton will be at the end of the year. Cybaton is counting on you. Stonewich needs your best."}],nextSceneId:"autumn-conclusion-debrief"},"autumn-conclusion-debrief":{id:"autumn-conclusion-debrief",background:"cybaton-shuttle",dialogue:[{character:"narrator",text:"After the meeting with Dr. Voss, the team debriefs on the shuttle back to Stonewich and reflects on their journey so far."},{character:"etta",text:"I can't believe what a difference there was between the report we gave at the end of summer and this one. Dr. Voss was practically giddy.",mood:"happy"},{character:"navarre",text:"I don't know if we can go that far, but she definitely didn't have the doom and gloom soundtrack playing this time.",mood:"laughing"},{character:"xavier",text:"Everything felt so much more grounded in purpose this season. It really helped me to consider a broader perspective.",mood:"happy"},{character:"senara",text:"Maven's influence was subtle, sincere and effective.",mood:"happy"},{character:"navarre",text:"Just one season left. It's hard to believe how quickly this year has gone by.",mood:"sad"},{character:"etta",text:"We've come a long way since that first awkward meeting at Cybaton headquarters.",mood:"sad"},{character:"xavier",text:"Remember when the coffee machine exploded during our second week? I thought Etta was going to have us all fired.",mood:"laughing"},{character:"etta",text:"It was YOUR programming that caused the malfunction!",mood:"laughing"},{character:"senara",text:"I think we've all changed since then. For the better.",mood:"happy"},{character:"maven",text:"Here's to our final season. Let's make it count.",mood:"happy"}],nextSceneId:"autumn-conclusion"},"autumn-conclusion":{id:"autumn-conclusion",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"Autumn in Stonewich has been a time of reflection and deeper connections. The Heritage & Handicrafts Festival was amazing.",mood:"neutral"},{character:"maven",text:"I feel like I'm really making special connections here. I'm looking forward to what comes next. Winter is coming!",mood:"happy"}],nextSceneId:"season-transition-winter"}},RT={"autumn-character-relationship":{id:"autumn-character-relationship",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"The autumn festival is coming up. I should invite someone to join me.",mood:"thoughtful"}],nextSceneId:"autumn-character"},"autumn-xavier":{id:"autumn-xavier",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I think I'll spend some time with Xavier today.",mood:"happy"},{character:"xavier",text:"Maven! Perfect timing. I was just admiring the autumn decorations.",mood:"happy"},{character:"maven",text:"They're beautiful, aren't they? Would you like to explore the festival together?",mood:"happy"},{character:"xavier",text:"I'd love that! There's so much to see.",mood:"happy"}],nextSceneId:"autumn-xavier-resolution"},"autumn-navarre":{id:"autumn-navarre",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I think I'll spend some time with Navarre today.",mood:"happy"},{character:"navarre",text:"Maven! Just the person I wanted to see. The autumn festival is in full swing.",mood:"happy"},{character:"maven",text:"It is! Would you like to explore it together?",mood:"happy"},{character:"navarre",text:"Absolutely! I know all the best spots. Let me show you around.",mood:"happy"}],nextSceneId:"autumn-navarre-resolution"},"autumn-etta":{id:"autumn-etta",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I think I'll spend some time with Etta today.",mood:"happy"},{character:"etta",text:"Maven. Good. I was about to do a strategic review of the autumn festivities.",mood:"neutral"},{character:"maven",text:"That sounds... fun? Maybe we could just enjoy the festival together instead?",mood:"thoughtful"},{character:"etta",text:"Hmm. I suppose hands-on observation could be valuable data collection as well.",mood:"thoughtful"}],nextSceneId:"autumn-etta-resolution"},"autumn-senara":{id:"autumn-senara",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I think I'll spend some time with Senara today.",mood:"happy"},{character:"senara",text:"Maven, hello. I was just observing the fascinating cultural traditions on display.",mood:"thoughtful"},{character:"maven",text:"Would you like to explore the festival together? There's so much to see.",mood:"happy"},{character:"senara",text:"I'd appreciate that. Your perspective on these customs would be... valuable to me.",mood:"happy"}],nextSceneId:"autumn-senara-resolution"},"autumn-xavier-resolution":{id:"autumn-xavier-resolution",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"Thanks for spending time with me, Xavier. The autumn festival should be starting soon.",mood:"happy"},{character:"xavier",text:"I can't wait! Let's see what activities they have this year.",mood:"happy"}],nextSceneId:"autumn-festival-intro"},"autumn-navarre-resolution":{id:"autumn-navarre-resolution",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"That was fun, Navarre. We should head to the autumn festival now.",mood:"happy"},{character:"navarre",text:"Lead the way! I hear they have some amazing crafts this year.",mood:"happy"}],nextSceneId:"autumn-festival-intro"},"autumn-etta-resolution":{id:"autumn-etta-resolution",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"I enjoyed our time together, Etta. Let's check out the autumn festival.",mood:"happy"},{character:"etta",text:"Yes. There are several activities that could benefit from our oversight.",mood:"neutral"}],nextSceneId:"autumn-festival-intro"},"autumn-senara-resolution":{id:"autumn-senara-resolution",background:"autumn-cityoverlook",dialogue:[{character:"maven",text:"That was lovely, Senara. The autumn festival should be starting.",mood:"happy"},{character:"senara",text:"I'm looking forward to seeing how tradition and innovation blend in these celebrations.",mood:"thoughtful"}],nextSceneId:"autumn-festival-intro"}},Ux={...AT,...jT,...PT,...NT,...MT,...RT};console.log("Available autumn scenes:",Object.keys(Ux));const DT={"winter-intro":{id:"winter-intro",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"With autumn's harvest complete, winter settles in Stonewich. The air is crisp and the city prepares for its most celebrated event."},{character:"narrator",text:"The Winter Gala & Games is the crown jewel of Stonewich's seasonal festivals, drawing visitors from neighboring cities."},{character:"xavier",text:"Winter in Stonewich really is something special. The Gala & Games transforms the entire city.",mood:"happy"},{character:"senara",text:"The marking of a year's end, and the hopeful start to a new one. I never fully appreciated that sentiment before.",mood:"neutral"},{character:"navarre",text:"I've heard so much about this festival. I'm excited to see it firsthand with the very best fashion and food.",mood:"happy"},{character:"etta",text:"The fickle weather makes practical planning more essential than ever. There's so much to do!",mood:"neutral"}],nextSceneId:"winter-planning"}},FT={"winter-planning":{id:"winter-planning",background:"stonewich-office",dialogue:[{character:"maven",text:"Winter in Stonewich brings new challenges, but also new opportunities to build on what we've learned.",mood:"neutral"},{character:"xavier",text:"Winter in Stonewich really is something special. The Gala & Games transforms the entire city.",mood:"happy"},{character:"senara",text:"The marking of a year's end, and the hopeful start to a new one. I never fully appreciated that sentiment before.",mood:"neutral"},{character:"navarre",text:"I've heard so much about this festival. I'm excited to see it firsthand with the very best fashion and food.",mood:"happy"},{character:"etta",text:"The fickle weather makes practical planning more essential than ever. There's so much to do!",mood:"neutral"},{character:"maven",text:"This festival is our biggest challenge yet in many ways, but it feels strangely like an afterthought at times.",mood:"neutral"},{character:"etta",text:"We still need to deliver on the festival. Maven, work your magic again.",mood:"neutral"},{character:"xavier",text:"We're all in this together.",mood:"happy"},{character:"narrator",text:"You find yourself naturally working with the one person who you have become closest to."}],nextSceneId:"winter-planning-character"},"winter-planning-character":{id:"winter-planning-character",background:"winter-cityoverlook",dialogue:[],nextSceneId:null},"winter-planning-xavier":{id:"winter-planning-xavier",background:"stonewich-workstation",dialogue:[{character:"xavier",text:"You know that communications system we worked on? I've been thinking about expanding it for the Winter Games.",mood:"happy"},{character:"maven",text:"A city-wide rollout? That sounds ambitious.",mood:"surprised"},{character:"xavier",text:"I want to take what we learned and scale it up. A system that can recommend local connections based on interests and proximity.",mood:"happy"},{character:"xavier",text:"After autumn, I realized how much people need these connections. I want to help others find what we found together.",mood:"happy"},{character:"maven",text:"That's incredible, Xavier. I think it could really make a difference for people during the festival.",mood:"happy"},{character:"xavier",text:"With your support, I feel like I can do this. I'm not just the tech guy anymore - I'm someone who can help bring people together.",mood:"happy"}],nextSceneId:"winter-festival-intro"},"winter-planning-etta":{id:"winter-planning-etta",background:"stonewich-workstation",dialogue:[{character:"etta",text:"I reached out to my father yesterday. About the arranged marriage situation.",mood:"neutral"},{character:"maven",text:"That must have been difficult. How did it go?",mood:"sad"},{character:"etta",text:"Better than expected. I was direct about my feelings, about what I want for my future... and about us.",mood:"sad"},{character:"etta",text:"He was surprised, but he listened. I proposed that his company could still partner with Cybaton without the marriage requirement.",mood:"neutral"},{character:"maven",text:"That's a huge step, Etta. I'm proud of you for standing up for yourself.",mood:"happy"},{character:"etta",text:"For the Winter Gala, he's agreed to come and discuss terms. I want to show him that I can be successful on my own terms.",mood:"neutral"},{character:"etta",text:"And I want him to meet you. Properly.",mood:"happy"}],nextSceneId:"winter-festival-intro"},"winter-planning-navarre":{id:"winter-planning-navarre",background:"city-cafe",dialogue:[{character:"navarre",text:"Have you seen the latest video Morgan and I posted? The viewership is incredible!",mood:"happy"},{character:"maven",text:"I saw it. Your partnership is really working out.",mood:"happy"},{character:"navarre",text:"It is, but... there's something I need to address. The fans keep speculating about my love life.",mood:"sad"},{character:"maven",text:"I've seen some of the comments. Does it bother you?",mood:"neutral"},{character:"navarre",text:"What bothers me is that they might make you think this is just another flirtation for me. It's not.",mood:"neutral"},{character:"navarre",text:"For the Winter Gala, I want to dedicate a special broadcast that shows real people with honest relationships and what makes them last. I'd like you to appear on the show with me.",mood:"happy"},{character:"maven",text:"Navarre... you don't have to prove anything to me.",mood:"happy"},{character:"navarre",text:"I'm tired of being seen as just the charming influencer and want to encourage others to express themselves more authentically like I've been learning to do, with you.",mood:"sad"},{character:"navarre",text:"I want to be seen as someone capable of real commitment. Someone worthy of you.",mood:"embarrassed"},{character:"maven",text:"In that case, I'd be happy to join you on the show.",mood:"embarrassed"}],nextSceneId:"winter-festival-intro"},"winter-planning-senara":{id:"winter-planning-senara",background:"stonewich-office",dialogue:[{character:"narrator",text:"You decide to check on Senara."},{character:"senara",text:"Hello, Maven. You have uncanny timing. I find myself distracted from the planning efforts required for the festival.",mood:"sad"},{character:"maven",text:"Oh? Is something troubling you?",mood:"surprised"},{character:"senara",text:"You, in part. I mean, you are the root cause of the flood of emotions I'm now experiencing that have caused me to be distracted.",mood:"happy"},{character:"senara",text:"I've spent too much of my life in silence, with moderated logical reactions as were expected of me. Now I feel like I know what the heights and lows of human emotion are for the first time.",mood:"happy"},{character:"maven",text:"What's different now?",mood:"surprised"},{character:"senara",text:"First, I think I was subconsciously regulating my thoughts and feelings to avoid further scrutiny from those watching over my development. But after declining the interface sessions, a floodgate opened in my mind.",mood:"sad"},{character:"senara",text:"And, I'm trying to be more assertive with my feelings. Starting with how I feel about you.",mood:"happy"},{character:"senara",text:"May I?",mood:"embarrassed"},{character:"narrator",text:"Senara brings his hand up to yours with slow hesitation, watching for your reaction as he gently wraps his fingers with yours in the barest of touches."},{character:"maven",text:"Yes, please.",mood:"embarrassed"}],nextSceneId:"winter-festival-intro"}},LT={"winter-festival-activities":{id:"winter-festival-activities",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"With the Winter Gala & Games underway, there are several activities you could participate in."},{character:"maven",text:"Where should I focus my attention during the festival?",mood:"neutral"}],nextSceneId:"winter-festival-completion"},"winter-charity-auction-intro":{id:"winter-charity-auction-intro",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"The Winter Gala's charity auction is one of the most anticipated events of the season. Luxury items and experiences are available to the highest bidders, with all proceeds going to local charities."}],nextSceneId:"winter-charity-auction-start"},"winter-charity-auction-complete":{id:"winter-charity-auction-complete",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"The charity auction concludes with impressive results. The funds raised will support several local initiatives throughout the coming year."},{character:"navarre",text:"That was fantastic! Did you see how much the historical city tour package went for?",mood:"happy"},{character:"maven",text:"The whole event was a huge success. I'm glad we could be part of it.",mood:"happy"},{character:"navarre",text:"Events like this remind me why I love what I do. Connecting people, creating experiences... it matters.",mood:"happy"}],nextSceneId:"winter-festival-activities"},"winter-gala-dance-intro":{id:"winter-gala-dance-intro",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"The grand ballroom is beautifully decorated for the Winter Gala. Crystal chandeliers sparkle overhead as couples take to the floor for the traditional winter waltz."},{character:"narrator",text:"You look around to see if someone special might be available to enjoy this moment with you."},{character:"narrator",text:"You hear a voice ask, 'may I have this dance?'"},{character:"maven",text:"Yes, please.",mood:"happy"}],nextSceneId:"winter-gala-dance-start"},"winter-gala-dance-complete":{id:"winter-gala-dance-complete",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"As the music fades, the two of you gradually stop dancing, but remain close together in the center of the ballroom."},{character:"maven",text:"That was... wonderful. Thank you.",mood:"happy"}],nextSceneId:"winter-festival-activities"},"winter-looking-signs-intro":{id:"winter-looking-signs-intro",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"A unique Winter Games & Gala tradition involves couples walking through the snow-covered Stonewich Gardens, looking for 'signs' that predict their future together."},{character:"maven",text:"I wonder if we should give it a try?",mood:"neutral"}],nextSceneId:"winter-looking-signs-start"},"winter-looking-signs-complete":{id:"winter-looking-signs-complete",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"Your walk through the winter gardens comes to an end as you reach a small frozen pond, its surface reflecting the starlight above."}],nextSceneId:"winter-festival-activities"}},OT={"winter-review-preparation":{id:"winter-review-preparation",background:"stonewich-office",dialogue:[{character:"maven",text:"The annual review is tomorrow. It's hard to believe our year in Stonewich is coming to an end.",mood:"thoughtful"},{character:"xavier",text:"We've accomplished so much together. The systems we've implemented have significantly improved city operations.",mood:"happy"},{character:"etta",text:"Year-end operations are well under way as well as the festival plans.",mood:"happy"},{character:"navarre",text:"We've built real relationships here. They are the envy of our competitors and other communities alike.",mood:"happy"},{character:"senara",text:"The connective web between people and technology has strengthened considerably in our year here. While most change is subtle, people have adapted readily vastly accelerating the impact.",mood:"neutral"}],nextSceneId:"winter-voss-report"},"winter-voss-report":{id:"winter-voss-report",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"The team gathers for their final seasonal report to Dr. Voss. There's tension in the air - this evaluation will determine their future with Cybaton."},{character:"narrator",text:"Dr. Voss: Your team has shown remarkable growth over the course of this year. The Winter Games & Gala was a resounding success."},{character:"narrator",text:"The metrics show unprecedented efficiency, public satisfaction, and technological innovation."},{character:"narrator",text:"What's more impressive is how you've each developed individually and as a cohesive unit."},{character:"maven",text:"Thank you, Dr. Voss. This experience has transformed all of us.",mood:"happy"},{character:"narrator",text:"Indeed. And now it's time to discuss your future assignments with Cybaton."}],nextSceneId:"winter-annual-review"},"winter-annual-review":{id:"winter-annual-review",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"Dr. Voss: The results now speak for themselves. Other cities are clamoring for the innovations in tech, process, and engagement that you spearheaded this year."},{character:"narrator",text:"Competitive bids have started to decrease and rapidly replaced by collaborative partnership offers."},{character:"narrator",text:"These results speak well of you both as individual talents and even more so as a collective team. Your place with Cybaton is assured."},{character:"narrator",text:"Frankly, the results have been... surprising. The team's performance has exceeded our projections by a significant margin."}],nextSceneId:"winter-future-assignments"},"winter-future-assignments":{id:"winter-future-assignments",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"Dr. Voss: Now, for your future assignments. Cybaton has several options for your team."},{character:"narrator",text:"Option one: You remain together as a team and continue your work in Stonewich. The city has requested to extend your contract."},{character:"narrator",text:"Option two: The team is disbanded, and each of you is assigned to different projects where your individual skills are needed."},{character:"narrator",text:"Option three: You remain together as a team but are reassigned to a new city that could benefit from your collaborative approach."},{character:"narrator",text:"The decision will be based on company needs, but I'd like to hear your preferences."}],choices:[{text:"I'd like to stay in Stonewich. We've built something special here.",affectionChanges:{xavier:.5,navarre:.5,etta:.5,senara:.5},nextSceneId:"winter-team-responses"},{text:"I believe our team works well together. We should stay together, wherever we're needed.",affectionChanges:{xavier:.5,navarre:.5,etta:.5,senara:.5},nextSceneId:"winter-team-responses"},{text:"I trust Cybaton to place us where we can be most effective.",nextSceneId:"winter-team-responses"}]},"winter-team-responses":{id:"winter-team-responses",background:"cybaton-meeting-room",dialogue:[{character:"xavier",text:"I believe we've only scratched the surface of what we can accomplish in Stonewich. I'd prefer to stay and continue our work here.",mood:"happy"},{character:"navarre",text:"The connections we've built in Stonewich are valuable. But ultimately, I want us to stay together as a team, wherever that may be.",mood:"happy"},{character:"etta",text:"Keeping the team together makes the most sense. We've developed effective collaborative methods.",mood:"happy"},{character:"senara",text:"Our team's unique dynamics would be beneficial in any setting, but there's value in the continuity of remaining in Stonewich.",mood:"happy"},{character:"narrator",text:"Thank you for your input. I'll take your preferences into consideration. The final decision will be announced shortly."}],nextSceneId:"winter-conclusion"},"winter-conclusion":{id:"winter-conclusion",background:"cybaton-shuttle",dialogue:[{character:"narrator",text:"With the final assessment complete, the team boards the shuttle one last time heading for Stonewich. Their year-long assignment is coming to an end."},{character:"xavier",text:"I can't believe it's almost over. This year changed everything for me.",mood:"thoughtful"},{character:"etta",text:"For all of us. We're not the same people who arrived here last spring.",mood:"thoughtful"},{character:"navarre",text:"Oh, I'm definitely still charming and devastatingly handsome. But maybe a bit wiser too.",mood:"laughing"},{character:"senara",text:"We've built something meaningful here. Not just for the city, but for ourselves.",mood:"thoughtful"},{character:"maven",text:"Whatever comes next, I'm grateful for this time with all of you.",mood:"happy"}],choices:[{text:"Look toward the future",nextSceneId:"winter-confession"}]},"winter-confession":{id:"winter-confession",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"Before we all go our separate ways, there's something I need to say...",mood:"thoughtful"},{character:"maven",text:"This year has meant everything to me. Not just professionally, but personally.",mood:"happy"},{character:"maven",text:"And there's one person who has become especially important to me.",mood:"embarrassed"}],nextSceneId:"epilogue-route"}},VT={"winter-confession":{id:"winter-confession",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"While the team waits to hear what their future assignments may be from Cybaton, you have time to ponder more personal matters."},{character:"maven",text:"I can't help but think about what happens next... and about us. Maybe we should talk.",mood:"neutral"}],nextSceneId:"winter-character-confession"},"winter-confession-xavier":{id:"winter-confession-xavier",background:"winter-cityoverlook",dialogue:[{character:"xavier",text:"Maven, before we get our assignments for next year, there's something I need to tell you.",mood:"neutral"},{character:"xavier",text:"This year in Stonewich has changed me in ways I never expected. I came here focused on technology and systems, but I found something more important.",mood:"happy"},{character:"xavier",text:"I've been asked to lead a team of Solvitors at headquarters to explore my innovations. To help connect people through technology, just like we've connected.",mood:"happy"},{character:"xavier",text:"But none of it means anything without you, Maven. I've fallen in love with you, and whatever happens with the review, I want us to face it together.",mood:"happy"}],choices:[{text:"I love you too, Xavier. You've shown me what it means to care deeply about others.",affectionChanges:{xavier:2},nextSceneId:"winter-happy-xavier"},{text:"I care about you deeply, Xavier, but I'm not ready for anything more right now.",affectionChanges:{xavier:-2},nextSceneId:"winter-noncommit-xavier"}]},"winter-happy-xavier":{id:"winter-happy-xavier",background:"winter-cityoverlook",dialogue:[{character:"xavier",text:"You... you love me too? I was so nervous to tell you.",mood:"surprised"},{character:"xavier",text:"The team at headquarters - they're like-minded people, but finding connections with them has been so much easier because of what I learned with you.",mood:"laughing"},{character:"xavier",text:"My dream is to help people connect through technology, but you've shown me that the human element is just as important.",mood:"happy"},{character:"xavier",text:"Whatever happens going forward, knowing how you feel gives me confidence that we'll face it together.",mood:"laughing"}],nextSceneId:"team-future-meeting"},"winter-noncommit-xavier":{id:"winter-noncommit-xavier",background:"winter-cityoverlook",dialogue:[{character:"xavier",text:"That's understandable, Maven. I'm hopeful for our future, whatever form it takes.",mood:"neutral"},{character:"xavier",text:"The team I'm leading at headquarters - they've already made me feel welcome, but it's different from what we have here.",mood:"happy"},{character:"xavier",text:"Let's on what we have here and now. Let me know when you feel ready, and then we can talk more about us.",mood:"happy"}],nextSceneId:"team-future-meeting"},"winter-confession-navarre":{id:"winter-confession-navarre",background:"city-cafe",dialogue:[{character:"navarre",text:"Maven, I've been thinking a lot about what may come next for me, especially after that situation with Morgan and the job offer in Autumn.",mood:"neutral"},{character:"navarre",text:"You know I turned it down then, but I would again. And not just because of the team or Stonewich.",mood:"neutral"},{character:"navarre",text:"Do you remember the special broadcast for the Winter Gala where Morgan and I interviewed couples about what makes love last?",mood:"happy"},{character:"navarre",text:"Featuring the two of us together was very special to me. Declaring before the world so publicly that you have my heart was humbling and liberating.",mood:"happy"},{character:"navarre",text:"I've found someone who makes me want to stay. Who makes all the networking and connections in the world insignificant compared to one real, meaningful connection.",mood:"happy"},{character:"navarre",text:"I love you, Maven. And I want everyone to know it.",mood:"happy"}],choices:[{text:"I love you too, Navarre. You've shown me there's more to life than just following a predetermined path.",affectionChanges:{navarre:2},nextSceneId:"winter-happy-navarre"},{text:"I care about you deeply, Navarre, but I'm not sure I'm ready yet for anything more.",affectionChanges:{navarre:-2},nextSceneId:"winter-noncommit-navarre"}]},"winter-happy-navarre":{id:"winter-happy-navarre",background:"city-cafe",dialogue:[{character:"navarre",text:"Just like that? No questions about my sincerity or my rumored love life that surround my reputation like a dustcloud?",mood:"surprised"},{character:"maven",text:"Why would you ask that? Should I be worried?",mood:"surprised"},{character:"navarre",text:"No, I'm happy you showed me such deep and immediate trust. That special broadcast we did together made it clear to everyone. No more speculation, no more rumors.",mood:"happy"},{character:"navarre",text:"This is the happiest I've been, Maven. And I promise, whatever happens going forward, we'll face it together.",mood:"laughing"}],nextSceneId:"team-future-meeting"},"winter-noncommit-navarre":{id:"winter-noncommit-navarre",background:"city-cafe",dialogue:[{character:"navarre",text:"I understand. Taking things slowly is probably wise. But know that my feelings for you are genuine.",mood:"happy"},{character:"navarre",text:"You are worth waiting for, however long it may be. I'm happy to be with you as we are.",mood:"happy"},{character:"navarre",text:"I've stated clearly my intentions toward you to the world. When you're ready, we can talk more about us.",mood:"happy"}],nextSceneId:"team-future-meeting"},"winter-confession-etta":{id:"winter-confession-etta",background:"winter-cityoverlook",dialogue:[{character:"etta",text:"Maven, could I speak with you privately? It's about something important. Let's go out.",mood:"neutral"},{character:"etta",text:"I'm not good at this. Expressing... feelings. It's not something I've had much practice with.",mood:"sad"},{character:"etta",text:"My father and I made great progress on our relationship during the Gala, and he views our relationship favorably.",mood:"neutral"},{character:"etta",text:"The arranged marriage has been called off, and I have found a balance in my life that I did not know could be possible.",mood:"happy"},{character:"etta",text:"I've learned so much from you this year. About balance. About seeing value beyond just achievement.",mood:"happy"},{character:"etta",text:"What I'm trying to say is... I love you, Maven. And that terrifies me because it's not something I can control or optimize or perfect.",mood:"sad"}],choices:[{text:"I love you too, Etta. You don't have to be perfect with me. Just be yourself.",affectionChanges:{etta:2},nextSceneId:"winter-happy-etta"},{text:"I care about you deeply, Etta, but is the timing right for us now? You're jumping out of one relationship into another.",affectionChanges:{etta:-2},nextSceneId:"winter-noncommit-etta"}]},"winter-happy-etta":{id:"winter-happy-etta",background:"winter-cityoverlook",dialogue:[{character:"etta",text:"Are you sure? Despite all my flaws and obsessions and family baggage?",mood:"surprised"},{character:"maven",text:"Of course I am sure! No one means more to me.",mood:"laughing"},{character:"etta",text:"My father was able to see what I see in you. How you've helped me become stronger in ways I didn't know I lacked it before.",mood:"happy"},{character:"etta",text:"I don't know what I did to deserve you, Maven. But I promise I'll try to be worthy of your love.",mood:"laughing"},{character:"etta",text:"After resolving things with my father and getting through the first annual review, nothing else intimidates me now. Whatever comes next, we'll face it together.",mood:"happy"}],nextSceneId:"team-future-meeting"},"winter-noncommit-etta":{id:"winter-noncommit-etta",background:"winter-cityoverlook",dialogue:[{character:"etta",text:"That's... a logical approach. Taking things step by step.",mood:"neutral"},{character:"etta",text:"I'm grateful to you for helping me learn how to stand more confidently on my own.",mood:"happy"},{character:"etta",text:"I'm free now to choose my path and who I want to spend my life with. If you think we need more time, I can be patient.",mood:"happy"},{character:"etta",text:"For now, we can focus on what's in front of us. We can revisit this conversation when you feel the time is right.",mood:"happy"}],nextSceneId:"team-future-meeting"},"winter-confession-senara":{id:"winter-confession-senara",background:"stonewich-workstation",dialogue:[{character:"senara",text:"Maven, please sit here next to me. It might be a bit close. I'd like to share with you something new I've been researching. Something that has not come up in my analytical work before.",mood:"happy"},{character:"senara",text:"I told you before about the floodgate opening and the outpouring of emotions I've been experiencing. I've been studying my own emotional responses. Particularly those I experience in your presence.",mood:"neutral"},{character:"maven",text:"Really? You make it sound like you've constructed a scientific study of stimulus and response.",mood:"surprised"},{character:"senara",text:"Yes, of course. That's the natural step to take when faced with an uncertain environment and undocumented phenomena. I'm glad you thought of it too.",mood:"happy"},{character:"maven",text:"Then I'm curious to hear your findings as you have no doubt been thorough.",mood:"laughing"},{character:"senara",text:"I must preface my findings by saying this isn't a subject I have expertise in. But I know what I feel is real and significant.",mood:"happy"},{character:"senara",text:"My conclusion, after thorough analysis, is that I've developed passionate feelings for you. A near certainty of love.",mood:"embarrassed"}],choices:[{text:"Perhaps we should test that conclusion with additional stimuli?",affectionChanges:{senara:2},nextSceneId:"winter-happy-senara"},{text:"I reciprocate your feelings, Senara, but I'm not ready to embrace the natural conclusion such feelings generally manifest.",affectionChanges:{senara:-2},nextSceneId:"winter-noncommit-senara"}]},"winter-happy-senara":{id:"winter-happy-senara",background:"stonewich-workstation",dialogue:[{character:"senara",text:"What are you suggesting?",mood:"surprised"},{character:"maven",text:"First, verbal affirmation stimulus. Senara, I love you too.",mood:"happy"},{character:"senara",text:"Yes, this feeling is... overwhelming, in the best possible way.",mood:"laughing"},{character:"maven",text:"That response seems to support validation of your conclusion. How about one more test?",mood:"happy"},{character:"maven",text:"Let's test a physical stiumlus...",mood:"embarrassed"},{character:"narrator",text:"You lean forward and give the lightest, gentlest kiss to Senara on his cheek."},{character:"senara",text:"...",mood:"embarrassed"},{character:"maven",text:"I have hoped for this for a long time. I love you, Senara, passionately and fully with all my heart with a certainty that's beyond measure.",mood:"happy"},{character:"senara",text:"Forgive me, but I must borrow another's words as my own are deficit here, yet another experience new to me,",mood:"laughing"},{character:"senara",text:"..it is an ever-fixèd mark, That looks on tempests and is never shaken...if this be error and upon me proved, I never writ, nor no man ever loved.",mood:"happy"}],nextSceneId:"team-future-meeting"},"winter-noncommit-senara":{id:"winter-noncommit-senara",background:"stonewich-workstation",dialogue:[{character:"senara",text:"A measured approach. Yes, that makes sense. Emotions are complex and deserve careful consideration.",mood:"happy"},{character:"senara",text:"I have taken my findings one step farther. I developed and trained an algorithm that helps others navigate such complex emotions.",mood:"neutral"},{character:"senara",text:"I have released it to the Cybaton Oracle as Persephone, an AI diviner that relates guidance for seasons of emotions, the bright and the dark.",mood:"happy"},{character:"maven",text:"You found a way to share that you're comfortable with? That sounds like it'll be helpful to so many.",mood:"happy"},{character:"senara",text:"Yes, I'm grateful to you. Your perspective has changed my own so much.",mood:"happy"},{character:"senara",text:"If our current state is the capacity you are comfortable in being with me, I am content.",mood:"happy"}],nextSceneId:"team-future-meeting"}},$T={"team-future-meeting":{id:"team-future-meeting",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"The air is thick with anticipation. The cool, collected demeanor your team members have usually composed betrays small hints of stress."},{character:"narrator",text:"Dr. Voss: Thank you all for coming, and thank you once again for your hard work this past year. Our faith in you as individuals and as a team has been validated beyond expectations."},{character:"narrator",text:"Dr. Voss: After reviewing all factors, I've made a decision regarding your team's future."},{character:"narrator",text:"Your exceptional performance and the positive feedback from Stonewich has been taken into account and prioritized with other current needs that Cybaton is managing."},{character:"narrator",text:"As for the 'Versa' role experiment, a conclusion has not yet been reached. We will discuss that separately at another time."}],nextSceneId:"winter-epilogue-check"},"winter-epilogue-check":{id:"winter-epilogue-check",background:"cybaton-meeting-room",dialogue:[{character:"maven",text:"I catch the eye of my teammates. This is the moment we have been waiting to hear.",mood:"neutral"}],nextSceneId:"winter-to-epilogue"}},_T={"winter-to-epilogue":{id:"winter-to-epilogue",background:"winter-transition",dialogue:[{character:"narrator",text:"As winter comes to a close, your year-long journey in Stonewich approaches its conclusion."},{character:"narrator",text:"The choices you've made throughout the seasons have shaped not only your relationships with others, but also your own growth and understanding."},{character:"maven",text:"It feels like just yesterday that I first arrived here. So much has changed...",mood:"thoughtful"},{character:"narrator",text:"With the winter festival behind you, it's time to reflect on everything you've achieved and decide what comes next."}],nextSceneId:"epilogue-intro"}},BT={"season-transition-winter":{id:"season-transition-winter",background:"winter-transition",dialogue:[{character:"narrator",text:"Winter blankets Stonewich in pristine white snow, transforming the city into a glistening wonderland. The final and most prestigious event of the year approaches - the Winter Games & Gala."},{character:"narrator",text:"As the team prepares for their final challenge, personal relationships have deepened and professional bonds have strengthened through the seasons."},{character:"maven",text:"The final season... our last chance to prove ourselves. And perhaps, to decide where our hearts truly lie.",mood:"thoughtful"}],nextSceneId:"winter-intro"}},zT={"winter-festival-intro":{id:"winter-festival-intro",background:"winter-festival",dialogue:[{character:"maven",text:"The Winter Games & Gala is Stonewich's biggest celebration of the year! The entire city is decorated with lights and there's a festive atmosphere everywhere.",mood:"happy"},{character:"navarre",text:"Everyone who's anyone in the city attends the gala. It's the perfect opportunity to make connections and celebrate our accomplishments.",mood:"happy"},{character:"senara",text:"The Winter Festival also has deep cultural significance. It combines ancient traditions with modern celebrations.",mood:"neutral"}],nextSceneId:"winter-festival-activities"},"winter-festival-activities":{id:"winter-festival-activities",background:"winter-festival",dialogue:[{character:"maven",text:"There are so many activities happening during the Winter Games & Gala. What should I check out first?",mood:"thoughtful"}],choices:[{text:"Participate in the Charity Auction",nextSceneId:"winter-charity-auction-intro"},{text:"Join the Gala Dance",nextSceneId:"winter-gala-dance-intro"},{text:"Try Looking for Signs fortune reading",nextSceneId:"winter-looking-signs-intro"},{text:"Skip activities",nextSceneId:"winter-festival-conclusion"}]},"winter-festival-conclusion":{id:"winter-festival-conclusion",background:"winter-festival",dialogue:[{character:"maven",text:"The Winter Festival was incredible! I've never experienced anything quite like it.",mood:"happy"},{character:"narrator",text:"As the festival comes to a close, the team prepares for their final evaluations and the end of their training year."}],nextSceneId:"winter-conclusion"},"winter-conclusion":{id:"winter-conclusion",background:"winter-cityoverlook",dialogue:[{character:"maven",text:"I can't believe our year in Stonewich is almost over. It feels like we just arrived yesterday.",mood:"sad"},{character:"narrator",text:"The team gathers for their final evaluation meeting with Cybaton representatives."}],nextSceneId:"winter-ending"}},WT={"winter-looking-signs-intro":{id:"winter-looking-signs-intro",background:"winter-cityoverlook",dialogue:[{character:"senara",text:"Fortune reading is an ancient tradition in Stonewich. By reading the signs correctly, one can glimpse what fate has in store.",mood:"thoughtful"},{character:"maven",text:"How does it work?",mood:"thoughtful"},{character:"senara",text:"The reader must sort signs as they appear - sending bad omens to the left to hex them, and good signs to the right to embrace their energy.",mood:"neutral"},{character:"maven",text:"This sounds fascinating. I'd like to try it!",mood:"happy"}],nextSceneId:"winter-looking-signs-start"},"winter-looking-signs-start":{id:"winter-looking-signs-start",background:"winter-cityoverlook",dialogue:[{character:"narrator",text:"Reading the signs of fortune begins now!"}],minigame:"lookingSigns"},"winter-looking-signs-complete":{id:"winter-looking-signs-complete",background:"winter-cityoverlook",dialogue:[{character:"maven",text:"That was interesting! I think I'm starting to understand this tradition better.",mood:"happy"},{character:"senara",text:"You have a natural intuition for reading the signs. That's quite rare for someone not born in Stonewich.",mood:"happy"}],nextSceneId:"winter-festival-activities"}},HT={...DT,...FT,...LT,...OT,...VT,...$T,..._T,...BT,...zT,...WT},UT={"epilogue-intro":{id:"epilogue-intro",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"One year later..."},{character:"maven",text:"It's hard to believe two years have passed since I first arrived in Stonewich.",mood:"neutral"},{character:"maven",text:"So much has changed since then. I never could have imagined it back then as awkward and unsure of myself as I was.",mood:"happy"}],nextSceneId:"epilogue-check-ending"},"epilogue-check-ending":{id:"epilogue-check-ending",background:"stonewich-cityscape",dialogue:[{character:"maven",text:"Looking back on everything that's happened, the biggest change for me...",mood:"neutral"}],nextSceneId:"epilogue-route"},"epilogue-route":{id:"epilogue-route",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"Checking for appropriate epilogue..."}],nextSceneId:"game-complete"},"happy-ending-intro":{id:"happy-ending-intro",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"I've found something I never expected when I came to Stonewich... I found love.",mood:"embarrassed"}],nextSceneId:"happy-ending-character"},"happy-ending-character":{id:"happy-ending-character",background:"happy-ending-epilogue",dialogue:[{character:"narrator",text:"This scene will be dynamically replaced with the appropriate character's happy ending."}],nextSceneId:"game-complete"},"game-complete":{id:"game-complete",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"Thank you for playing Versa! Your journey in Stonewich has come to an end."},{character:"narrator",text:"You can start a new game to experience different character routes and unlock new content."}],choices:[{text:"Return to Main Menu",nextSceneId:"start"},{text:"About Versa",nextSceneId:"about"}]},"game-end-try-again":{id:"game-end-try-again",background:"cybaton-office",dialogue:[{character:"narrator",text:"Game End - Cybaton has disbanded your team due to insufficient levels of team chemistry and commitment. Try again to boost your relationships and to connect with someone special."}],nextSceneId:"start"}},YT={"versa-epilogue-intro":{id:"versa-epilogue-intro",background:"cybaton-ahuttle",dialogue:[{character:"narrator",text:"After experiencing all possible paths and relationships in Stonewich, a special ending is revealed..."},{character:"narrator",text:"Maven receives a private message from Dr. Voss a few days after the team assignments were revealed."},{character:"maven",text:"Dr. Voss wants to meet with me privately? That's unusual.",mood:"surprised"}],nextSceneId:"versa-epilogue-revelation"},"versa-epilogue-revelation":{id:"versa-epilogue-revelation",background:"cybaton-meeting-room",dialogue:[{character:"narrator",text:"Dr. Voss: Maven, thank you for meeting with me. I have something important to discuss with you regarding the 'Versa' experiment."},{character:"maven",text:"Of course, Dr. Voss. I've been curious about that since you mentioned it at our annual review.",mood:"neutral"},{character:"narrator",text:"Dr. Voss: The 'Versa' role was more than just an additional team member. There have been many experiements related to optimizing team configurations, after all. Versa was an experiment in adaptability and empathy."},{character:"narrator",text:"Dr. Voss: As with any experiment, an environment was carefully constructed to minimize the impact to the stimuli under study."},{character:"maven",text:"Stonewich? Yes, it seemed ideal for us as a learning environment for a new team with an established position and stability.",mood:"neutral"},{character:"narrator",text:"Dr. Voss: Almost too stable for the purposes of the experiment. Fortunately, Cybaton could adjust those factors easily - as it was an entirely artificial environment."},{character:"narrator",text:"Dr. Voss waited patiently for a moment while Maven absorbed the meaning of this revelation."},{character:"narrator",text:"Dr. Voss: I can see you understand the situation now. The Stonewich and experiences with the deployed team this past year have been a simulation run with your participation to determine the viability of the Versa role."},{character:"narrator",text:"Dr. Voss: Let me say again, your performance was exceptional. What makes you unique, Maven, is your ability for insight to people and empathetic motivations."},{character:"narrator",text:"Dr. Voss: The predicted impact of your influence on your teammates has been remarkable. Each of them has grown in ways we couldn't have predicted but nonetheless hoped to see achieved."},{character:"maven",text:"I'm not sure I understand. Are you saying I was tested as team catalyst in an artifical environment and that nothing from I experienced in the past year was in reality?",mood:"shocked"},{character:"narrator",text:"Dr. Voss: Yes, in part. Your team members were also in the experiment with you. Your interactions with them were real as that was the point of the experiment. Our simulated environment could not have predicted these results."},{character:"narrator",text:"Dr. Voss: Although there may be some discrepancies in experience, your team members will be transitioning to their new roles to the real city of Stonewich. Memories are flexible constructs, and they likely won't remember it wasn't real within a short time."},{character:"narrator",text:"Dr. Voss: As for you, we're creating a new division at Cybaton focused on human-centric city management, and we want you to lead it."},{character:"maven",text:"Me? Lead a division?",mood:"shocked"},{character:"narrator",text:"Dr. Voss: Your unique perspective and ability to understand different viewpoints makes you ideal for this role."},{character:"narrator",text:"Dr. Voss: The 'Versa' experiment was designed to identify individuals with exceptional adaptability. You've exceeded all expectations."}],nextSceneId:"versa-epilogue-decision"},"versa-epilogue-decision":{id:"versa-epilogue-decision",background:"cybaton-office",dialogue:[{character:"maven",text:"This is a lot to take in. Just how long was the experiment?",mood:"surprised"},{character:"narrator",text:"Dr. Voss: Today is the seventh day, approximately one day for transition at beginning and end, one day for each season, and today."},{character:"maven",text:"Do you mean that I'm still in the simulation experiment right now?",mood:"shocked"},{character:"narrator",text:"Dr. Voss: Yes, of course. We needed to know your decision before we transition you."},{character:"maven",text:"What if I don't want to lead the division?",mood:"sad"},{character:"narrator",text:"Dr. Voss: You'll be released."},{character:"narrator",text:"Dr. Voss: I do hope we do not have to say our farewells. If you agree, you'll be transitioned back into the divison lead role."},{character:"narrator",text:"Dr. Voss: You'll be based here at the Cybaton HQ. The Cybaton shuttle is available for your convenience."},{character:"narrator",text:"Dr. Voss: The choice is yours, Maven. You've earned the right to decide your own path forward."}],choices:[{text:"I accept the new role. I can make a wider impact. I believe in the team to move on and excel.",nextSceneId:"versa-epilogue-accept"},{text:"I appreciate the offer, but my place is in Stonewich.",nextSceneId:"versa-epilogue-decline"}]},"versa-epilogue-accept":{id:"versa-epilogue-accept",background:"cybaton-office",dialogue:[{character:"maven",text:"I accept the position. I believe I can make a wider impact for Cybaton like my team was able to achieve in Stonewich.",mood:"happy"},{character:"narrator",text:"Dr. Voss: Excellent. We'll begin preparations immediately. Congratulations, Maven."},{character:"maven",text:"Thank you for this opportunity, Dr. Voss. I won't let you down.",mood:"happy"},{character:"narrator",text:"With this decision, Maven steps into a new role, bringing her unique perspective to city management across Cybaton's territories."},{character:"narrator",text:"Her connections in Stonewich fostered new connections elsewhere. She influences city administration on a global scale as she had for Stonewich."},{character:"narrator",text:"This is just the beginning of a new chapter in Maven's journey..."}],nextSceneId:"versa-epilogue-complete"},"versa-epilogue-decline":{id:"versa-epilogue-decline",background:"cybaton-office",dialogue:[{character:"maven",text:"I appreciate the offer, Dr. Voss, but my place is with my team in Stonewich. We've built something special there.",mood:"happy"},{character:"narrator",text:"Dr. Voss: Certainly, I understand. It's disappointing, but your loyalty is admirable, and in its own way, confirms that our experiment was a success."},{character:"maven",text:"Thank you for understanding. I believe I can make the most difference by continuing my work with my team.",mood:"happy"},{character:"narrator",text:"Dr. Voss: We won't be able to extend this offer again to you unless you agree to another simulation environment. In the meantime, we'll provide additional resources to support the team in Stonewich."},{character:"narrator",text:"Maven is returned to reality with more self-awareness and confidence, but the inescapable feeling that she has forgotten something important."},{character:"narrator",text:"Over the next few years, Maven finds career success in a number of successive roles. A restlessness in her soul makes it hard to fully appreciate her accomplishments."},{character:"narrator",text:"A rare break in her demanding schedule has left her with a few days to spend in a charming port city during one of their seasonal festivals."},{character:"narrator",text:"Coming full circle at Stonewich, Maven at last feels at peace as if she has come home again. She suddenly recalls a poem she knew not from where, 'I am the master of my fate: I am the captain of my soul'."}],nextSceneId:"versa-epilogue-complete"},"versa-epilogue-complete":{id:"versa-epilogue-complete",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"Congratulations! You've completed the Versa epilogue and experienced the full story of Jericho Bricks."},{character:"narrator",text:"Thank you for playing!"}],choices:[{text:"Return to Main Menu",nextSceneId:"start"},{text:"About Jericho Bricks",nextSceneId:"about"}]}},GT={"happy-ending-xavier":{id:"happy-ending-xavier",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"Xavier, we have grown closer than I ever imagined. Your desire to connect people and improve society has deeply resonated with me. Your kindness and dedication have endeared him to me.",mood:"happy"},{character:"xavier",text:"That makes me so happy to hear you say that. I feel we have only grown closer this past year we've been together.",mood:"happy"},{character:"xavier",text:"Maven, I've been thinking about our future...",mood:"happy"},{character:"xavier",text:"I'd like to take our relationship to the next level. Share a secure home network, maybe? Eliminate redundant storage needs?",mood:"happy"},{character:"maven",text:"Is that your way of asking if we should move in together?",mood:"laughing"},{character:"maven",text:"I'd love that, Xavier. With you, I've found a home both in Stonewich and in my heart.",mood:"happy"},{character:"xavier",text:"I'm still working on being more direct. It'll be easier for me to practice Near Field Communications with you in my proximity, but you'll need to be really close for that to work.",mood:"laughing"},{character:"maven",text:"That sounds doable. How close do I need to be?",mood:"laughing"},{character:"xavier",text:"ahhh, within 4 centimeters.",mood:"embarrassed"},{character:"maven",text:"...like this?",mood:"embarrassed"},{character:"narrator",text:"Xavier and Maven build a life together in Stonewich, full of humor, happiness, and harmony."},{character:"narrator",text:"Xavier's communications system becomes a model for other cities, helping people connect in meaningful ways across Cybaton's territories."},{character:"narrator",text:"And Maven finds in Xavier a partner who supports her growth and cherishes her uniqueness."}],nextSceneId:"versa-epilogue-check"},"happy-ending-navarre":{id:"happy-ending-navarre",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"Navarre, you and I have built something I never expected - a relationship based on mutual respect and genuine connection.",mood:"happy"},{character:"navarre",text:"You know, Maven, I used to think success was measured by how many people knew your name.",mood:"happy"},{character:"navarre",text:"Now I realize it's about how deeply one person knows your heart. And you know mine better than anyone.",mood:"happy"},{character:"maven",text:"You were so confident when we first met. I wasn't sure I'd be able to even talk to you. Your charm helped me past that initial hurdle.",mood:"happy"},{character:"navarre",text:"Few can resist!",mood:"laughing"},{character:"maven",text:"I didn't fall for your charm, as impressive as that is. You have a beautiful soul, filled with kindness and warmth. Tease me all you like, but I can't imagine life without you now.",mood:"laughing"},{character:"navarre",text:"You're making me blush. I can't imagine a life without you either, Maven. But you know what I can imagine for us together?",mood:"embarrassed"},{character:"narrator",text:"Navarre moves close to you, pulling you into his embrace, and leans to whisper quietly in your ear."},{character:"navarre",text:"A family. A home together. A future of shared joys.",mood:"happy"},{character:"maven",text:"Yes, please. That's what I want too.",mood:"embarrassed"},{character:"navarre",text:"As you wish. Shall we get started then?",mood:"embarrassed"},{character:"narrator",text:"Navarre and Maven create a vibrant life together, filled with laughter and heartfelt connections with family and friends."},{character:"narrator",text:"Their home becomes a hub for the community, hosting events that bring together people from all walks of life."},{character:"narrator",text:"With Maven, Navarre treasures the one connection that matters most, and together they make Stonewich truly feel like home."}],nextSceneId:"versa-epilogue-check"},"happy-ending-etta":{id:"happy-ending-etta",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"Etta, we have found a balance together that I never thought possible.",mood:"happy"},{character:"etta",text:"Me too, Maven. I feel the same. I am still as driven as ever, but now I feel whole as a person without the pressure of my work or family as my identity.",mood:"happy"},{character:"maven",text:"Speaking of your family, your father spoke to me yesterday and asked me about my intentions toward his daughter.",mood:"laughing"},{character:"etta",text:"Oh, no! He didn't?! What did you say?",mood:"surprised"},{character:"maven",text:"I asked him if he received his invitation to the reception yet. Should I regret those words?",mood:"happy"},{character:"etta",text:"Oh my god! Really?! Of course you shouldn't regret them. I can't believe it! I'm so happy!",mood:"laughing"},{character:"maven",text:"I'm surprised you never told him that we had eloped this past year.",mood:"happy"},{character:"etta",text:"You know why. I wanted something just for us, but hearing you offer a reception to my father...",mood:"happy"},{character:"maven",text:"I know. I'm glad you're happy about it, even if it's another event to plan.",mood:"confident"},{character:"etta",text:"You're right! There's so much to do!",mood:"laughing"},{character:"narrator",text:"You lean in and affectionately tousle her perfectly braided hair earning a quick smack from Etta."},{character:"maven",text:"You should talk to your father first. I think he had some plans of his own in mind now that he finally gets to celebrate his daughter's happiness.",mood:"laughing"},{character:"narrator",text:"Etta and Maven create a life of balance together, with Etta learning to value herself beyond her achievements."},{character:"narrator",text:"Their relationship becomes a model of mutual support, each pushing the other to be their best while accepting their imperfections."},{character:"narrator",text:"Together, they transform both Stonewich and the Watanabe family business practices, creating a legacy of compassionate leadership."}],nextSceneId:"versa-epilogue-check"},"happy-ending-senara":{id:"happy-ending-senara",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"Senara, I feel we have discovered something beautiful together. Our relationship defies analysis but feels absolutely right.",mood:"happy"},{character:"senara",text:"Maven, thank you. I feel the same, although I feel like I am the only one who gets these physical craving sensations when you're not close by, if we aren't touching.",mood:"happy"},{character:"maven",text:"That question may remain a mystery.",mood:"laughing"},{character:"senara",text:"If by that you mean that we can always be together, then for this one question, I'm content with a mystery.",mood:"happy"},{character:"senara",text:"Every day feels like I love you more than I thought possible. It's led me to study something quite old from a new perspective lately.",mood:"happy"},{character:"maven",text:"What has stirred your intellectual curiousity this time?",mood:"happy"},{character:"senara",text:"My current topic is researching the modern context for marital traditions and nuptial rituals. I'd like you to assess if I have the mechanics correct.",mood:"happy"},{character:"narrator",text:"Senara solemnly gets down on one knee and holds up a beautiful diamond ring out to you, in a traditional expression of devoted love."},{character:"senara",text:"Maven, will you consent to marry me, to be my wife, to live out our days together weathering happiness and strife as one?",mood:"neutral"},{character:"maven",text:"Yes! Senara, you have my heart, my love, my life.",mood:"surprised"},{character:"senara",text:"Thank you, Maven. I don't know if you remember, but one of the first topics we discussed together was the value of traditions. I'm glad we could experience something like this for ourselves.",mood:"happy"},{character:"narrator",text:"Senara and Maven build an unconventional but deeply fulfilling life together in Stonewich, infused by the mysticism of tradition and the boundless edge of future's possibility."},{character:"narrator",text:"Senara's analytical brilliance, tempered by Maven's emotional intelligence, leads to groundbreaking research on the human elements of city design."},{character:"narrator",text:"Together, they create a home where understanding comes in many forms."}],nextSceneId:"versa-epilogue-check"},"versa-epilogue-check":{id:"versa-epilogue-check",background:"happy-ending-epilogue",dialogue:[{character:"maven",text:"Life in Stonewich continues, full of possibilities and new adventures.",mood:"happy"}],nextSceneId:"game-complete"}},XT={start:{id:"start",background:"wall-tiles",dialogue:[{character:"narrator",text:"Welcome to Jericho Bricks!"}],choices:[{text:"New Game",nextSceneId:"intro"},{text:"About",nextSceneId:"about"}]},about:{id:"about",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"Jericho Bricks is a visual novel game set in the city of Stonewich."},{character:"narrator",text:"Follow Maven and her teammates as they navigate their roles as city administrators."},{character:"narrator",text:"Each character has their own strengths and personality. Your choices will affect your relationships with them."}],choices:[{text:"Back to Main Menu",nextSceneId:"start"}]},"main-menu":{id:"main-menu",background:"stonewich-cityscape",dialogue:[{character:"narrator",text:"Thank you for playing Jericho Bricks!"}],choices:[{text:"Return to Main Menu",nextSceneId:"start"}]}},Re={...XT,...Hx,...pT,...ET,...Ux,...HT,...UT,...YT,...GT};var KT=e=>{switch(e){case"success":return ZT;case"info":return eI;case"warning":return JT;case"error":return tI;default:return null}},qT=Array(12).fill(0),QT=({visible:e})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},D.createElement("div",{className:"sonner-spinner"},qT.map((t,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ZT=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JT=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eI=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tI=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nI=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ad=1,rI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ad++,a=this.toasts.find(i=>i.id===o),s=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(i=>i.id===o?(this.publish({...i,...e,id:o,title:n}),{...i,...e,id:o,dismissible:s,title:n}):i):this.addToast({title:n,...r,dismissible:s,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),o=n!==void 0;return r.then(async a=>{if(aI(a)&&!a.ok){o=!1;let s=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,i=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:s,description:i})}else if(t.success!==void 0){o=!1;let s=typeof t.success=="function"?await t.success(a):t.success,i=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:s,description:i})}}).catch(async a=>{if(t.error!==void 0){o=!1;let s=typeof t.error=="function"?await t.error(a):t.error,i=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:s,description:i})}}).finally(()=>{var a;o&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ad++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},ht=new rI,oI=(e,t)=>{let n=(t==null?void 0:t.id)||ad++;return ht.addToast({title:e,...t,id:n}),n},aI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",sI=oI,iI=()=>ht.toasts,Q=Object.assign(sI,{success:ht.success,info:ht.info,warning:ht.warning,error:ht.error,custom:ht.custom,message:ht.message,promise:ht.promise,dismiss:ht.dismiss,loading:ht.loading},{getHistory:iI});function lI(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}lI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zs(e){return e.label!==void 0}var cI=3,uI="32px",dI=4e3,hI=356,mI=14,fI=20,pI=200;function gI(...e){return e.filter(Boolean).join(" ")}var yI=e=>{var t,n,r,o,a,s,i,l,c,u;let{invert:m,toast:h,unstyled:p,interacting:x,setHeights:y,visibleToasts:b,heights:g,index:v,toasts:w,expanded:k,removeToast:S,defaultRichColors:C,closeButton:T,style:I,cancelButtonStyle:A,actionButtonStyle:P,className:L="",descriptionClassName:F="",duration:z,position:O,gap:U,loadingIcon:B,expandByDefault:R,classNames:E,icons:M,closeButtonAriaLabel:_="Close toast",pauseWhenPageIsHidden:$,cn:W}=e,[J,pe]=D.useState(!1),[ut,ae]=D.useState(!1),[Mt,An]=D.useState(!1),[jn,Pn]=D.useState(!1),[Ps,Hr]=D.useState(0),[gr,sa]=D.useState(0),Ns=D.useRef(null),Nn=D.useRef(null),ac=v===0,sc=v+1<=b,Le=h.type,Ur=h.dismissible!==!1,kS=h.className||"",SS=h.descriptionClassName||"",Ms=D.useMemo(()=>g.findIndex(Y=>Y.toastId===h.id)||0,[g,h.id]),CS=D.useMemo(()=>{var Y;return(Y=h.closeButton)!=null?Y:T},[h.closeButton,T]),nf=D.useMemo(()=>h.duration||z||dI,[h.duration,z]),ic=D.useRef(0),Yr=D.useRef(0),rf=D.useRef(0),Gr=D.useRef(null),[of,TS]=O.split("-"),af=D.useMemo(()=>g.reduce((Y,ue,ie)=>ie>=Ms?Y:Y+ue.height,0),[g,Ms]),sf=nI(),IS=h.invert||m,lc=Le==="loading";Yr.current=D.useMemo(()=>Ms*U+af,[Ms,af]),D.useEffect(()=>{pe(!0)},[]),D.useLayoutEffect(()=>{if(!J)return;let Y=Nn.current,ue=Y.style.height;Y.style.height="auto";let ie=Y.getBoundingClientRect().height;Y.style.height=ue,sa(ie),y(Gt=>Gt.find(Xt=>Xt.toastId===h.id)?Gt.map(Xt=>Xt.toastId===h.id?{...Xt,height:ie}:Xt):[{toastId:h.id,height:ie,position:h.position},...Gt])},[J,h.title,h.description,y,h.id]);let Mn=D.useCallback(()=>{ae(!0),Hr(Yr.current),y(Y=>Y.filter(ue=>ue.toastId!==h.id)),setTimeout(()=>{S(h)},pI)},[h,S,y,Yr]);D.useEffect(()=>{if(h.promise&&Le==="loading"||h.duration===1/0||h.type==="loading")return;let Y,ue=nf;return k||x||$&&sf?(()=>{if(rf.current<ic.current){let ie=new Date().getTime()-ic.current;ue=ue-ie}rf.current=new Date().getTime()})():ue!==1/0&&(ic.current=new Date().getTime(),Y=setTimeout(()=>{var ie;(ie=h.onAutoClose)==null||ie.call(h,h),Mn()},ue)),()=>clearTimeout(Y)},[k,x,R,h,nf,Mn,h.promise,Le,$,sf]),D.useEffect(()=>{let Y=Nn.current;if(Y){let ue=Y.getBoundingClientRect().height;return sa(ue),y(ie=>[{toastId:h.id,height:ue,position:h.position},...ie]),()=>y(ie=>ie.filter(Gt=>Gt.toastId!==h.id))}},[y,h.id]),D.useEffect(()=>{h.delete&&Mn()},[Mn,h.delete]);function ES(){return M!=null&&M.loading?D.createElement("div",{className:"sonner-loader","data-visible":Le==="loading"},M.loading):B?D.createElement("div",{className:"sonner-loader","data-visible":Le==="loading"},B):D.createElement(QT,{visible:Le==="loading"})}return D.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Nn,className:W(L,kS,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[Le],(n=h==null?void 0:h.classNames)==null?void 0:n[Le]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":J,"data-promise":!!h.promise,"data-removed":ut,"data-visible":sc,"data-y-position":of,"data-x-position":TS,"data-index":v,"data-front":ac,"data-swiping":Mt,"data-dismissible":Ur,"data-type":Le,"data-invert":IS,"data-swipe-out":jn,"data-expanded":!!(k||R&&J),style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${ut?Ps:Yr.current}px`,"--initial-height":R?"auto":`${gr}px`,...I,...h.style},onPointerDown:Y=>{lc||!Ur||(Ns.current=new Date,Hr(Yr.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(An(!0),Gr.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,ue,ie,Gt;if(jn||!Ur)return;Gr.current=null;let Xt=Number(((Y=Nn.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rs=new Date().getTime()-((ue=Ns.current)==null?void 0:ue.getTime()),AS=Math.abs(Xt)/Rs;if(Math.abs(Xt)>=fI||AS>.11){Hr(Yr.current),(ie=h.onDismiss)==null||ie.call(h,h),Mn(),Pn(!0);return}(Gt=Nn.current)==null||Gt.style.setProperty("--swipe-amount","0px"),An(!1)},onPointerMove:Y=>{var ue;if(!Gr.current||!Ur)return;let ie=Y.clientY-Gr.current.y,Gt=Y.clientX-Gr.current.x,Xt=(of==="top"?Math.min:Math.max)(0,ie),Rs=Y.pointerType==="touch"?10:2;Math.abs(Xt)>Rs?(ue=Nn.current)==null||ue.style.setProperty("--swipe-amount",`${ie}px`):Math.abs(Gt)>Rs&&(Gr.current=null)}},CS&&!h.jsx?D.createElement("button",{"aria-label":_,"data-disabled":lc,"data-close-button":!0,onClick:lc||!Ur?()=>{}:()=>{var Y;Mn(),(Y=h.onDismiss)==null||Y.call(h,h)},className:W(E==null?void 0:E.closeButton,(o=h==null?void 0:h.classNames)==null?void 0:o.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||D.isValidElement(h.title)?h.jsx||h.title:D.createElement(D.Fragment,null,Le||h.icon||h.promise?D.createElement("div",{"data-icon":"",className:W(E==null?void 0:E.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ES():null,h.type!=="loading"?h.icon||(M==null?void 0:M[Le])||KT(Le):null):null,D.createElement("div",{"data-content":"",className:W(E==null?void 0:E.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},D.createElement("div",{"data-title":"",className:W(E==null?void 0:E.title,(i=h==null?void 0:h.classNames)==null?void 0:i.title)},h.title),h.description?D.createElement("div",{"data-description":"",className:W(F,SS,E==null?void 0:E.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),D.isValidElement(h.cancel)?h.cancel:h.cancel&&Zs(h.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:Y=>{var ue,ie;Zs(h.cancel)&&Ur&&((ie=(ue=h.cancel).onClick)==null||ie.call(ue,Y),Mn())},className:W(E==null?void 0:E.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,D.isValidElement(h.action)?h.action:h.action&&Zs(h.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:Y=>{var ue,ie;Zs(h.action)&&(Y.defaultPrevented||((ie=(ue=h.action).onClick)==null||ie.call(ue,Y),Mn()))},className:W(E==null?void 0:E.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function vp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var _h=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:a,className:s,offset:i,theme:l="light",richColors:c,duration:u,style:m,visibleToasts:h=cI,toastOptions:p,dir:x=vp(),gap:y=mI,loadingIcon:b,icons:g,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w,cn:k=gI}=e,[S,C]=D.useState([]),T=D.useMemo(()=>Array.from(new Set([n].concat(S.filter($=>$.position).map($=>$.position)))),[S,n]),[I,A]=D.useState([]),[P,L]=D.useState(!1),[F,z]=D.useState(!1),[O,U]=D.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=D.useRef(null),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=D.useRef(null),M=D.useRef(!1),_=D.useCallback($=>{var W;(W=S.find(J=>J.id===$.id))!=null&&W.delete||ht.dismiss($.id),C(J=>J.filter(({id:pe})=>pe!==$.id))},[S]);return D.useEffect(()=>ht.subscribe($=>{if($.dismiss){C(W=>W.map(J=>J.id===$.id?{...J,delete:!0}:J));return}setTimeout(()=>{_x.flushSync(()=>{C(W=>{let J=W.findIndex(pe=>pe.id===$.id);return J!==-1?[...W.slice(0,J),{...W[J],...$},...W.slice(J+1)]:[$,...W]})})})}),[]),D.useEffect(()=>{if(l!=="system"){U(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{U($?"dark":"light")})},[l]),D.useEffect(()=>{S.length<=1&&L(!1)},[S]),D.useEffect(()=>{let $=W=>{var J,pe;r.every(ut=>W[ut]||W.code===ut)&&(L(!0),(J=B.current)==null||J.focus()),W.code==="Escape"&&(document.activeElement===B.current||(pe=B.current)!=null&&pe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),D.useEffect(()=>{if(B.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,M.current=!1)}},[B.current]),S.length?D.createElement("section",{"aria-label":`${v} ${R}`,tabIndex:-1},T.map(($,W)=>{var J;let[pe,ut]=$.split("-");return D.createElement("ol",{key:$,dir:x==="auto"?vp():x,tabIndex:-1,ref:B,className:s,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":pe,"data-x-position":ut,style:{"--front-toast-height":`${((J=I[0])==null?void 0:J.height)||0}px`,"--offset":typeof i=="number"?`${i}px`:i||uI,"--width":`${hI}px`,"--gap":`${y}px`,...m},onBlur:ae=>{M.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(M.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||M.current||(M.current=!0,E.current=ae.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{F||L(!1)},onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},S.filter(ae=>!ae.position&&W===0||ae.position===$).map((ae,Mt)=>{var An,jn;return D.createElement(yI,{key:ae.id,icons:g,index:Mt,toast:ae,defaultRichColors:c,duration:(An=p==null?void 0:p.duration)!=null?An:u,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(jn=p==null?void 0:p.closeButton)!=null?jn:a,interacting:F,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:_,toasts:S.filter(Pn=>Pn.position==ae.position),heights:I.filter(Pn=>Pn.position==ae.position),setHeights:A,expandByDefault:o,gap:y,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:w,cn:k})}))})):null};const Js={"prologue-intro":"intro","team-meeting":"team-meeting",intro:"intro",about:"about","spring-character-selection":"spring-character-selection","spring-festival-planning":"spring-planning","spring-character-path":"spring-character-visit","spring-selection":"spring-selection","spring-festival-completion":"spring-festival-completion","spring-festival-activities":"spring-festival-activities","spring-character-selection-1":"spring-character-selection","spring-character-selection-2":"spring-character-selection","spring-character-selection-3":"spring-character-selection","spring-character-selection-4":"spring-character-selection","summer-character-selection":"summer-character-selection","summer-festival-planning":"summer-planning","summer-character-path":"summer-character-visit","summer-visit-character":"summer-character-selection","summer-festival-completion":"summer-festival-completion","summer-festival-activities":"summer-festival-activities","summer-conclusion-meeting":"summer-conclusion-meeting","summer-character-selection-1":"summer-character-selection","summer-character-selection-2":"summer-character-selection","summer-character-selection-3":"summer-character-selection","summer-character-selection-4":"summer-character-selection","season-transition-spring":"season-transition-spring","season-transition-summer":"season-transition-summer","season-transition-autumn":"season-transition-autumn","season-transition-winter":"season-transition-winter","autumn-intro":"autumn-intro","autumn-festival-intro":"autumn-festival-intro","autumn-festival-activities":"autumn-festival-activities","autumn-festival-completion":"autumn-festival-completion","autumn-character":"autumn-character-relationship","autumn-character-relationship":"autumn-character-relationship","autumn-xavier":"autumn-xavier","autumn-navarre":"autumn-navarre","autumn-etta":"autumn-etta","autumn-senara":"autumn-senara","autumn-xavier-resolution":"autumn-xavier-resolution","autumn-navarre-resolution":"autumn-navarre-resolution","autumn-etta-resolution":"autumn-etta-resolution","autumn-senara-resolution":"autumn-senara-resolution","autumn-conclusion-debrief":"autumn-conclusion-debrief","autumn-conclusion":"autumn-conclusion","autumn-crafter-intro":"autumn-crafter-intro","autumn-crafter-start":"autumn-crafter-start","autumn-crafter-complete":"autumn-crafter-complete","autumn-memories-date-start":"autumn-memories-date-start","autumn-tour-guide-start":"autumn-tour-guide-start","winter-intro":"winter-intro","winter-planning":"winter-planning","winter-festival-intro":"winter-festival-intro","winter-festival-activities":"winter-festival-activities","winter-festival-completion":"winter-festival-completion","winter-charity-auction-intro":"winter-charity-auction-intro","winter-gala-dance-intro":"winter-gala-dance-intro","winter-looking-signs-intro":"winter-looking-signs-intro","winter-looking-signs-start":"winter-looking-signs-intro","winter-looking-signs-complete":"winter-looking-signs-intro","winter-conclusion":"winter-conclusion"},xp={"prologue-intro":"intro","spring-festival-planning":"spring-intro","summer-festival-planning":"summer-intro","autumn-festival-planning":"autumn-intro","winter-festival-planning":"winter-intro","spring-selection":"spring-intro","summer-visit-character":"summer-character-selection","summer-festival-completion":"summer-planning","season-transition-autumn":"autumn-intro","season-transition-winter":"winter-intro","autumn-festival-completion":"autumn-intro","autumn-conclusion-debrief":"autumn-intro","winter-festival-completion":"winter-intro","autumn-character":"autumn-intro","autumn-character-relationship":"autumn-intro","autumn-xavier":"autumn-character-relationship","autumn-navarre":"autumn-character-relationship","autumn-etta":"autumn-character-relationship","autumn-senara":"autumn-character-relationship","autumn-xavier-resolution":"autumn-festival-intro","autumn-navarre-resolution":"autumn-festival-intro","autumn-etta-resolution":"autumn-festival-intro","autumn-senara-resolution":"autumn-festival-intro","autumn-festival-intro":"autumn-intro","autumn-festival-activities":"autumn-festival-intro","spring-character-selection-1":"spring-character-selection","spring-character-selection-2":"spring-character-selection","spring-character-selection-3":"spring-character-selection","spring-character-selection-4":"spring-character-selection","summer-character-selection-1":"summer-character-selection","summer-character-selection-2":"summer-character-selection","summer-character-selection-3":"summer-character-selection","summer-character-selection-4":"summer-character-selection","autumn-crafter-start":"autumn-crafter-intro","autumn-crafter-complete":"autumn-festival-activities","autumn-memories-date-start":"autumn-festival-activities","autumn-tour-guide-start":"autumn-festival-activities","winter-looking-signs-start":"winter-looking-signs-intro","winter-looking-signs-complete":"winter-festival-activities"},Yx=e=>(console.log("Available scene mappings:",Object.keys(Js)),e in Js?(console.log(`Mapping scene [${e}] to [${Js[e]}]`),Js[e]):e==="intro"||e==="prologue-intro"?(console.log(`Special handling for intro scene: [${e}]`),"intro"):(console.log(`No mapping for scene [${e}], using as is`),e)),vI=e=>{if(console.error(`Scene transition failed: Target scene [${e}] not found!`),e in xp){const t=xp[e];return console.log(`Using fallback scene [${t}] for missing scene [${e}]`),Q.error(`Scene "${e}" not found, redirecting to fallback scene`),t}return e==="intro"||e==="prologue-intro"?(console.log(`Special fallback for intro scene: [${e}]`),"intro"):e==="about"?(console.log(`Special fallback for about scene: [${e}]`),"about"):(Q.error(`Scene "${e}" not found and no fallback exists`),"start")},xI=(e,t)=>{const n=`${e}-${t}`;return console.log(`Generated character scene ID: ${n}`),n},Gx=({initialScene:e="start"}={})=>{const[t,n]=f.useState(e),[r,o]=f.useState(null),[a,s]=f.useState(!1),[i,l]=f.useState(null),[c,u]=f.useState(!1),m=f.useRef(!1),h=300;f.useEffect(()=>{console.log("Available scenes in allScenes:",Object.keys(Re));const y=Object.keys(Re).filter(b=>b.startsWith("summer-"));console.log("Available summer scenes:",y),Re["summer-character-selection"]||console.error("summer-character-selection scene is missing!")},[]);const p=Re[t],x=f.useCallback((y,b)=>{if(m.current){console.log(`Transition already in progress, ignoring request to ${y}`);return}u(!0),m.current=!0,s(!0),console.log(`Attempting to transition from scene [${t}] to [${y}]`),y==="summer-character-selection"&&(console.log("Trying to transition to summer-character-selection"),console.log("This scene exists in allScenes:",!!Re["summer-character-selection"])),setTimeout(()=>{try{const g=Yx(y);if(console.log(`Checking if scene [${g}] exists:`,!!Re[g]),Re[g])o(t),n(g),b&&l(b),console.log(`Scene transition complete, now at [${g}]`);else if(g==="intro"||g==="prologue-intro")console.log("Special handling for intro scene: using 'intro'"),o(t),n("intro");else if(g==="about")console.log("Special handling for about scene"),o(t),n("about");else if(g==="summer-character-selection")console.log("Special handling for summer character selection scene"),o(t),n("summer-character-selection"),Q.info("Transitioning to summer character selection");else{const v=vI(g);v&&Re[v]?(console.log(`Using fallback scene [${v}]`),o(t),n(v)):(console.error(`No fallback found for scene [${g}]`),Q.error(`Failed to find scene "${g}" or a suitable fallback`),o(t),n("start"))}}catch(g){console.error("Error during scene transition:",g),Q.error("An error occurred during scene transition"),o(t),n("start")}finally{s(!1),setTimeout(()=>{u(!1),setTimeout(()=>{m.current=!1},200)},h)}},h/2)},[t]);return f.useEffect(()=>{if(t.includes("special-transition")){const y=t.split(":")[1],b=t.split(":")[2];if(console.log(`Special scene detected: ${b}`),y&&b){l(y);const g=setTimeout(()=>{x(b),l(null)},1500);return()=>clearTimeout(g)}}},[t,x]),{currentScene:p,currentSceneId:t,previousSceneId:r,transitionToScene:x,loading:a,transitionEffect:i,setTransitionEffect:l,isTransitioning:c,transitionDuration:h}},wI=e=>({broomsAway:"spring-brooms-away-complete",mudFling:"spring-mud-fling-complete",bloomWithAView:"spring-bloom-view-complete",serenade:"summer-serenade-complete",spokenWord:"summer-spoken-word-complete",whatsOnTap:"summer-whats-on-tap-complete",tourGuide:"autumn-tour-guide-complete",crafter:"autumn-crafter-complete",memoriesDate:"autumn-memories-date-complete",charityAuction:"winter-charity-auction-complete",galaDance:"winter-gala-dance-complete",lookingSigns:"winter-looking-signs-complete"})[e]||"";function bI(e,t,n){const[r,o]=f.useState({activeMinigame:null,returnSceneAfterMinigame:"",pendingMinigame:null}),a=f.useRef(!1),s=f.useRef(new Set),i=f.useRef(null),{activeMinigame:l,returnSceneAfterMinigame:c}=r,u=f.useCallback(p=>{if(i.current===p&&Date.now()-i.current<2e3){console.log(`Ignoring duplicate start request for minigame: ${p}`);return}console.log(`Starting minigame: ${p}`);const x=wI(p);a.current=!1,o({activeMinigame:p,returnSceneAfterMinigame:x,pendingMinigame:null}),i.current=p,i.current=Date.now(),console.log(`Minigame state updated - activeMinigame: ${p}, returnScene: ${x}`)},[]),m=f.useCallback((p,x)=>{if(!l||!c||a.current){console.warn("No active minigame to complete or completion already in progress");return}if(s.current.has(c)){console.warn(`Already handled return scene: ${c}, skipping duplicate completion`),o({activeMinigame:null,returnSceneAfterMinigame:"",pendingMinigame:null});return}a.current=!0,s.current.add(c),console.log(`Completing minigame: ${l} with success: ${p}, score: ${x}`),p?Q.success("Minigame completed successfully!"):Q.error("Minigame not completed successfully.");const y=c;o({activeMinigame:null,returnSceneAfterMinigame:"",pendingMinigame:null}),i.current=null,setTimeout(()=>{console.log(`Transitioning to next scene: ${y}`),n(y),setTimeout(()=>{a.current=!1,setTimeout(()=>{s.current.clear()},5e3)},1e3)},500)},[l,c,n]),h=f.useCallback(()=>{if(a.current){console.warn("Cannot exit: completion already in progress");return}console.log("Exiting minigame without completion");const p=()=>{switch(e.currentSeason){case"spring":return"spring-festival-activities";case"summer":return"summer-festival-activities";case"autumn":return"autumn-festival-activities";case"winter":return"winter-festival-activities";default:return"spring-festival-activities"}};a.current=!0;const x=p();o({activeMinigame:null,returnSceneAfterMinigame:"",pendingMinigame:null}),i.current=null,console.log(`Returning to festival activities: ${x}`),setTimeout(()=>{n(x),setTimeout(()=>{a.current=!1,setTimeout(()=>{s.current.clear()},5e3)},1e3)},300)},[e.currentSeason,n]);return{activeMinigame:l,startMinigame:u,completeMinigame:m,exitMinigame:h}}function kI(){return{handlePrologueTransition:f.useCallback(()=>{console.log("Transitioning to prologue season")},[])}}function SI(){return{handleSpringTransition:f.useCallback(()=>{console.log("Transitioning to Spring season")},[])}}const CI=2;function TI(e,t){return{handleSummerTransition:f.useCallback(()=>{const o=Object.entries(e.characters).filter(([a])=>a!=="maven").sort(([,a],[,s])=>s.affection-a.affection).slice(0,CI).map(([a])=>a);t(a=>({...a,viableRoutes:o})),console.log("Transitioning to Summer season",o)},[e.characters,t])}}function II(e,t){return{handleAutumnTransition:f.useCallback(()=>{console.log("Explicitly handling autumn transition");const r=Object.entries(e.characters).filter(([o])=>o!=="maven"&&e.viableRoutes.includes(o)).sort(([,o],[,a])=>a.affection-o.affection)[0];if(r){const[o]=r;console.log(`Autumn transition - selected love interest: ${o} with affection: ${r[1].affection}`),t(a=>({...a,currentLoveInterest:o,currentSeason:"autumn"})),Q.success(`${r[1].name} has become your primary love interest for the autumn season!`),console.log("Transitioning to Autumn season with love interest:",o)}else console.warn("No top character found for Autumn transition"),t(o=>({...o,currentSeason:"autumn"})),Q.info("No clear romantic connection has formed. Continuing to autumn without a primary love interest.")},[e.characters,e.viableRoutes,t])}}function EI(e,t){const n=f.useRef({});return f.useEffect(()=>{if(e.currentSeason==="autumn"&&e.currentLoveInterest){const o=e.currentLoveInterest;n.current[o]=e.characters[o].affection,console.log(`Storing autumn affection for ${o}: ${n.current[o]}`)}},[e.currentSeason,e.currentLoveInterest,e.characters]),{handleWinterTransition:f.useCallback(()=>{if(console.log("Transitioning to Winter season"),t(o=>({...o,currentSeason:"winter"})),e.currentLoveInterest){const o=e.currentLoveInterest,a=e.characters[o].affection,s=n.current[o];console.log(`Winter check for ${o}: Current: ${a}, Autumn: ${s}`),s!==void 0&&a>s&&console.log(`Winter progression: ${o} affection increased from ${s} to ${a}`)}},[e.currentLoveInterest,e.characters,t])}}function Bh(e,t,n){const r=f.useCallback(s=>{if(s==="maven")return;t(c=>({...c,completedRoutes:{...c.completedRoutes,[s]:!0}}));const i={...e.completedRoutes,[s]:!0};Object.entries(i).filter(([c])=>c!=="maven").every(([,c])=>c)&&t(c=>({...c,versaRouteUnlocked:!0})),setTimeout(()=>{n("start")},3e3)},[e.completedRoutes,n,t]),o=f.useCallback(()=>{t(s=>({...s,hasCompletedGame:!0})),setTimeout(()=>{n("start")},3e3)},[n,t]),a=f.useCallback(s=>{t(i=>({...i,currentScene:s==="incomplete"?"game-end-try-again":"intro",dialogueIndex:0,characters:{...i.characters},sceneHistory:["start"],showChoices:!1,currentSeason:"prologue",viableRoutes:["xavier","navarre","etta","senara"],currentLoveInterest:void 0}))},[t]);return{completeCharacterRoute:r,completeVersaRoute:o,handleGameReset:a}}const AI=8;function jI(e,t,n){const{completeCharacterRoute:r,handleGameReset:o}=Bh(e,t,n);return{handleEpilogueTransition:f.useCallback(()=>{e.currentLoveInterest&&(e.characters[e.currentLoveInterest].affection>=AI?(r(e.currentLoveInterest),console.log("Happy ending achieved with",e.currentLoveInterest)):(o("incomplete"),console.log("Affection too low for happy ending")))},[e.characters,e.currentLoveInterest,r,o])}}function PI(e,t,n){Bh(e,t,n);const r=f.useCallback(()=>Object.entries(e.completedRoutes).every(([a,s])=>s===!0),[e.completedRoutes]);return{handleVersaEpilogueTransition:f.useCallback(()=>{r()?(e.versaRouteUnlocked||t(a=>({...a,versaRouteUnlocked:!0})),n("versa-epilogue-intro"),console.log("Beginning the Versa Epilogue - all character routes completed!")):(console.log("Cannot access Versa Epilogue - not all character routes are completed yet."),setTimeout(()=>{n("start")},3e3))},[e.versaRouteUnlocked,e.completedRoutes,r,n,t]),areAllRoutesCompleted:r}}function NI(e,t,n){const{handlePrologueTransition:r}=kI(),{handleSpringTransition:o}=SI(),{handleSummerTransition:a}=TI(e,t),{handleAutumnTransition:s}=II(e,t),{handleWinterTransition:i}=EI(e,t),{handleEpilogueTransition:l}=jI(e,t,n),{handleVersaEpilogueTransition:c}=PI(e,t,n);return{handleSeasonTransition:f.useCallback(m=>{switch(t(h=>({...h,currentSeason:m})),m){case"prologue":r();break;case"spring":o();break;case"summer":a();break;case"autumn":s();break;case"winter":i();break;case"epilogue":l();break;case"versa-epilogue":c();break}},[e.characters,e.viableRoutes,e.currentLoveInterest,r,o,a,s,i,l,c])}}function MI(e){return{checkSeasonProgress:f.useCallback(n=>{console.log(`Checking season progress for scene [${n}]`),n==="spring-transition"?(console.log("Explicit spring transition detected"),e("spring")):n==="summer-transition"?(console.log("Explicit summer transition detected"),e("summer")):n==="autumn-transition"?(console.log("Explicit autumn transition detected"),e("autumn")):n==="winter-transition"?(console.log("Explicit winter transition detected"),e("winter")):n==="winter-ending"&&(console.log("Winter ending detected, transitioning to epilogue"),e("epilogue")),n==="season-transition-spring"?(console.log("Season transition scene detected: spring"),e("spring")):n==="season-transition-summer"?(console.log("Season transition scene detected: summer"),e("summer")):n==="season-transition-autumn"?(console.log("Season transition scene detected: autumn"),e("autumn")):n==="season-transition-winter"&&(console.log("Season transition scene detected: winter"),e("winter")),n==="summer-conclusion-debrief"&&!window.preventSeasonCheck&&(console.log("Summer conclusion scene detected, ensuring correct transition"),window.preventSeasonCheck=!0,setTimeout(()=>{window.preventSeasonCheck=!1},2e3))},[e])}}function RI(e,t,n){const{handleSeasonTransition:r}=NI(e,t,n),{completeCharacterRoute:o,completeVersaRoute:a,handleGameReset:s}=Bh(e,t,n),{checkSeasonProgress:i}=MI(r);return{handleSeasonTransition:r,completeCharacterRoute:o,completeVersaRoute:a,handleGameReset:s,checkSeasonProgress:i}}const DI=1,FI=1e6;let Lc=0;function LI(){return Lc=(Lc+1)%Number.MAX_SAFE_INTEGER,Lc.toString()}const Oc=new Map,wp=e=>{if(Oc.has(e))return;const t=setTimeout(()=>{Oc.delete(e),Ra({type:"REMOVE_TOAST",toastId:e})},FI);Oc.set(e,t)},OI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?wp(n):e.toasts.forEach(r=>{wp(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ii=[];let Ei={toasts:[]};function Ra(e){Ei=OI(Ei,e),Ii.forEach(t=>{t(Ei)})}function Xx({...e}){const t=LI(),n=o=>Ra({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Ra({type:"DISMISS_TOAST",toastId:t});return Ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function VI(){const[e,t]=f.useState(Ei);return f.useEffect(()=>(Ii.push(t),()=>{const n=Ii.indexOf(t);n>-1&&Ii.splice(n,1)}),[e]),{...e,toast:Xx,dismiss:n=>Ra({type:"DISMISS_TOAST",toastId:n})}}function Kx(e,t){const n=f.useCallback(()=>e.currentLoveInterest?e.characters[e.currentLoveInterest].affection>=10:!1,[e.currentLoveInterest,e.characters]),r=f.useCallback(()=>{const{completedRoutes:a}=e;return a.xavier&&a.navarre&&a.etta&&a.senara?(e.versaRouteUnlocked||(t(s=>({...s,versaRouteUnlocked:!0})),Xx({title:"New Ending Unlocked",description:"You've completed all character routes! The Versa epilogue is now available.",duration:5e3})),!0):!1},[e.completedRoutes,e.versaRouteUnlocked,t]),o=f.useCallback(a=>n()?"happy-ending-intro":(r(),"game-complete"),[n,r]);return{checkForHappyEnding:n,checkAllRoutesCompleted:r,routeToEpilogue:o}}const $I=(e,t,n)=>{const r=f.useCallback(s=>{console.log(`Game Context - Transitioning to scene: ${s}`);try{if(/^spring-character-selection-\d+$/.test(s)||/^summer-character-selection-\d+$/.test(s)){console.log(`Detected numbered character selection scene: ${s}`);const i=s.replace(/-\d+$/,"");console.log(`Using base scene: ${i} for numbered scene ${s}`),t(c=>({...c,dialogueIndex:0,showChoices:!1,sceneHistory:[...c.sceneHistory,c.currentScene],currentScene:i}));const l=Yx(i);n(l);return}if(s==="summer-visit-character"||s==="summer-character-selection"){console.log(`Handling special summer scene: ${s}`),t(i=>({...i,dialogueIndex:0,showChoices:!1,sceneHistory:[...i.sceneHistory,i.currentScene],currentScene:"summer-character-selection"})),console.log("summer-character-selection exists in allScenes:",!!Re["summer-character-selection"]),n("summer-character-selection");return}if(!Re[s]&&s!=="start"&&s!=="about")if(console.error(`Scene [${s}] not found in allScenes`),s.includes("intro")||s==="prologue-intro")s="intro";else if(s==="summer-visit-character"||s==="summer-character-selection"){t(i=>({...i,dialogueIndex:0,showChoices:!1,sceneHistory:[...i.sceneHistory,i.currentScene],currentScene:"summer-character-selection"})),Q.info("Transitioning to summer character selection");return}else Q.error(`Failed to find scene "${s}". Redirecting to a known scene.`),s="start";t(i=>({...i,dialogueIndex:0,showChoices:!1,sceneHistory:[...i.sceneHistory,i.currentScene]})),n(s)}catch(i){console.error("Error during scene transition:",i),Q.error("Failed to transition to next scene. Returning to start."),n("start")}},[n,t]),o=f.useCallback(()=>{console.log("Starting new game");try{t(s=>({...s,currentScene:"start",dialogueIndex:0,sceneHistory:[],showChoices:!1,hasCompletedGame:!1,completedRoutes:{xavier:!1,navarre:!1,etta:!1,senara:!1},currentSeason:"prologue",viableRoutes:["xavier","navarre","etta","senara"],currentLoveInterest:void 0,versaRouteUnlocked:!1,sceneStateBackup:null})),r("intro"),Q.success("New game started!")}catch(s){console.error("Failed to start new game:",s),Q.error("Failed to start new game. Please try again.")}},[r,t]),a=f.useCallback(()=>{console.log("Showing about screen"),r("about")},[r]);return{handleSceneTransition:r,handleNewGame:o,handleAbout:a}};class _I{constructor(){Oe(this,"sfxVolume",.5);Oe(this,"musicVolume",.3);Oe(this,"isMuted",!1);Oe(this,"musicMuted",!1);Oe(this,"currentMusic",null);Oe(this,"soundCache",new Map);Oe(this,"failedSounds",new Set);Oe(this,"silentAudio",null);Oe(this,"musicPlayer",null);Oe(this,"currentBackgroundType",null);Oe(this,"loopingSounds",new Map);console.log("Initialized Sound Manager"),this.createSilentAudio(),this.createMusicPlayer()}createSilentAudio(){try{const t=new Audio("data:audio/mp3;base64,SUQzBAAAAAABEVRYWFgAAAAXAAAARW5jb2RlZCBieQBMYXZmNTguMjkuMTAwVFlFUgAAAAUAAAAyMDIzVFBFMQAAAAcAAABMYXZmNTgAVERSTQAAAAUAAAAyMDIzVENPTgAAAAsAAABTaWxlbnQgTVAzAFByaXYA0jAAAFRJVDIAAAANAAAAU2lsZW5jZSAwLjFzAENPTU0AAAAPAAAAZW5nAFNpbGVuY2UgMC4xAENPTU0AAAAdAAAATGF2ZjU4LjI5LjEwMCAoTGliYXYgNTguMTgpAENPQQAAAA8AAABlbmcAU2lsZW5jZSAwLjEAL/8=");this.silentAudio=t}catch(t){console.error("Failed to create silent audio:",t),this.silentAudio=null}}createMusicPlayer(){try{const t=new Audio;t.loop=!0,t.volume=this.musicVolume,this.musicPlayer=t,t.addEventListener("play",()=>{console.log(`[MUSIC] Started playing: ${t.src.split("/").pop()}`)}),t.addEventListener("pause",()=>{console.log(`[MUSIC] Paused: ${t.src.split("/").pop()}`)}),t.addEventListener("error",n=>{console.error(`[MUSIC] Error playing: ${t.src.split("/").pop()}`,n)})}catch(t){console.error("Failed to create music player:",t),this.musicPlayer=null}}exposeToWindow(){window.soundManager=this,console.log("Sound manager exposed to window.soundManager")}initialize(){console.log("Sound system initialized")}getSoundElement(t){if(this.soundCache.has(t))return this.soundCache.get(t)||null;if(this.failedSounds.has(t))return this.silentAudio;try{const n=new Audio(`/audio/${t}.mp3`);return this.soundCache.set(t,n),n}catch(n){return console.error(`Failed to create audio for ${t}:`,n),this.failedSounds.add(t),this.silentAudio}}playSFX(t,n=!1){if(!this.isMuted)try{if(n&&this.loopingSounds.has(t))return;const r=this.getSoundElement(t);if(!r){console.log(`[SOUND] Would play sound effect: ${t} (no audio element)`);return}r.currentTime=0,r.volume=this.sfxVolume,r.loop=n,r.play().catch(o=>{console.error(`Error playing sound ${t}:`,o)}),n&&this.loopingSounds.set(t,r),console.log(`[SOUND] Playing sound effect: ${t}${n?" (looping)":""}`)}catch(r){console.error(`Error playing sound ${t}:`,r)}}stopSFX(t){try{const n=this.loopingSounds.get(t);n&&(n.pause(),n.currentTime=0,this.loopingSounds.delete(t),console.log(`[SOUND] Stopped looping sound: ${t}`))}catch(n){console.error(`Error stopping sound ${t}:`,n)}}playMusic(t,n={}){if(!(this.isMuted||this.musicMuted||!this.musicPlayer)){if(this.currentMusic===t){this.musicPlayer.paused&&this.musicPlayer.play().catch(r=>{console.error(`Error resuming music ${t}:`,r)});return}this.currentMusic=t;try{this.musicPlayer.loop=n.loop!==void 0?n.loop:!0,n.volume!==void 0?this.musicPlayer.volume=n.volume:this.musicPlayer.volume=this.musicVolume,this.musicPlayer.src=`/audio/${t}`,this.musicPlayer.play().catch(r=>{console.error(`Error playing music ${t}:`,r)}),console.log(`[MUSIC] Playing track: ${t}`)}catch(r){console.error(`Error starting music ${t}:`,r)}}}playBackgroundMusicForScene(t){let n=null,r=null;t.startsWith("cybaton-")?(n="cybaton",r="bgm-cybaton.mp3"):t.startsWith("stonewich-")?(n="stonewich",r="bgm-stonewich.mp3"):t==="happy-ending-epilogue"?(n="epilogue",r="bgm-endgame.mp3"):t==="city-cafe"&&(n="city",r="bgm-city.mp3"),!n&&!this.currentMusic&&(console.log(`[MUSIC] Using city music as fallback for background: ${t}`),n="fallback",r="bgm-city.mp3"),n!==this.currentBackgroundType&&(this.currentBackgroundType&&(!n||this.currentBackgroundType!==n)&&(console.log(`[MUSIC] Stopping music due to background type change: ${this.currentBackgroundType} -> ${n}`),this.stopMusic()),this.currentBackgroundType=n,r&&this.playMusic(r))}stopMusic(){if(!(!this.musicPlayer||!this.currentMusic))try{this.musicPlayer.pause(),this.musicPlayer.currentTime=0,console.log(`[MUSIC] Stopped music: ${this.currentMusic}`),this.currentMusic=null}catch(t){console.error("Error stopping music:",t)}}pauseMusic(){if(!(!this.musicPlayer||!this.currentMusic))try{this.musicPlayer.pause(),console.log(`[MUSIC] Paused music: ${this.currentMusic}`)}catch(t){console.error("Error pausing music:",t)}}resumeMusic(){if(!(!this.musicPlayer||!this.currentMusic||this.isMuted||this.musicMuted))try{this.musicPlayer.play().catch(t=>{console.error("Error resuming music:",t)}),console.log(`[MUSIC] Resumed music: ${this.currentMusic}`)}catch(t){console.error("Error resuming music:",t)}}setVolume(t,n){t==="sfx"?this.sfxVolume=n:(this.musicVolume=n,this.musicPlayer&&(this.musicPlayer.volume=n)),console.log(`[SOUND] Set ${t} volume to ${n}`)}setMuted(t){this.isMuted=t,t?this.pauseMusic():this.musicMuted||this.resumeMusic(),console.log(`[SOUND] ${t?"Muted":"Unmuted"} sound system`)}setMusicMuted(t){this.musicMuted=t,t?this.pauseMusic():this.isMuted||this.resumeMusic(),console.log(`[SOUND] ${t?"Muted":"Unmuted"} music`)}play(t){this.playSFX(t)}}const X=new _I,BI=e=>{try{X.playBackgroundMusicForScene(e)}catch(t){console.error("Error playing background music:",t)}},zI=()=>{try{X.pauseMusic()}catch(e){console.error("Error pausing background music:",e)}},WI=()=>{try{X.resumeMusic()}catch(e){console.error("Error resuming background music:",e)}},qx=()=>{try{X.initialize(),console.log("Sound system initialized")}catch(e){console.error("Failed to initialize sound system:",e)}},HI=()=>{try{X.exposeToWindow()}catch(e){console.error("Failed to expose sound manager to window:",e)}},UI=(e,t,n)=>{const r=f.useCallback(()=>{try{const s=Re[e.currentScene];if(!s){console.error(`Cannot advance dialogue: Scene [${e.currentScene}] not found`),Q.error("Error loading scene. Try restarting the game.");return}const{dialogue:i,choices:l,nextSceneId:c}=s,u=e.dialogueIndex+1;try{X.playSFX("ui-click")}catch(m){console.warn("Could not play sound effect:",m)}u<i.length?(t(m=>({...m,dialogueIndex:u,showChoices:!1})),console.log(`Advanced to dialogue index ${u}`)):l&&l.length>0?(t(m=>({...m,showChoices:!0})),console.log("Showing dialogue choices")):c?(console.log(`Dialogue complete, transitioning to next scene: ${c}`),n(c)):console.warn(`Dialogue complete but no choices or nextSceneId defined for scene [${e.currentScene}]`)}catch(s){console.error("Error in handleDialogueClick:",s),Q.error("An error occurred while progressing dialogue")}},[e.currentScene,e.dialogueIndex,t,n]),o=f.useCallback(s=>{try{const i=Re[e.currentScene];if(!i||!i.choices){console.error(`Cannot select choice: Invalid scene or no choices in scene [${e.currentScene}]`),Q.error("Error processing choice. Try restarting the game.");return}const l=i.choices[s];if(!l){console.error(`Invalid choice index: ${s}`);return}try{X.playSFX("ui-click")}catch(c){console.warn("Could not play sound effect:",c)}console.log(`Selected choice: ${l.text}`),l.affectionChanges?t(c=>{const u={...c.characters};return Object.entries(l.affectionChanges||{}).forEach(([m,h])=>{if(u[m]){const p=u[m].affection+(h||0);u[m]={...u[m],affection:p},console.log(`Changed ${m}'s affection by ${h}, now ${p}`),h&&h>0?Q.success(`${u[m].name} likes that (+${h})`,{style:{borderLeft:`4px solid ${u[m].color}`}}):h&&h<0&&Q.error(`${u[m].name} doesn't like that (${h})`,{style:{borderLeft:`4px solid ${u[m].color}`}})}}),{...c,characters:u,showChoices:!1}}):t(c=>({...c,showChoices:!1})),l.nextSceneId&&n(l.nextSceneId)}catch(i){console.error("Error in handleChoiceClick:",i),Q.error("An error occurred while processing your choice")}},[e.currentScene,t,n]),a=f.useCallback(()=>{try{t(s=>({...s,dialogueIndex:0,showChoices:!1})),console.log(`Replaying scene [${e.currentScene}] from beginning`)}catch(s){console.error("Error replaying scene:",s)}},[e.currentScene,t]);return{handleDialogueClick:r,handleChoiceClick:o,replayCurrentScene:a}},zh=f.createContext({});function Wh(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hh=typeof window<"u",Qx=Hh?f.useLayoutEffect:f.useEffect,Ol=f.createContext(null),Uh=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class YI extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GI({children:e,isPresent:t,anchorX:n}){const r=f.useId(),o=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=f.useContext(Uh);return f.useInsertionEffect(()=>{const{width:i,height:l,top:c,left:u,right:m}=a.current;if(t||!o.current||!i||!l)return;const h=n==="left"?`left: ${u}`:`right: ${m}`;o.current.dataset.motionPopId=r;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),d.jsx(YI,{isPresent:t,childRef:o,sizeRef:a,children:f.cloneElement(e,{ref:o})})}const XI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:s,anchorX:i})=>{const l=Wh(KI),c=f.useId();let u=!0,m=f.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:o,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return a&&u&&(m={...m}),f.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=d.jsx(GI,{isPresent:n,anchorX:i,children:e})),d.jsx(Ol.Provider,{value:m,children:e})};function KI(){return new Map}function Zx(e=!0){const t=f.useContext(Ol);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,a=f.useId();f.useEffect(()=>{if(e)return o(a)},[e]);const s=f.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const ei=e=>e.key||"";function bp(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Vl=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:s=!1,anchorX:i="left"})=>{const[l,c]=Zx(s),u=f.useMemo(()=>bp(e),[e]),m=s&&!l?[]:u.map(ei),h=f.useRef(!0),p=f.useRef(u),x=Wh(()=>new Map),[y,b]=f.useState(u),[g,v]=f.useState(u);Qx(()=>{h.current=!1,p.current=u;for(let S=0;S<g.length;S++){const C=ei(g[S]);m.includes(C)?x.delete(C):x.get(C)!==!0&&x.set(C,!1)}},[g,m.length,m.join("-")]);const w=[];if(u!==y){let S=[...u];for(let C=0;C<g.length;C++){const T=g[C],I=ei(T);m.includes(I)||(S.splice(C,0,T),w.push(T))}return a==="wait"&&w.length&&(S=w),v(bp(S)),b(u),null}const{forceRender:k}=f.useContext(zh);return d.jsx(d.Fragment,{children:g.map(S=>{const C=ei(S),T=s&&!l?!1:u===g||m.includes(C),I=()=>{if(x.has(C))x.set(C,!0);else return;let A=!0;x.forEach(P=>{P||(A=!1)}),A&&(k==null||k(),v(p.current),s&&(c==null||c()),r&&r())};return d.jsx(XI,{isPresent:T,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:a,onExitComplete:T?void 0:I,anchorX:i,children:S},C)})})};function Yh(e,t){e.indexOf(t)===-1&&e.push(t)}function Gh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const kn=(e,t,n)=>n>t?t:n<e?e:n;let il=()=>{};const Sn={},Jx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ew=e=>/^0[^.\s]+$/u.test(e);function Xh(e){let t;return()=>(t===void 0&&(t=e()),t)}const At=e=>e,qI=(e,t)=>n=>t(e(n)),ks=(...e)=>e.reduce(qI),ns=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Kh{constructor(){this.subscriptions=[]}add(t){return Yh(this.subscriptions,t),()=>Gh(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let a=0;a<o;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const on=e=>e*1e3,an=e=>e/1e3;function tw(e,t){return t?e*(1e3/t):0}const nw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,QI=1e-7,ZI=12;function JI(e,t,n,r,o){let a,s,i=0;do s=t+(n-t)/2,a=nw(s,r,o)-e,a>0?n=s:t=s;while(Math.abs(a)>QI&&++i<ZI);return s}function Ss(e,t,n,r){if(e===t&&n===r)return At;const o=a=>JI(a,0,1,e,n);return a=>a===0||a===1?a:nw(o(a),t,r)}const rw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ow=e=>t=>1-e(1-t),aw=Ss(.33,1.53,.69,.99),qh=ow(aw),sw=rw(qh),iw=e=>(e*=2)<1?.5*qh(e):.5*(2-Math.pow(2,-10*(e-1))),Qh=e=>1-Math.sin(Math.acos(e)),lw=ow(Qh),cw=rw(Qh),eE=Ss(.42,0,1,1),tE=Ss(0,0,.58,1),uw=Ss(.42,0,.58,1),nE=e=>Array.isArray(e)&&typeof e[0]!="number",dw=e=>Array.isArray(e)&&typeof e[0]=="number",kp={linear:At,easeIn:eE,easeInOut:uw,easeOut:tE,circIn:Qh,circInOut:cw,circOut:lw,backIn:qh,backInOut:sw,backOut:aw,anticipate:iw},rE=e=>typeof e=="string",Sp=e=>{if(dw(e)){il(e.length===4);const[t,n,r,o]=e;return Ss(t,n,r,o)}else if(rE(e))return il(kp[e]!==void 0),kp[e];return e},ti=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Cp={value:null,addProjectionMetrics:null};function oE(e,t){let n=new Set,r=new Set,o=!1,a=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1},l=0;function c(m){s.has(m)&&(u.schedule(m),e()),l++,m(i)}const u={schedule:(m,h=!1,p=!1)=>{const y=p&&o?n:r;return h&&s.add(m),y.has(m)||y.add(m),m},cancel:m=>{r.delete(m),s.delete(m)},process:m=>{if(i=m,o){a=!0;return}o=!0,[n,r]=[r,n],n.forEach(c),t&&Cp.value&&Cp.value.frameloop[t].push(l),l=0,n.clear(),o=!1,a&&(a=!1,u.process(m))}};return u}const aE=40;function hw(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=ti.reduce((w,k)=>(w[k]=oE(a,t?k:void 0),w),{}),{setup:i,read:l,resolveKeyframes:c,preUpdate:u,update:m,preRender:h,render:p,postRender:x}=s,y=()=>{const w=Sn.useManualTiming?o.timestamp:performance.now();n=!1,Sn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(w-o.timestamp,aE),1)),o.timestamp=w,o.isProcessing=!0,i.process(o),l.process(o),c.process(o),u.process(o),m.process(o),h.process(o),p.process(o),x.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(y))},b=()=>{n=!0,r=!0,o.isProcessing||e(y)};return{schedule:ti.reduce((w,k)=>{const S=s[k];return w[k]=(C,T=!1,I=!1)=>(n||b(),S.schedule(C,T,I)),w},{}),cancel:w=>{for(let k=0;k<ti.length;k++)s[ti[k]].cancel(w)},state:o,steps:s}}const{schedule:xe,cancel:sr,state:$e,steps:Vc}=hw(typeof requestAnimationFrame<"u"?requestAnimationFrame:At,!0);let Ai;function sE(){Ai=void 0}const st={now:()=>(Ai===void 0&&st.set($e.isProcessing||Sn.useManualTiming?$e.timestamp:performance.now()),Ai),set:e=>{Ai=e,queueMicrotask(sE)}},mw=e=>t=>typeof t=="string"&&t.startsWith(e),Zh=mw("--"),iE=mw("var(--"),Jh=e=>iE(e)?lE.test(e.split("/*")[0].trim()):!1,lE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rs={...Jo,transform:e=>kn(0,1,e)},ni={...Jo,default:1},Da=e=>Math.round(e*1e5)/1e5,em=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cE(e){return e==null}const uE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tm=(e,t)=>n=>!!(typeof n=="string"&&uE.test(n)&&n.startsWith(e)||t&&!cE(n)&&Object.prototype.hasOwnProperty.call(n,t)),fw=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,a,s,i]=r.match(em);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(s),alpha:i!==void 0?parseFloat(i):1}},dE=e=>kn(0,255,e),$c={...Jo,transform:e=>Math.round(dE(e))},Tr={test:tm("rgb","red"),parse:fw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+$c.transform(e)+", "+$c.transform(t)+", "+$c.transform(n)+", "+Da(rs.transform(r))+")"};function hE(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const sd={test:tm("#"),parse:hE,transform:Tr.transform},Cs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ln=Cs("deg"),sn=Cs("%"),H=Cs("px"),mE=Cs("vh"),fE=Cs("vw"),Tp={...sn,parse:e=>sn.parse(e)/100,transform:e=>sn.transform(e*100)},mo={test:tm("hsl","hue"),parse:fw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+sn.transform(Da(t))+", "+sn.transform(Da(n))+", "+Da(rs.transform(r))+")"},Ye={test:e=>Tr.test(e)||sd.test(e)||mo.test(e),parse:e=>Tr.test(e)?Tr.parse(e):mo.test(e)?mo.parse(e):sd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Tr.transform(e):mo.transform(e)},pE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gE(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(em))==null?void 0:t.length)||0)+(((n=e.match(pE))==null?void 0:n.length)||0)>0}const pw="number",gw="color",yE="var",vE="var(",Ip="${}",xE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function os(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const i=t.replace(xE,l=>(Ye.test(l)?(r.color.push(a),o.push(gw),n.push(Ye.parse(l))):l.startsWith(vE)?(r.var.push(a),o.push(yE),n.push(l)):(r.number.push(a),o.push(pw),n.push(parseFloat(l))),++a,Ip)).split(Ip);return{values:n,split:i,indexes:r,types:o}}function yw(e){return os(e).values}function vw(e){const{split:t,types:n}=os(e),r=t.length;return o=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],o[s]!==void 0){const i=n[s];i===pw?a+=Da(o[s]):i===gw?a+=Ye.transform(o[s]):a+=o[s]}return a}}const wE=e=>typeof e=="number"?0:e;function bE(e){const t=yw(e);return vw(e)(t.map(wE))}const ir={test:gE,parse:yw,createTransformer:vw,getAnimatableNone:bE};function _c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kE({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,s=0;if(!t)o=a=s=n;else{const i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;o=_c(l,i,e+1/3),a=_c(l,i,e),s=_c(l,i,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function ll(e,t){return n=>n>0?t:e}const ye=(e,t,n)=>e+(t-e)*n,Bc=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},SE=[sd,Tr,mo],CE=e=>SE.find(t=>t.test(e));function Ep(e){const t=CE(e);if(!t)return!1;let n=t.parse(e);return t===mo&&(n=kE(n)),n}const Ap=(e,t)=>{const n=Ep(e),r=Ep(t);if(!n||!r)return ll(e,t);const o={...n};return a=>(o.red=Bc(n.red,r.red,a),o.green=Bc(n.green,r.green,a),o.blue=Bc(n.blue,r.blue,a),o.alpha=ye(n.alpha,r.alpha,a),Tr.transform(o))},id=new Set(["none","hidden"]);function TE(e,t){return id.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function IE(e,t){return n=>ye(e,t,n)}function nm(e){return typeof e=="number"?IE:typeof e=="string"?Jh(e)?ll:Ye.test(e)?Ap:jE:Array.isArray(e)?xw:typeof e=="object"?Ye.test(e)?Ap:EE:ll}function xw(e,t){const n=[...e],r=n.length,o=e.map((a,s)=>nm(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=o[s](a);return n}}function EE(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=nm(e[o])(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function AE(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],s=e.indexes[a][r[a]],i=e.values[s]??0;n[o]=i,r[a]++}return n}const jE=(e,t)=>{const n=ir.createTransformer(t),r=os(e),o=os(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?id.has(e)&&!o.values.length||id.has(t)&&!r.values.length?TE(e,t):ks(xw(AE(r,o),o.values),n):ll(e,t)};function ww(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ye(e,t,n):nm(e)(e,t)}const PE=e=>{const t=({timestamp:n})=>e(n);return{start:()=>xe.update(t,!0),stop:()=>sr(t),now:()=>$e.isProcessing?$e.timestamp:st.now()}},bw=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let a=0;a<o;a++)r+=e(a/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},cl=2e4;function rm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<cl;)t+=n,r=e.next(t);return t>=cl?1/0:t}function NE(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(rm(r),cl);return{type:"keyframes",ease:a=>r.next(o*a).value/t,duration:an(o)}}const ME=5;function kw(e,t,n){const r=Math.max(t-ME,0);return tw(n-e(r),t-r)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zc=.001;function RE({duration:e=ke.duration,bounce:t=ke.bounce,velocity:n=ke.velocity,mass:r=ke.mass}){let o,a,s=1-t;s=kn(ke.minDamping,ke.maxDamping,s),e=kn(ke.minDuration,ke.maxDuration,an(e)),s<1?(o=c=>{const u=c*s,m=u*e,h=u-n,p=ld(c,s),x=Math.exp(-m);return zc-h/p*x},a=c=>{const m=c*s*e,h=m*n+n,p=Math.pow(s,2)*Math.pow(c,2)*e,x=Math.exp(-m),y=ld(Math.pow(c,2),s);return(-o(c)+zc>0?-1:1)*((h-p)*x)/y}):(o=c=>{const u=Math.exp(-c*e),m=(c-n)*e+1;return-zc+u*m},a=c=>{const u=Math.exp(-c*e),m=(n-c)*(e*e);return u*m});const i=5/e,l=FE(o,a,i);if(e=on(e),isNaN(l))return{stiffness:ke.stiffness,damping:ke.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const DE=12;function FE(e,t,n){let r=n;for(let o=1;o<DE;o++)r=r-e(r)/t(r);return r}function ld(e,t){return e*Math.sqrt(1-t*t)}const LE=["duration","bounce"],OE=["stiffness","damping","mass"];function jp(e,t){return t.some(n=>e[n]!==void 0)}function VE(e){let t={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...e};if(!jp(e,OE)&&jp(e,LE))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*kn(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ke.mass,stiffness:o,damping:a}}else{const n=RE(e);t={...t,...n,mass:ke.mass},t.isResolvedFromDuration=!0}return t}function ul(e=ke.visualDuration,t=ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],i={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:m,velocity:h,isResolvedFromDuration:p}=VE({...n,velocity:-an(n.velocity||0)}),x=h||0,y=c/(2*Math.sqrt(l*u)),b=s-a,g=an(Math.sqrt(l/u)),v=Math.abs(b)<5;r||(r=v?ke.restSpeed.granular:ke.restSpeed.default),o||(o=v?ke.restDelta.granular:ke.restDelta.default);let w;if(y<1){const S=ld(g,y);w=C=>{const T=Math.exp(-y*g*C);return s-T*((x+y*g*b)/S*Math.sin(S*C)+b*Math.cos(S*C))}}else if(y===1)w=S=>s-Math.exp(-g*S)*(b+(x+g*b)*S);else{const S=g*Math.sqrt(y*y-1);w=C=>{const T=Math.exp(-y*g*C),I=Math.min(S*C,300);return s-T*((x+y*g*b)*Math.sinh(I)+S*b*Math.cosh(I))/S}}const k={calculatedDuration:p&&m||null,next:S=>{const C=w(S);if(p)i.done=S>=m;else{let T=S===0?x:0;y<1&&(T=S===0?on(x):kw(w,S,C));const I=Math.abs(T)<=r,A=Math.abs(s-C)<=o;i.done=I&&A}return i.value=i.done?s:C,i},toString:()=>{const S=Math.min(rm(k),cl),C=bw(T=>k.next(S*T).value,S,30);return S+"ms "+C},toTransition:()=>{}};return k}ul.applyToOptions=e=>{const t=NE(e,100,ul);return e.ease=t.ease,e.duration=on(t.duration),e.type="keyframes",e};function cd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:i,max:l,restDelta:c=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},p=I=>i!==void 0&&I<i||l!==void 0&&I>l,x=I=>i===void 0?l:l===void 0||Math.abs(i-I)<Math.abs(l-I)?i:l;let y=n*t;const b=m+y,g=s===void 0?b:s(b);g!==b&&(y=g-m);const v=I=>-y*Math.exp(-I/r),w=I=>g+v(I),k=I=>{const A=v(I),P=w(I);h.done=Math.abs(A)<=c,h.value=h.done?g:P};let S,C;const T=I=>{p(h.value)&&(S=I,C=ul({keyframes:[h.value,x(h.value)],velocity:kw(w,I,h.value),damping:o,stiffness:a,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:I=>{let A=!1;return!C&&S===void 0&&(A=!0,k(I),T(I)),S!==void 0&&I>=S?C.next(I-S):(!A&&k(I),h)}}}function $E(e,t,n){const r=[],o=n||Sn.mix||ww,a=e.length-1;for(let s=0;s<a;s++){let i=o(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||At:t;i=ks(l,i)}r.push(i)}return r}function _E(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;if(il(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=$E(t,r,o),l=i.length,c=u=>{if(s&&u<e[0])return t[0];let m=0;if(l>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=ns(e[m],e[m+1],u);return i[m](h)};return n?u=>c(kn(e[0],e[a-1],u)):c}function BE(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=ns(0,t,r);e.push(ye(n,1,o))}}function zE(e){const t=[0];return BE(t,e.length-1),t}function WE(e,t){return e.map(n=>n*t)}function HE(e,t){return e.map(()=>t||uw).splice(0,e.length-1)}function Fa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=nE(r)?r.map(Sp):Sp(r),a={done:!1,value:t[0]},s=WE(n&&n.length===t.length?n:zE(t),e),i=_E(s,t,{ease:Array.isArray(o)?o:HE(t,o)});return{calculatedDuration:e,next:l=>(a.value=i(l),a.done=l>=e,a)}}const UE=e=>e!==null;function om(e,{repeat:t,repeatType:n="loop"},r,o=1){const a=e.filter(UE),i=o<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}const YE={decay:cd,inertia:cd,tween:Fa,keyframes:Fa,spring:ul};function Sw(e){typeof e.type=="string"&&(e.type=YE[e.type])}class am{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const GE=e=>e/100;class Cw extends am{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==st.now()&&this.tick(st.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sw(t);const{type:n=Fa,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:s=0}=t;let{keyframes:i}=t;const l=n||Fa;l!==Fa&&typeof i[0]!="number"&&(this.mixKeyframes=ks(GE,ww(i[0],i[1])),i=[0,100]);const c=l({...t,keyframes:i});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...i].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=rm(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:i,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:m,repeatType:h,repeatDelay:p,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>o;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let w=this.currentTime,k=r;if(m){const I=Math.min(this.currentTime,o)/i;let A=Math.floor(I),P=I%1;!P&&I>=1&&(P=1),P===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(h==="reverse"?(P=1-P,p&&(P-=p/i)):h==="mirror"&&(k=s)),w=kn(0,1,P)*i}const S=v?{done:!1,value:u[0]}:k.next(w);a&&(S.value=a(S.value));let{done:C}=S;!v&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&x!==cd&&(S.value=om(u,this.options,b,this.speed)),y&&y(S.value),T&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return an(this.calculatedDuration)}get time(){return an(this.currentTime)}set time(t){t=on(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(st.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=an(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=PE,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(st.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function XE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ir=e=>e*180/Math.PI,ud=e=>{const t=Ir(Math.atan2(e[1],e[0]));return dd(t)},KE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ud,rotateZ:ud,skewX:e=>Ir(Math.atan(e[1])),skewY:e=>Ir(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dd=e=>(e=e%360,e<0&&(e+=360),e),Pp=ud,Np=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Mp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Np,scaleY:Mp,scale:e=>(Np(e)+Mp(e))/2,rotateX:e=>dd(Ir(Math.atan2(e[6],e[5]))),rotateY:e=>dd(Ir(Math.atan2(-e[2],e[0]))),rotateZ:Pp,rotate:Pp,skewX:e=>Ir(Math.atan(e[4])),skewY:e=>Ir(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rp(e){return e.includes("scale")?1:0}function hd(e,t){if(!e||e==="none")return Rp(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=qE,o=n;else{const i=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KE,o=i}if(!o)return Rp(t);const a=r[t],s=o[1].split(",").map(ZE);return typeof a=="function"?a(s):s[a]}const QE=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hd(n,t)};function ZE(e){return parseFloat(e.trim())}const ea=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ta=new Set(ea),Dp=e=>e===Jo||e===H,JE=new Set(["x","y","z"]),eA=ea.filter(e=>!JE.has(e));function tA(e){const t=[];return eA.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hd(t,"x"),y:(e,{transform:t})=>hd(t,"y")};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const Rr=new Set;let md=!1,fd=!1,pd=!1;function Tw(){if(fd){const e=Array.from(Rr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=tA(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,s])=>{var i;(i=r.getValue(a))==null||i.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fd=!1,md=!1,Rr.forEach(e=>e.complete(pd)),Rr.clear()}function Iw(){Rr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fd=!0)})}function nA(){pd=!0,Iw(),Tw(),pd=!1}class sm{constructor(t,n,r,o,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rr.add(this),md||(md=!0,xe.read(Iw),xe.resolveKeyframes(Tw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const a=o==null?void 0:o.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const i=r.readValue(n,s);i!=null&&(t[0]=i)}t[0]===void 0&&(t[0]=s),o&&a===void 0&&o.set(t[0])}XE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Rr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const rA=e=>e.startsWith("--");function oA(e,t,n){rA(t)?e.style.setProperty(t,n):e.style[t]=n}const aA=Xh(()=>window.ScrollTimeline!==void 0),sA={};function iA(e,t){const n=Xh(e);return()=>sA[t]??n()}const Ew=iA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ka=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Fp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ka([0,.65,.55,1]),circOut:ka([.55,0,1,.45]),backIn:ka([.31,.01,.66,-.59]),backOut:ka([.33,1.53,.69,.99])};function Aw(e,t){if(e)return typeof e=="function"?Ew()?bw(e,t):"ease-out":dw(e)?ka(e):Array.isArray(e)?e.map(n=>Aw(n,t)||Fp.easeOut):Fp[e]}function lA(e,t,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:s="loop",ease:i="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const m=Aw(i,o);Array.isArray(m)&&(u.easing=m);const h={delay:r,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function jw(e){return typeof e=="function"&&"applyToOptions"in e}function cA({type:e,...t}){return jw(e)&&Ew()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uA extends am{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:i,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,il(typeof t.type!="string");const c=cA(t);this.animation=lA(n,r,o,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=om(o,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(u):oA(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return an(Number(t))}get time(){return an(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=on(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&aA()?(this.animation.timeline=t,At):n(this)}}const Pw={anticipate:iw,backInOut:sw,circInOut:cw};function dA(e){return e in Pw}function hA(e){typeof e.ease=="string"&&dA(e.ease)&&(e.ease=Pw[e.ease])}const Lp=10;class mA extends uA{constructor(t){hA(t),Sw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:a,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const i=new Cw({...s,autoplay:!1}),l=on(this.finishedTime??this.time);n.setWithVelocity(i.sample(l-Lp).value,i.sample(l).value,Lp),i.stop()}}const Op=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ir.test(e)||e==="0")&&!e.startsWith("url("));function fA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function pA(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=Op(o,t),i=Op(a,t);return!s||!i?!1:fA(e)||(n==="spring"||jw(n))&&r}const gA=new Set(["opacity","clipPath","filter","transform"]),yA=Xh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vA(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:a,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:i,transformTemplate:l}=t.owner.getProps();return yA()&&n&&gA.has(n)&&(n!=="transform"||!l)&&!i&&!r&&o!=="mirror"&&a!==0&&s!=="inertia"}const xA=40;class wA extends am{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:s="loop",keyframes:i,name:l,motionValue:c,element:u,...m}){var x;super(),this.stop=()=>{var y,b;this._animation?(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)):(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=st.now();const h={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:s,name:l,motionValue:c,element:u,...m},p=(u==null?void 0:u.KeyframeResolver)||sm;this.keyframeResolver=new p(i,(y,b,g)=>this.onKeyframesResolved(y,b,h,!g),l,c,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:a,type:s,velocity:i,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=st.now(),pA(t,a,s,i)||((Sn.instantAnimations||!l)&&(u==null||u(om(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>xA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!c&&vA(h)?new mA({...h,element:h.motionValue.owner.current}):new Cw(h);p.finished.then(()=>this.notifyFinished()).catch(At),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||nA(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const bA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kA(e){const t=bA.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function Nw(e,t,n=1){const[r,o]=kA(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return Jx(s)?parseFloat(s):s}return Jh(o)?Nw(o,t,n+1):o}function im(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Mw=new Set(["width","height","top","left","right","bottom",...ea]),SA={test:e=>e==="auto",parse:e=>e},Rw=e=>t=>t.test(e),Dw=[Jo,H,sn,Ln,fE,mE,SA],Vp=e=>Dw.find(Rw(e));function CA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ew(e):!0}const TA=new Set(["brightness","contrast","saturate","opacity"]);function IA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(em)||[];if(!r)return e;const o=n.replace(r,"");let a=TA.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const EA=/\b([a-z-]*)\(.*?\)/gu,gd={...ir,getAnimatableNone:e=>{const t=e.match(EA);return t?t.map(IA).join(" "):e}},$p={...Jo,transform:Math.round},AA={rotate:Ln,rotateX:Ln,rotateY:Ln,rotateZ:Ln,scale:ni,scaleX:ni,scaleY:ni,scaleZ:ni,skew:Ln,skewX:Ln,skewY:Ln,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:rs,originX:Tp,originY:Tp,originZ:H},lm={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H,...AA,zIndex:$p,fillOpacity:rs,strokeOpacity:rs,numOctaves:$p},jA={...lm,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:gd,WebkitFilter:gd},Fw=e=>jA[e];function Lw(e,t){let n=Fw(e);return n!==gd&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const PA=new Set(["auto","none","0"]);function NA(e,t,n){let r=0,o;for(;r<e.length&&!o;){const a=e[r];typeof a=="string"&&!PA.has(a)&&os(a).values.length&&(o=e[r]),r++}if(o&&n)for(const a of t)e[a]=Lw(n,o)}class MA extends sm{constructor(t,n,r,o,a){super(t,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Jh(c))){const u=Nw(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Mw.has(r)||t.length!==2)return;const[o,a]=t,s=Vp(o),i=Vp(a);if(s!==i)if(Dp(s)&&Dp(i))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||CA(t[o]))&&r.push(o);r.length&&NA(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ho[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var i;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(i=this.removedTransforms)!=null&&i.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function RA(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const{schedule:cm,cancel:lO}=hw(queueMicrotask,!1),Dt={x:!1,y:!1};function Ow(){return Dt.x||Dt.y}function DA(e){return e==="x"||e==="y"?Dt[e]?null:(Dt[e]=!0,()=>{Dt[e]=!1}):Dt.x||Dt.y?null:(Dt.x=Dt.y=!0,()=>{Dt.x=Dt.y=!1})}function Vw(e,t){const n=RA(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function _p(e){return!(e.pointerType==="touch"||Ow())}function FA(e,t,n={}){const[r,o,a]=Vw(e,n),s=i=>{if(!_p(i))return;const{target:l}=i,c=t(l,i);if(typeof c!="function"||!l)return;const u=m=>{_p(m)&&(c(m),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,o)};return r.forEach(i=>{i.addEventListener("pointerenter",s,o)}),a}const $w=(e,t)=>t?e===t?!0:$w(e,t.parentElement):!1,um=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,LA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OA(e){return LA.has(e.tagName)||e.tabIndex!==-1}const Sa=new WeakSet;function Bp(e){return t=>{t.key==="Enter"&&e(t)}}function Wc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VA=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Bp(()=>{if(Sa.has(n))return;Wc(n,"down");const o=Bp(()=>{Wc(n,"up")}),a=()=>Wc(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function zp(e){return um(e)&&!Ow()}function $A(e,t,n={}){const[r,o,a]=Vw(e,n),s=i=>{const l=i.currentTarget;if(!zp(i)||Sa.has(l))return;Sa.add(l);const c=t(l,i),u=(p,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!zp(p)||!Sa.has(l))&&(Sa.delete(l),typeof c=="function"&&c(p,{success:x}))},m=p=>{u(p,l===window||l===document||n.useGlobalTarget||$w(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",m,o),window.addEventListener("pointercancel",h,o)};return r.forEach(i=>{(n.useGlobalTarget?window:i).addEventListener("pointerdown",s,o),i instanceof HTMLElement&&(i.addEventListener("focus",c=>VA(c,o)),!OA(i)&&!i.hasAttribute("tabindex")&&(i.tabIndex=0))}),a}const Wp=30,_A=e=>!isNaN(parseFloat(e));class BA{constructor(t,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var s,i;const a=st.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current)),o&&((i=this.events.renderRequest)==null||i.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=st.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_A(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Kh);const r=this.events[t].add(n);return t==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=st.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Wp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Wp);return tw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(e,t){return new BA(e,t)}const zA=[...Dw,Ye,ir],WA=e=>zA.find(Rw(e)),_w=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Bw=f.createContext({strict:!1}),Hp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const e in Hp)Uo[e]={isEnabled:t=>Hp[e].some(n=>!!t[n])};function HA(e){for(const t in e)Uo[t]={...Uo[t],...e[t]}}const UA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UA.has(e)}let zw=e=>!dl(e);function YA(e){e&&(zw=t=>t.startsWith("on")?!dl(t):e(t))}try{YA(require("@emotion/is-prop-valid").default)}catch{}function GA(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(zw(o)||n===!0&&dl(o)||!t&&!dl(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function XA(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const $l=f.createContext({});function _l(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ss(e){return typeof e=="string"||Array.isArray(e)}const dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hm=["initial",...dm];function Bl(e){return _l(e.animate)||hm.some(t=>ss(e[t]))}function Ww(e){return!!(Bl(e)||e.variants)}function KA(e,t){if(Bl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ss(n)?n:void 0,animate:ss(r)?r:void 0}}return e.inherit!==!1?t:{}}function qA(e){const{initial:t,animate:n}=KA(e,f.useContext($l));return f.useMemo(()=>({initial:t,animate:n}),[Up(t),Up(n)])}function Up(e){return Array.isArray(e)?e.join(" "):e}const QA=Symbol.for("motionComponentSymbol");function fo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZA(e,t,n){return f.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):fo(n)&&(n.current=r))},[t])}const mm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JA="framerAppearId",Hw="data-"+mm(JA),Uw=f.createContext({});function ej(e,t,n,r,o){var y,b;const{visualElement:a}=f.useContext($l),s=f.useContext(Bw),i=f.useContext(Ol),l=f.useContext(Uh).reducedMotion,c=f.useRef(null);r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,m=f.useContext(Uw);u&&!u.projection&&o&&(u.type==="html"||u.type==="svg")&&tj(c.current,n,o,m);const h=f.useRef(!1);f.useInsertionEffect(()=>{u&&h.current&&u.update(n,i)});const p=n[Hw],x=f.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return Qx(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),cm.render(u.render),x.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),x.current=!1))}),u}function tj(e,t,n,r){const{layoutId:o,layout:a,drag:s,dragConstraints:i,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yw(e.parent)),e.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!s||i&&fo(i),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Yw(e){if(e)return e.options.allowProjection!==!1?e.projection:Yw(e.parent)}function nj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&HA(e);function a(i,l){let c;const u={...f.useContext(Uh),...i,layoutId:rj(i)},{isStatic:m}=u,h=qA(i),p=r(i,m);if(!m&&Hh){oj();const x=aj(u);c=x.MeasureLayout,h.visualElement=ej(o,p,u,t,x.ProjectionNode)}return d.jsxs($l.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,n(o,i,ZA(p,h.visualElement,l),p,m,h.visualElement)]})}a.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const s=f.forwardRef(a);return s[QA]=o,s}function rj({layoutId:e}){const t=f.useContext(zh).id;return t&&e!==void 0?t+"-"+e:e}function oj(e,t){f.useContext(Bw).strict}function aj(e){const{drag:t,layout:n}=Uo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const is={};function sj(e){for(const t in e)is[t]=e[t],Zh(t)&&(is[t].isCSSVariable=!0)}function Gw(e,{layout:t,layoutId:n}){return ta.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!is[e]||e==="opacity")}const Xe=e=>!!(e&&e.getVelocity),ij={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lj=ea.length;function cj(e,t,n){let r="",o=!0;for(let a=0;a<lj;a++){const s=ea[a],i=e[s];if(i===void 0)continue;let l=!0;if(typeof i=="number"?l=i===(s.startsWith("scale")?1:0):l=parseFloat(i)===0,!l||n){const c=_w(i,lm[s]);if(!l){o=!1;const u=ij[s]||s;r+=`${u}(${c}) `}n&&(t[s]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function fm(e,t,n){const{style:r,vars:o,transformOrigin:a}=e;let s=!1,i=!1;for(const l in t){const c=t[l];if(ta.has(l)){s=!0;continue}else if(Zh(l)){o[l]=c;continue}else{const u=_w(c,lm[l]);l.startsWith("origin")?(i=!0,a[l]=u):r[l]=u}}if(t.transform||(s||n?r.transform=cj(t,e.transform,n):r.transform&&(r.transform="none")),i){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const pm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xw(e,t,n){for(const r in t)!Xe(t[r])&&!Gw(r,n)&&(e[r]=t[r])}function uj({transformTemplate:e},t){return f.useMemo(()=>{const n=pm();return fm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function dj(e,t){const n=e.style||{},r={};return Xw(r,n,e),Object.assign(r,uj(e,t)),r}function hj(e,t){const n={},r=dj(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const mj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gm(e){return typeof e!="string"||e.includes("-")?!1:!!(mj.indexOf(e)>-1||/[A-Z]/u.test(e))}const fj={offset:"stroke-dashoffset",array:"stroke-dasharray"},pj={offset:"strokeDashoffset",array:"strokeDasharray"};function gj(e,t,n=1,r=0,o=!0){e.pathLength=1;const a=o?fj:pj;e[a.offset]=H.transform(-r);const s=H.transform(t),i=H.transform(n);e[a.array]=`${s} ${i}`}function Kw(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:s=0,...i},l,c){if(fm(e,i,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:m}=e;u.transform&&(m.transform=u.transform,delete u.transform),(m.transform||u.transformOrigin)&&(m.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),m.transform&&(m.transformBox="fill-box",delete u.transformBox),t!==void 0&&(u.x=t),n!==void 0&&(u.y=n),r!==void 0&&(u.scale=r),o!==void 0&&gj(u,o,a,s,!1)}const qw=()=>({...pm(),attrs:{}}),Qw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yj(e,t,n,r){const o=f.useMemo(()=>{const a=qw();return Kw(a,t,Qw(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Xw(a,e.style,e),o.style={...a,...o.style}}return o}function vj(e=!1){return(n,r,o,{latestValues:a},s)=>{const l=(gm(n)?yj:hj)(r,a,s,n),c=GA(r,typeof n=="string",e),u=n!==f.Fragment?{...c,...l,ref:o}:{},{children:m}=r,h=f.useMemo(()=>Xe(m)?m.get():m,[m]);return f.createElement(n,{...u,children:h})}}function Yp(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ym(e,t,n,r){if(typeof t=="function"){const[o,a]=Yp(r);t=t(n!==void 0?n:e.custom,o,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,a]=Yp(r);t=t(n!==void 0?n:e.custom,o,a)}return t}function ji(e){return Xe(e)?e.get():e}function xj({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:wj(n,r,o,e),renderState:t()}}const Zw=e=>(t,n)=>{const r=f.useContext($l),o=f.useContext(Ol),a=()=>xj(e,t,r,o);return n?a():Wh(a)};function wj(e,t,n,r){const o={},a=r(e,{});for(const h in a)o[h]=ji(a[h]);let{initial:s,animate:i}=e;const l=Bl(e),c=Ww(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),i===void 0&&(i=t.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const m=u?i:s;if(m&&typeof m!="boolean"&&!_l(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const x=ym(e,h[p]);if(x){const{transitionEnd:y,transition:b,...g}=x;for(const v in g){let w=g[v];if(Array.isArray(w)){const k=u?w.length-1:0;w=w[k]}w!==null&&(o[v]=w)}for(const v in y)o[v]=y[v]}}}return o}function vm(e,t,n){var a;const{style:r}=e,o={};for(const s in r)(Xe(r[s])||t.style&&Xe(t.style[s])||Gw(s,e)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(o[s]=r[s]);return o}const bj={useVisualState:Zw({scrapeMotionValuesFromProps:vm,createRenderState:pm})};function Jw(e,t,n){const r=vm(e,t,n);for(const o in e)if(Xe(e[o])||Xe(t[o])){const a=ea.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=e[o]}return r}const kj={useVisualState:Zw({scrapeMotionValuesFromProps:Jw,createRenderState:qw})};function Sj(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const s={...gm(r)?kj:bj,preloadedFeatures:e,useRender:vj(o),createVisualElement:t,Component:r};return nj(s)}}function ls(e,t,n){const r=e.getProps();return ym(r,t,n!==void 0?n:r.custom,e)}const yd=e=>Array.isArray(e);function Cj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,as(n))}function Tj(e){return yd(e)?e[e.length-1]||0:e}function Ij(e,t){const n=ls(e,t);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const s in a){const i=Tj(a[s]);Cj(e,s,i)}}function Ej(e){return!!(Xe(e)&&e.add)}function vd(e,t){const n=e.getValue("willChange");if(Ej(n))return n.add(t);if(!n&&Sn.WillChange){const r=new Sn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function eb(e){return e.props[Hw]}const Aj=e=>e!==null;function jj(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(Aj),a=t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const Pj={type:"spring",stiffness:500,damping:25,restSpeed:10},Nj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Mj={type:"keyframes",duration:.8},Rj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dj=(e,{keyframes:t})=>t.length>2?Mj:ta.has(e)?e.startsWith("scale")?Nj(t[1]):Pj:Rj;function Fj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:i,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const xm=(e,t,n,r={},o,a)=>s=>{const i=im(r,e)||{},l=i.delay||r.delay||0;let{elapsed:c=0}=r;c=c-on(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...i,delay:-c,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{s(),i.onComplete&&i.onComplete()},name:e,motionValue:t,element:a?void 0:o};Fj(i)||Object.assign(u,Dj(e,u)),u.duration&&(u.duration=on(u.duration)),u.repeatDelay&&(u.repeatDelay=on(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),(Sn.instantAnimations||Sn.skipAnimations)&&(m=!0,u.duration=0,u.delay=0),u.allowFlatten=!i.type&&!i.ease,m&&!a&&t.get()!==void 0){const h=jj(u.keyframes,i);if(h!==void 0){xe.update(()=>{u.onUpdate(h),u.onComplete()});return}}return new wA(u)};function Lj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function tb(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...i}=t;r&&(a=r);const l=[],c=o&&e.animationState&&e.animationState.getState()[o];for(const u in i){const m=e.getValue(u,e.latestValues[u]??null),h=i[u];if(h===void 0||c&&Lj(c,u))continue;const p={delay:n,...im(a||{},u)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(h)&&h===x&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=eb(e);if(g){const v=window.MotionHandoffAnimation(g,u,xe);v!==null&&(p.startTime=v,y=!0)}}vd(e,u),m.start(xm(u,m,h,e.shouldReduceMotion&&Mw.has(u)?{type:!1}:p,e,y));const b=m.animation;b&&l.push(b)}return s&&Promise.all(l).then(()=>{xe.update(()=>{s&&Ij(e,s)})}),l}function xd(e,t,n={}){var l;const r=ls(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(tb(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=o;return Oj(e,t,u+c,m,h,n)}:()=>Promise.resolve(),{when:i}=o;if(i){const[c,u]=i==="beforeChildren"?[a,s]:[s,a];return c().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function Oj(e,t,n=0,r=0,o=1,a){const s=[],i=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>i-c*r;return Array.from(e.variantChildren).sort(Vj).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(xd(c,t,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Vj(e,t){return e.sortNodePosition(t)}function $j(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(a=>xd(e,a,n));r=Promise.all(o)}else if(typeof t=="string")r=xd(e,t,n);else{const o=typeof t=="function"?ls(e,t,n.custom):t;r=Promise.all(tb(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function nb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const _j=hm.length;function rb(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?rb(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_j;n++){const r=hm[n],o=e.props[r];(ss(o)||o===!1)&&(t[r]=o)}return t}const Bj=[...dm].reverse(),zj=dm.length;function Wj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>$j(e,n,r)))}function Hj(e){let t=Wj(e),n=Gp(),r=!0;const o=l=>(c,u)=>{var h;const m=ls(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:x,...y}=m;c={...c,...y,...x}}return c};function a(l){t=l(e)}function s(l){const{props:c}=e,u=rb(e.parent)||{},m=[],h=new Set;let p={},x=1/0;for(let b=0;b<zj;b++){const g=Bj[b],v=n[g],w=c[g]!==void 0?c[g]:u[g],k=ss(w),S=g===l?v.isActive:null;S===!1&&(x=b);let C=w===u[g]&&w!==c[g]&&k;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...p},!v.isActive&&S===null||!w&&!v.prevProp||_l(w)||typeof w=="boolean")continue;const T=Uj(v.prevProp,w);let I=T||g===l&&v.isActive&&!C&&k||b>x&&k,A=!1;const P=Array.isArray(w)?w:[w];let L=P.reduce(o(g),{});S===!1&&(L={});const{prevResolvedValues:F={}}=v,z={...F,...L},O=R=>{I=!0,h.has(R)&&(A=!0,h.delete(R)),v.needsAnimating[R]=!0;const E=e.getValue(R);E&&(E.liveStyle=!1)};for(const R in z){const E=L[R],M=F[R];if(p.hasOwnProperty(R))continue;let _=!1;yd(E)&&yd(M)?_=!nb(E,M):_=E!==M,_?E!=null?O(R):h.add(R):E!==void 0&&h.has(R)?O(R):v.protectedKeys[R]=!0}v.prevProp=w,v.prevResolvedValues=L,v.isActive&&(p={...p,...L}),r&&e.blockInitialAnimation&&(I=!1),I&&(!(C&&T)||A)&&m.push(...P.map(R=>({animation:R,options:{type:g}})))}if(h.size){const b={};if(typeof c.initial!="boolean"){const g=ls(e,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(b.transition=g.transition)}h.forEach(g=>{const v=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),b[g]=v??null}),m.push({animation:b})}let y=!!m.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(m):Promise.resolve()}function i(l,c){var m;if(n[l].isActive===c)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:s,setActive:i,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Gp(),r=!0}}}function Uj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nb(t,e):!1}function yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gp(){return{animate:yr(!0),whileInView:yr(),whileHover:yr(),whileTap:yr(),whileDrag:yr(),whileFocus:yr(),exit:yr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Yj extends pr{constructor(t){super(t),t.animationState||(t.animationState=Hj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_l(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Gj=0;class Xj extends pr{constructor(){super(...arguments),this.id=Gj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Kj={animation:{Feature:Yj},exit:{Feature:Xj}};function cs(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ts(e){return{point:{x:e.pageX,y:e.pageY}}}const qj=e=>t=>um(t)&&e(t,Ts(t));function La(e,t,n,r){return cs(e,t,qj(n),r)}function ob({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Qj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Zj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const ab=1e-4,Jj=1-ab,eP=1+ab,sb=.01,tP=0-sb,nP=0+sb;function et(e){return e.max-e.min}function rP(e,t,n){return Math.abs(e-t)<=n}function Xp(e,t,n,r=.5){e.origin=r,e.originPoint=ye(t.min,t.max,e.origin),e.scale=et(n)/et(t),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Jj&&e.scale<=eP||isNaN(e.scale))&&(e.scale=1),(e.translate>=tP&&e.translate<=nP||isNaN(e.translate))&&(e.translate=0)}function Oa(e,t,n,r){Xp(e.x,t.x,n.x,r?r.originX:void 0),Xp(e.y,t.y,n.y,r?r.originY:void 0)}function Kp(e,t,n){e.min=n.min+t.min,e.max=e.min+et(t)}function oP(e,t,n){Kp(e.x,t.x,n.x),Kp(e.y,t.y,n.y)}function qp(e,t,n){e.min=t.min-n.min,e.max=e.min+et(t)}function Va(e,t,n){qp(e.x,t.x,n.x),qp(e.y,t.y,n.y)}const Qp=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:Qp(),y:Qp()}),Zp=()=>({min:0,max:0}),Te=()=>({x:Zp(),y:Zp()});function kt(e){return[e("x"),e("y")]}function Hc(e){return e===void 0||e===1}function wd({scale:e,scaleX:t,scaleY:n}){return!Hc(e)||!Hc(t)||!Hc(n)}function wr(e){return wd(e)||ib(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ib(e){return Jp(e.x)||Jp(e.y)}function Jp(e){return e&&e!=="0%"}function hl(e,t,n){const r=e-n,o=t*r;return n+o}function eg(e,t,n,r,o){return o!==void 0&&(e=hl(e,o,r)),hl(e,n,r)+t}function bd(e,t=0,n=1,r,o){e.min=eg(e.min,t,n,r,o),e.max=eg(e.max,t,n,r,o)}function lb(e,{x:t,y:n}){bd(e.x,t.translate,t.scale,t.originPoint),bd(e.y,n.translate,n.scale,n.originPoint)}const tg=.999999999999,ng=1.0000000000001;function aP(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let a,s;for(let i=0;i<o;i++){a=n[i],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&yo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,lb(e,s)),r&&wr(a.latestValues)&&yo(e,a.latestValues))}t.x<ng&&t.x>tg&&(t.x=1),t.y<ng&&t.y>tg&&(t.y=1)}function go(e,t){e.min=e.min+t,e.max=e.max+t}function rg(e,t,n,r,o=.5){const a=ye(e.min,e.max,o);bd(e,t,n,a,r)}function yo(e,t){rg(e.x,t.x,t.scaleX,t.scale,t.originX),rg(e.y,t.y,t.scaleY,t.scale,t.originY)}function cb(e,t){return ob(Zj(e.getBoundingClientRect(),t))}function sP(e,t,n){const r=cb(e,n),{scroll:o}=t;return o&&(go(r.x,o.offset.x),go(r.y,o.offset.y)),r}const ub=({current:e})=>e?e.ownerDocument.defaultView:null,og=(e,t)=>Math.abs(e-t);function iP(e,t){const n=og(e.x,t.x),r=og(e.y,t.y);return Math.sqrt(n**2+r**2)}class db{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Yc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=iP(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:x}=m,{timestamp:y}=$e;this.history.push({...x,timestamp:y});const{onStart:b,onMove:g}=this.handlers;h||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Uc(h,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Yc(m.type==="pointercancel"?this.lastMoveEventInfo:Uc(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,b),x&&x(m,b)},!um(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=Ts(t),i=Uc(s,this.transformPagePoint),{point:l}=i,{timestamp:c}=$e;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Yc(i,this.history)),this.removeListeners=ks(La(this.contextWindow,"pointermove",this.handlePointerMove),La(this.contextWindow,"pointerup",this.handlePointerUp),La(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sr(this.updatePoint)}}function Uc(e,t){return t?{point:t(e.point)}:e}function ag(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yc({point:e},t){return{point:e,delta:ag(e,hb(t)),offset:ag(e,lP(t)),velocity:cP(t,.1)}}function lP(e){return e[0]}function hb(e){return e[e.length-1]}function cP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=hb(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>on(t)));)n--;if(!r)return{x:0,y:0};const a=an(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function uP(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ye(n,e,r.max):Math.min(e,n)),e}function sg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dP(e,{top:t,left:n,bottom:r,right:o}){return{x:sg(e.x,n,o),y:sg(e.y,t,r)}}function ig(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hP(e,t){return{x:ig(e.x,t.x),y:ig(e.y,t.y)}}function mP(e,t){let n=.5;const r=et(e),o=et(t);return o>r?n=ns(t.min,t.max-r,e.min):r>o&&(n=ns(e.min,e.max-o,t.min)),kn(0,1,n)}function fP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kd=.35;function pP(e=kd){return e===!1?e=0:e===!0&&(e=kd),{x:lg(e,"left","right"),y:lg(e,"top","bottom")}}function lg(e,t,n){return{min:cg(e,t),max:cg(e,n)}}function cg(e,t){return typeof e=="number"?e:e[t]||0}const gP=new WeakMap;class yP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ts(u).point)},a=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:x}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DA(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kt(b=>{let g=this.getAxisMotionValue(b).get()||0;if(sn.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(g=et(w)*(parseFloat(g)/100))}}this.originPoint[b]=g}),x&&xe.postRender(()=>x(u,m)),vd(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:x,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=m;if(p&&this.currentDirection===null){this.currentDirection=vP(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),y&&y(u,m)},i=(u,m)=>this.stop(u,m),l=()=>kt(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)==null?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new db(t,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:i,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ub(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&xe.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!ri(t,o,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=uP(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;t&&fo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=dP(r.layoutBox,t):this.constraints=!1,this.elastic=pP(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=fP(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!fo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=sP(r,o.root,this.visualElement.getTransformPagePoint());let s=hP(o.layout.layoutBox,a);if(n){const i=n(Qj(s));this.hasMutatedConstraints=!!i,i&&(s=ob(i))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:i}=this.getProps(),l=this.constraints||{},c=kt(u=>{if(!ri(u,n,this.currentDirection))return;let m=l&&l[u]||{};s&&(m={min:0,max:0});const h=o?200:1e6,p=o?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(i)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return vd(this.visualElement,t),r.start(xm(t,r,0,n,this.visualElement,!1))}stopAnimation(){kt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kt(n=>{const{drag:r}=this.getProps();if(!ri(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:i}=o.layout.layoutBox[n];a.set(t[n]-ye(s,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kt(s=>{const i=this.getAxisMotionValue(s);if(i&&this.constraints!==!1){const l=i.get();o[s]=mP({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kt(s=>{if(!ri(s,t,null))return;const i=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];i.set(ye(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;gP.set(this.visualElement,this);const t=this.visualElement.current,n=La(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),xe.read(r);const s=cs(window,"resize",()=>this.scalePositionWithinConstraints()),i=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kt(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=l[u].translate,m.set(m.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:s=kd,dragMomentum:i=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:s,dragMomentum:i}}}function ri(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xP extends pr{constructor(t){super(t),this.removeGroupControls=At,this.removeListeners=At,this.controls=new yP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||At}unmount(){this.removeGroupControls(),this.removeListeners()}}const ug=e=>(t,n)=>{e&&xe.postRender(()=>e(t,n))};class wP extends pr{constructor(){super(...arguments),this.removePointerDownListener=At}onPointerDown(t){this.session=new db(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ub(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ug(t),onStart:ug(n),onMove:r,onEnd:(a,s)=>{delete this.session,o&&xe.postRender(()=>o(a,s))}}}mount(){this.removePointerDownListener=La(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(H.test(e))e=parseFloat(e);else return e;const n=dg(e,t.target.x),r=dg(e,t.target.y);return`${n}% ${r}%`}},bP={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ir.parse(e);if(o.length>5)return r;const a=ir.createTransformer(e),s=typeof o[0]!="number"?1:0,i=n.x.scale*t.x,l=n.y.scale*t.y;o[0+s]/=i,o[1+s]/=l;const c=ye(i,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),a(o)}};class kP extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=t;sj(SP),a&&(n.group&&n.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Pi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,o||t.layoutDependency!==n||n===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||xe.postRender(()=>{const i=s.getStack();(!i||!i.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mb(e){const[t,n]=Zx(),r=f.useContext(zh);return d.jsx(kP,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(Uw),isPresent:t,safeToRemove:n})}const SP={borderRadius:{...pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pa,borderTopRightRadius:pa,borderBottomLeftRadius:pa,borderBottomRightRadius:pa,boxShadow:bP};function CP(e,t,n){const r=Xe(e)?e:as(e);return r.start(xm("",r,t,n)),r.animation}function TP(e){return e instanceof SVGElement&&e.tagName!=="svg"}const IP=(e,t)=>e.depth-t.depth;class EP{constructor(){this.children=[],this.isDirty=!1}add(t){Yh(this.children,t),this.isDirty=!0}remove(t){Gh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IP),this.isDirty=!1,this.children.forEach(t)}}function AP(e,t){const n=st.now(),r=({timestamp:o})=>{const a=o-n;a>=t&&(sr(r),e(a-t))};return xe.setup(r,!0),()=>sr(r)}const fb=["TopLeft","TopRight","BottomLeft","BottomRight"],jP=fb.length,hg=e=>typeof e=="string"?parseFloat(e):e,mg=e=>typeof e=="number"||H.test(e);function PP(e,t,n,r,o,a){o?(e.opacity=ye(0,n.opacity??1,NP(r)),e.opacityExit=ye(t.opacity??1,0,MP(r))):a&&(e.opacity=ye(t.opacity??1,n.opacity??1,r));for(let s=0;s<jP;s++){const i=`border${fb[s]}Radius`;let l=fg(t,i),c=fg(n,i);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||mg(l)===mg(c)?(e[i]=Math.max(ye(hg(l),hg(c),r),0),(sn.test(c)||sn.test(l))&&(e[i]+="%")):e[i]=c}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,r))}function fg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const NP=pb(0,.5,lw),MP=pb(.5,.95,At);function pb(e,t,n){return r=>r<e?0:r>t?1:n(ns(e,t,r))}function pg(e,t){e.min=t.min,e.max=t.max}function bt(e,t){pg(e.x,t.x),pg(e.y,t.y)}function gg(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yg(e,t,n,r,o){return e-=t,e=hl(e,1/n,r),o!==void 0&&(e=hl(e,1/o,r)),e}function RP(e,t=0,n=1,r=.5,o,a=e,s=e){if(sn.test(t)&&(t=parseFloat(t),t=ye(s.min,s.max,t/100)-s.min),typeof t!="number")return;let i=ye(a.min,a.max,r);e===a&&(i-=t),e.min=yg(e.min,t,n,i,o),e.max=yg(e.max,t,n,i,o)}function vg(e,t,[n,r,o],a,s){RP(e,t[n],t[r],t[o],t.scale,a,s)}const DP=["x","scaleX","originX"],FP=["y","scaleY","originY"];function xg(e,t,n,r){vg(e.x,t,DP,n?n.x:void 0,r?r.x:void 0),vg(e.y,t,FP,n?n.y:void 0,r?r.y:void 0)}function wg(e){return e.translate===0&&e.scale===1}function gb(e){return wg(e.x)&&wg(e.y)}function bg(e,t){return e.min===t.min&&e.max===t.max}function LP(e,t){return bg(e.x,t.x)&&bg(e.y,t.y)}function kg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function yb(e,t){return kg(e.x,t.x)&&kg(e.y,t.y)}function Sg(e){return et(e.x)/et(e.y)}function Cg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class OP{constructor(){this.members=[]}add(t){Yh(this.members,t),t.scheduleRender()}remove(t){if(Gh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VP(e,t,n){let r="";const o=e.x.translate/t.x,a=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((o||a||s)&&(r=`translate3d(${o}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:m,rotateY:h,skewX:p,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const Gc=["","X","Y","Z"],$P={visibility:"hidden"},Tg=1e3;let _P=0;function Xc(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function vb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eb(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(o||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&vb(r)}function xb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},i=t==null?void 0:t()){this.id=_P++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WP),this.nodes.forEach(XP),this.nodes.forEach(KP),this.nodes.forEach(HP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EP)}addEventListener(s,i){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Kh),this.eventHandlers.get(s).add(i)}notifyListeners(s,...i){const l=this.eventHandlers.get(s);l&&l.notify(...i)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TP(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(c||l)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=AP(h,250),Pi.hasAnimatedSinceResize&&(Pi.hasAnimatedSinceResize=!1,this.nodes.forEach(Eg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||eN,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!yb(this.targetLayout,x),w=!h&&p;if(this.options.layoutRoot||this.resumeFrom||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,w);const k={...im(y,"layout"),onPlay:b,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||Eg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qP),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:i,layout:l}=this.options;if(i===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ig);return}this.isUpdating||this.nodes.forEach(YP),this.isUpdating=!1,this.nodes.forEach(GP),this.nodes.forEach(BP),this.nodes.forEach(zP),this.clearAllSnapshots();const i=st.now();$e.delta=kn(0,1e3/60,i-$e.timestamp),$e.timestamp=i,$e.isProcessing=!0,Vc.update.process($e),Vc.preRender.process($e),Vc.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UP),this.sharedNodes.forEach(QP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!et(this.snapshot.measuredBox.x)&&!et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:i}=this.options;i&&i.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let i=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(i=!1),i){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,i=this.projectionDelta&&!gb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(i||wr(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const i=this.measurePageBox();let l=this.removeElementScroll(i);return s&&(l=this.removeTransform(l)),tN(l),{animationId:this.root.animationId,measuredBox:i,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Te();const i=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(nN))){const{scroll:u}=this.root;u&&(go(i.x,u.offset.x),go(i.y,u.offset.y))}return i}removeElementScroll(s){var l;const i=Te();if(bt(i,s),(l=this.scroll)!=null&&l.wasRoot)return i;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&bt(i,s),go(i.x,m.offset.x),go(i.y,m.offset.y))}return i}applyTransform(s,i=!1){const l=Te();bt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&yo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wr(u.latestValues)&&yo(l,u.latestValues)}return wr(this.latestValues)&&yo(l,this.latestValues),l}removeTransform(s){const i=Te();bt(i,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wr(c.latestValues))continue;wd(c.latestValues)&&c.updateSnapshot();const u=Te(),m=c.measurePageBox();bt(u,m),xg(i,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wr(this.latestValues)&&xg(i,this.latestValues),i}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const i=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=i.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=i.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=i.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==i;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Va(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bt(this.target,this.layout.layoutBox),lb(this.target,this.targetDelta)):bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Va(this.relativeTargetOrigin,this.target,p.target),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wd(this.parent.latestValues)||ib(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const s=this.getLead(),i=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;bt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;aP(this.layoutCorrected,this.treeScale,this.path,i),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Te());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gg(this.prevProjectionDelta.x,this.projectionDelta.x),gg(this.prevProjectionDelta.y,this.projectionDelta.y)),Oa(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!Cg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var i;if((i=this.options.visualElement)==null||i.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(s,i=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},m=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!i;const h=Te(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=p!==x,b=this.getStack(),g=!b||b.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(JP));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const S=k/1e3;Ag(m.x,s.x,S),Ag(m.y,s.y,S),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Va(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZP(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&LP(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Te()),bt(w,this.relativeTarget)),y&&(this.animationValues=u,PP(u,c,this.latestValues,S,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{Pi.hasAnimatedSinceResize=!0,this.currentAnimation=CP(0,Tg,{...s,onUpdate:i=>{this.mixTargetDelta(i),s.onUpdate&&s.onUpdate(i)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:i,target:l,layout:c,latestValues:u}=s;if(!(!i||!l||!c)){if(this!==s&&this.layout&&c&&wb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Te();const m=et(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+m;const h=et(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}bt(i,l),yo(i,u),Oa(this.projectionDeltaWithTransform,this.layoutCorrected,i,u)}}registerSharedNode(s,i){this.sharedNodes.has(s)||this.sharedNodes.set(s,new OP),this.sharedNodes.get(s).add(i);const c=i.options.initialPromotionConfig;i.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(i):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var i;const{layoutId:s}=this.options;return s?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:s}=this.options;return s?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:i,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),i&&this.setOptions({transition:i})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let i=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(i=!0),!i)return;const c={};l.z&&Xc("z",s,c,this.animationValues);for(let u=0;u<Gc.length;u++)Xc(`rotate${Gc[u]}`,s,c,this.animationValues),Xc(`skew${Gc[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return $P;const i={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=ji(s==null?void 0:s.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none",i;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=ji(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!wr(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),i.transform=VP(this.projectionDeltaWithTransform,this.treeScale,u),l&&(i.transform=l(u,i.transform));const{x:m,y:h}=this.projectionDelta;i.transformOrigin=`${m.origin*100}% ${h.origin*100}% 0`,c.animationValues?i.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in is){if(u[p]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:b}=is[p],g=i.transform==="none"?u[p]:x(u[p],c);if(y){const v=y.length;for(let w=0;w<v;w++)i[y[w]]=g}else b?this.options.visualElement.renderState.vars[p]=g:i[p]=g}return this.options.layoutId&&(i.pointerEvents=c===this?ji(s==null?void 0:s.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var i;return(i=s.currentAnimation)==null?void 0:i.stop()}),this.root.nodes.forEach(Ig),this.root.sharedNodes.clear()}}}function BP(e){e.updateLayout()}function zP(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?kt(m=>{const h=s?t.measuredBox[m]:t.layoutBox[m],p=et(h);h.min=r[m].min,h.max=h.min+p}):wb(a,t.layoutBox,r)&&kt(m=>{const h=s?t.measuredBox[m]:t.layoutBox[m],p=et(r[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const i=po();Oa(i,r,t.layoutBox);const l=po();s?Oa(l,e.applyTransform(o,!0),t.measuredBox):Oa(l,r,t.layoutBox);const c=!gb(i);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const x=Te();Va(x,t.layoutBox,h.layoutBox);const y=Te();Va(y,r,p.layoutBox),yb(x,y)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:i,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UP(e){e.clearSnapshot()}function Ig(e){e.clearMeasurements()}function YP(e){e.isLayoutDirty=!1}function GP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Eg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function XP(e){e.resolveTargetDelta()}function KP(e){e.calcProjection()}function qP(e){e.resetSkewAndRotation()}function QP(e){e.removeLeadSnapshot()}function Ag(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jg(e,t,n,r){e.min=ye(t.min,n.min,r),e.max=ye(t.max,n.max,r)}function ZP(e,t,n,r){jg(e.x,t.x,n.x,r),jg(e.y,t.y,n.y,r)}function JP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eN={duration:.45,ease:[.4,0,.1,1]},Pg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ng=Pg("applewebkit/")&&!Pg("chrome/")?Math.round:At;function Mg(e){e.min=Ng(e.min),e.max=Ng(e.max)}function tN(e){Mg(e.x),Mg(e.y)}function wb(e,t,n){return e==="position"||e==="preserve-aspect"&&!rP(Sg(t),Sg(n),.2)}function nN(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rN=xb({attachResizeListener:(e,t)=>cs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kc={current:void 0},bb=xb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kc.current){const e=new rN({});e.mount(window),e.setOptions({layoutScroll:!0}),Kc.current=e}return Kc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oN={pan:{Feature:wP},drag:{Feature:xP,ProjectionNode:bb,MeasureLayout:mb}};function Rg(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=r[o];a&&xe.postRender(()=>a(t,Ts(t)))}class aN extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=FA(t,(n,r)=>(Rg(this.node,r,"Start"),o=>Rg(this.node,o,"End"))))}unmount(){}}class sN extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ks(cs(this.node.current,"focus",()=>this.onFocus()),cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dg(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=r[o];a&&xe.postRender(()=>a(t,Ts(t)))}class iN extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=$A(t,(n,r)=>(Dg(this.node,r,"Start"),(o,{success:a})=>Dg(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sd=new WeakMap,qc=new WeakMap,lN=e=>{const t=Sd.get(e.target);t&&t(e)},cN=e=>{e.forEach(lN)};function uN({root:e,...t}){const n=e||document;qc.has(n)||qc.set(n,{});const r=qc.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(cN,{root:e,...t})),r[o]}function dN(e,t,n){const r=uN(t);return Sd.set(e,n),r.observe(e),()=>{Sd.delete(e),r.unobserve(e)}}const hN={some:0,all:1};class mN extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:hN[o]},i=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=c?u:m;h&&h(l)};return dN(this.node.current,s,i)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fN(t,n))&&this.startObserver()}unmount(){}}function fN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pN={inView:{Feature:mN},tap:{Feature:iN},focus:{Feature:sN},hover:{Feature:aN}},gN={layout:{ProjectionNode:bb,MeasureLayout:mb}},Cd={current:null},kb={current:!1};function yN(){if(kb.current=!0,!!Hh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cd.current=e.matches;e.addListener(t),t()}else Cd.current=!1}const vN=new WeakMap;function xN(e,t,n){for(const r in t){const o=t[r],a=n[r];if(Xe(o))e.addValue(r,o);else if(Xe(a))e.addValue(r,as(o,{owner:e}));else if(a!==o)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(o):s.hasAnimated||s.set(o)}else{const s=e.getStaticValue(r);e.addValue(r,as(s!==void 0?s:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Fg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wN{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=st.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=i,this.blockInitialAnimation=!!a,this.isControllingVariants=Bl(n),this.isVariantNode=Ww(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in m){const p=m[h];l[h]!==void 0&&Xe(p)&&p.set(l[h],!1)}}mount(t){this.current=t,vN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kb.current||yN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sr(this.notifyUpdate),sr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ta.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uo){const n=Uo[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Fg.length;r++){const o=Fg[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,s=t[a];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=xN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=as(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Jx(r)||ew(r))?r=parseFloat(r):!WA(r)&&ir.test(n)&&(r=Lw(t,n)),this.setBaseTarget(t,Xe(r)?r.get():r)),Xe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=ym(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Xe(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Kh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Sb extends wN{constructor(){super(...arguments),this.KeyframeResolver=MA}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cb(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}function bN(e){return window.getComputedStyle(e)}class kN extends Sb{constructor(){super(...arguments),this.type="html",this.renderInstance=Cb}readValueFromInstance(t,n){if(ta.has(n))return QE(t,n);{const r=bN(t),o=(Zh(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return cb(t,n)}build(t,n,r){fm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return vm(t,n,r)}}const Tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SN(e,t,n,r){Cb(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Tb.has(o)?o:mm(o),t.attrs[o])}class CN extends Sb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Te}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ta.has(n)){const r=Fw(n);return r&&r.default||0}return n=Tb.has(n)?n:mm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Jw(t,n,r)}build(t,n,r){Kw(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){SN(t,n,r,o)}mount(t){this.isSVGTag=Qw(t.tagName),super.mount(t)}}const TN=(e,t)=>gm(e)?new CN(t):new kN(t,{allowProjection:e!==f.Fragment}),IN=Sj({...Kj,...pN,...oN,...gN},TN),oe=XA(IN);function EN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ib(...e){return t=>e.forEach(n=>EN(n,t))}function Ce(...e){return f.useCallback(Ib(...e),e)}var Yo=f.forwardRef((e,t)=>{const{children:n,...r}=e,o=f.Children.toArray(n),a=o.find(AN);if(a){const s=a.props.children,i=o.map(l=>l===a?f.Children.count(s)>1?f.Children.only(null):f.isValidElement(s)?s.props.children:null:l);return d.jsx(Td,{...r,ref:t,children:f.isValidElement(s)?f.cloneElement(s,void 0,i):null})}return d.jsx(Td,{...r,ref:t,children:n})});Yo.displayName="Slot";var Td=f.forwardRef((e,t)=>{const{children:n,...r}=e;if(f.isValidElement(n)){const o=PN(n);return f.cloneElement(n,{...jN(r,n.props),ref:t?Ib(t,o):o})}return f.Children.count(n)>1?f.Children.only(null):null});Td.displayName="SlotClone";var Eb=({children:e})=>d.jsx(d.Fragment,{children:e});function AN(e){return f.isValidElement(e)&&e.type===Eb}function jN(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...i)=>{a(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function PN(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ab(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ab(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ab(e))&&(r&&(r+=" "),r+=t);return r}const Lg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Og=jb,Pb=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Og(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,s=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],m=a==null?void 0:a[c];if(u===null)return null;const h=Lg(u)||Lg(m);return o[c][h]}),i=n&&Object.entries(n).reduce((c,u)=>{let[m,h]=u;return h===void 0||(c[m]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...a,...i}[y]):{...a,...i}[y]===b})?[...c,m,h]:c},[]);return Og(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},wm="-",NN=e=>{const t=RN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(wm);return i[0]===""&&i.length!==1&&i.shift(),Nb(i,t)||MN(s)},getConflictingClassGroupIds:(s,i)=>{const l=n[s]||[];return i&&r[s]?[...l,...r[s]]:l}}},Nb=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Nb(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(wm);return(s=t.validators.find(({validator:i})=>i(a)))==null?void 0:s.classGroupId},Vg=/^\[(.+)\]$/,MN=e=>{if(Vg.test(e)){const t=Vg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},RN=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return FN(Object.entries(e.classGroups),n).forEach(([a,s])=>{Id(s,r,a,t)}),r},Id=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:$g(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(DN(o)){Id(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,s])=>{Id(s,$g(t,a),n,r)})})},$g=(e,t)=>{let n=e;return t.split(wm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DN=e=>e.isThemeGetter,FN=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,i])=>[t+s,i])):a);return[n,o]}):e,LN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,s)=>{n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return o(a,s),s},set(a,s){n.has(a)?n.set(a,s):o(a,s)}}},Mb="!",ON=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,s=i=>{const l=[];let c=0,u=0,m;for(let b=0;b<i.length;b++){let g=i[b];if(c===0){if(g===o&&(r||i.slice(b,b+a)===t)){l.push(i.slice(u,b)),u=b+a;continue}if(g==="/"){m=b;continue}}g==="["?c++:g==="]"&&c--}const h=l.length===0?i:i.substring(u),p=h.startsWith(Mb),x=p?h.substring(1):h,y=m&&m>u?m-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}};return n?i=>n({className:i,parseClassName:s}):s},VN=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},$N=e=>({cache:LN(e.cacheSize),parseClassName:ON(e),...NN(e)}),_N=/\s+/,BN=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],s=e.trim().split(_N);let i="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let x=!!p,y=r(x?h.substring(0,p):h);if(!y){if(!x){i=c+(i.length>0?" "+i:i);continue}if(y=r(h),!y){i=c+(i.length>0?" "+i:i);continue}x=!1}const b=VN(u).join(":"),g=m?b+Mb:b,v=g+y;if(a.includes(v))continue;a.push(v);const w=o(y,x);for(let k=0;k<w.length;++k){const S=w[k];a.push(g+S)}i=c+(i.length>0?" "+i:i)}return i};function zN(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Rb(t))&&(r&&(r+=" "),r+=n);return r}const Rb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Rb(e[r]))&&(n&&(n+=" "),n+=t);return n};function WN(e,...t){let n,r,o,a=s;function s(l){const c=t.reduce((u,m)=>m(u),e());return n=$N(c),r=n.cache.get,o=n.cache.set,a=i,i(l)}function i(l){const c=r(l);if(c)return c;const u=BN(l,n);return o(l,u),u}return function(){return a(zN.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Db=/^\[(?:([a-z-]+):)?(.+)\]$/i,HN=/^\d+\/\d+$/,UN=new Set(["px","full","screen"]),YN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>Co(e)||UN.has(e)||HN.test(e),Dn=e=>na(e,"length",oM),Co=e=>!!e&&!Number.isNaN(Number(e)),Qc=e=>na(e,"number",Co),ga=e=>!!e&&Number.isInteger(Number(e)),QN=e=>e.endsWith("%")&&Co(e.slice(0,-1)),G=e=>Db.test(e),Fn=e=>YN.test(e),ZN=new Set(["length","size","percentage"]),JN=e=>na(e,ZN,Fb),eM=e=>na(e,"position",Fb),tM=new Set(["image","url"]),nM=e=>na(e,tM,sM),rM=e=>na(e,"",aM),ya=()=>!0,na=(e,t,n)=>{const r=Db.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},oM=e=>GN.test(e)&&!XN.test(e),Fb=()=>!1,aM=e=>KN.test(e),sM=e=>qN.test(e),iM=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),o=de("borderColor"),a=de("borderRadius"),s=de("borderSpacing"),i=de("borderWidth"),l=de("contrast"),c=de("grayscale"),u=de("hueRotate"),m=de("invert"),h=de("gap"),p=de("gradientColorStops"),x=de("gradientColorStopPositions"),y=de("inset"),b=de("margin"),g=de("opacity"),v=de("padding"),w=de("saturate"),k=de("scale"),S=de("sepia"),C=de("skew"),T=de("space"),I=de("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",G,t],F=()=>[G,t],z=()=>["",dn,Dn],O=()=>["auto",Co,G],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",G],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Co,G];return{cacheSize:500,separator:":",theme:{colors:[ya],spacing:[dn,Dn],blur:["none","",Fn,G],brightness:$(),borderColor:[e],borderRadius:["none","","full",Fn,G],borderSpacing:F(),borderWidth:z(),contrast:$(),grayscale:M(),hueRotate:$(),invert:M(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[QN,Dn],inset:L(),margin:L(),opacity:$(),padding:F(),saturate:$(),scale:$(),sepia:M(),skew:$(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[Fn]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),G]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ga,G]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",ga,G]}],"grid-cols":[{"grid-cols":[ya]}],"col-start-end":[{col:["auto",{span:["full",ga,G]},G]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ya]}],"row-start-end":[{row:["auto",{span:[ga,G]},G]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,t]}],"min-w":[{"min-w":[G,t,"min","max","fit"]}],"max-w":[{"max-w":[G,t,"none","full","min","max","fit","prose",{screen:[Fn]},Fn]}],h:[{h:[G,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fn,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qc]}],"font-family":[{font:[ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",Co,Qc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Dn]}],"underline-offset":[{"underline-offset":["auto",dn,G]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),eM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[dn,G]}],"outline-w":[{outline:[dn,Dn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[dn,Dn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fn,rM]}],"shadow-color":[{shadow:[ya]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fn,G]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ga,G]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,Dn,Qc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lM=WN(iM);function ce(...e){return lM(jb(e))}const cM=Pb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const s=r?Yo:"button";return d.jsx(s,{className:ce(cM({variant:t,size:n,className:e})),ref:a,...o})});te.displayName="Button";const uM={spring:{border:"#8ED48E",text:"#4CAF50",bg:"from-green-50 to-blue-50"},summer:{border:"#FFD54F",text:"#FF9800",bg:"from-yellow-50 to-orange-50"},autumn:{border:"#FF8A65",text:"#E64A19",bg:"from-orange-50 to-red-50"},winter:{border:"#90CAF9",text:"#2196F3",bg:"from-blue-50 to-indigo-50"}},dM={spring:"/assets/backgrounds/spring-transition.jpg",summer:"/assets/backgrounds/summer-transition.jpg",autumn:"/assets/backgrounds/autumn-transition.jpg",winter:"/assets/backgrounds/winter-transition.jpg"},oi=({season:e,nextSceneId:t})=>{const{handleSceneTransition:n}=qe(),r=uM[e],o=dM[e],a=f.useCallback(()=>{n(t)},[n,t]);return d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/80 z-50",children:d.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1},className:`relative w-[90%] max-w-4xl aspect-video rounded-lg bg-gradient-to-br ${r.bg} p-1 overflow-hidden`,style:{boxShadow:`0 0 30px ${r.border}80`,border:`4px solid ${r.border}`},children:[d.jsx("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:d.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${o})`,opacity:.2}})}),d.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center p-8 text-center",children:[d.jsx(oe.h1,{className:"text-6xl md:text-8xl font-bold mb-8",style:{color:r.text},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.7},children:e.charAt(0).toUpperCase()+e.slice(1)}),d.jsxs(oe.p,{className:"text-lg md:text-xl text-gray-700 max-w-2xl mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.7},children:[e==="spring"&&"As winter fades away, Stonewich welcomes the Spring Blooms & Brooms Festival, where the city is renewed through community beautification efforts.",e==="summer"&&"The heat brings the Summer Songs & Sips Festival, a time for music, refreshment, and social connection throughout Stonewich.",e==="autumn"&&"Leaves turn as Stonewich celebrates the Autumn Handicrafts & Heritage Festival, honoring traditional craftsmanship and community spirit.",e==="winter"&&"Snow covers the city during the Winter Gala & Games, where Stonewich enjoys friendly competition and elegant celebration."]}),d.jsx(oe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.3,duration:.7},children:d.jsxs(te,{onClick:a,className:"text-white px-6 py-2 rounded-full",style:{backgroundColor:r.text},children:["Begin ",e.charAt(0).toUpperCase()+e.slice(1)]})})]})]})})},hM=()=>{const{gameState:e,startMinigame:t,checkSeasonProgress:n,handleSceneTransition:r}=qe(),o=f.useRef(null),a=f.useRef(null),s=f.useRef(null);return f.useEffect(()=>{var u;const l=e.currentScene;console.log(`GameSceneObserver: Current scene is ${l}`);const c=Re[l];if(l==="summer-conclusion-debrief"&&e.dialogueIndex>=(((u=c==null?void 0:c.dialogue)==null?void 0:u.length)||0)-1&&s.current===l){console.log("Summer conclusion dialogue complete, forcing transition to autumn");const h=setTimeout(()=>{r("season-transition-autumn")},100);return()=>clearTimeout(h)}if(s.current=l,c!=null&&c.minigame){const m=c.minigame;if(console.log(`GameSceneObserver: Detected minigame from scene property: ${m}`),o.current===l){console.log(`GameSceneObserver: Skipping duplicate minigame trigger for ${m}`);return}o.current=l,e.currentScene!==m&&Q.info(`Starting minigame: ${m}`),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{try{console.log(`GameSceneObserver: Starting minigame ${m}`),t(m)}catch(h){console.error("Error starting minigame:",h),Q.error(`Failed to start minigame: ${h}`)}a.current=null},500)}else{const m={"spring-brooms-away-start":"broomsAway","spring-mud-fling-start":"mudFling","spring-bloom-view-start":"bloomWithAView","summer-serenade-start":"serenade","summer-spoken-word-start":"spokenWord","summer-whats-on-tap-start":"whatsOnTap","autumn-tour-guide-start":"tourGuide","autumn-crafter-start":"crafter","autumn-memories-date-start":"memoriesDate","winter-charity-auction-start":"charityAuction","winter-gala-dance-start":"galaDance","winter-looking-signs-start":"lookingSigns",broomsAway:"broomsAway",mudFling:"mudFling",bloomWithAView:"bloomWithAView",serenade:"serenade",spokenWord:"spokenWord",whatsOnTap:"whatsOnTap",tourGuide:"tourGuide",crafter:"crafter",memoriesDate:"memoriesDate",charityAuction:"charityAuction",galaDance:"galaDance",lookingSigns:"lookingSigns"};if(l in m){const h=m[l];if(console.log(`GameSceneObserver: Detected minigame trigger scene for ${h}`),o.current===l){console.log(`GameSceneObserver: Skipping duplicate minigame trigger for ${h}`);return}o.current=l,e.currentScene!==h&&Q.info(`Starting minigame: ${h}`),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{try{console.log(`GameSceneObserver: Starting minigame ${h}`),t(h)}catch(p){console.error("Error starting minigame:",p),Q.error(`Failed to start minigame: ${p}`)}a.current=null},500)}else o.current=null}return n(l),()=>{a.current&&(clearTimeout(a.current),a.current=null)}},[e.currentScene,e.dialogueIndex,t,n,r]),e.currentScene==="season-transition-spring"?d.jsx(oi,{season:"spring",nextSceneId:"spring-intro"}):e.currentScene==="season-transition-summer"?d.jsx(oi,{season:"summer",nextSceneId:"summer-intro"}):e.currentScene==="season-transition-autumn"?d.jsx(oi,{season:"autumn",nextSceneId:"autumn-intro"}):e.currentScene==="season-transition-winter"?d.jsx(oi,{season:"winter",nextSceneId:"winter-intro"}):null},_g={currentScene:"start",dialogueIndex:0,characters:zx,sceneHistory:[],showChoices:!1,hasCompletedGame:!1,completedRoutes:{xavier:!1,navarre:!1,etta:!1,senara:!1},currentSeason:"prologue",viableRoutes:["xavier","navarre","etta","senara"],currentLoveInterest:void 0,versaRouteUnlocked:!1,sceneStateBackup:null},Lb=f.createContext(null),Ob=({children:e})=>{const[t,n]=f.useState(_g),{currentSceneId:r,transitionToScene:o,currentScene:a,isTransitioning:s,transitionDuration:i}=Gx({initialScene:_g.currentScene});f.useEffect(()=>{r!==t.currentScene&&(console.log(`Updating game state currentScene from ${t.currentScene} to ${r}`),n(P=>({...P,currentScene:r,dialogueIndex:0,showChoices:!1})))},[r,t.currentScene]);const{handleSceneTransition:l,handleNewGame:c,handleAbout:u}=$I(t,n,o),{handleDialogueClick:m,handleChoiceClick:h,replayCurrentScene:p}=UI(t,n,l),{activeMinigame:x,startMinigame:y,completeMinigame:b,exitMinigame:g}=bI(t,n,o),{handleSeasonTransition:v,completeCharacterRoute:w,completeVersaRoute:k,handleGameReset:S,checkSeasonProgress:C}=RI(t,n,o),T=()=>{S("new")},{routeToEpilogue:I}=Kx(t,n),A={gameState:t,setGameState:n,handleSceneTransition:l,handleNewGame:c,handleAbout:u,handleSeasonTransition:v,completeCharacterRoute:w,completeVersaRoute:k,handleGameReset:T,checkSeasonProgress:C,activeMinigame:x,startMinigame:y,completeMinigame:b,exitMinigame:g,routeToEpilogue:I,handleDialogueClick:m,handleChoiceClick:h,replayCurrentScene:p,isTransitioning:s,transitionDuration:i};return d.jsxs(Lb.Provider,{value:A,children:[e,d.jsx(hM,{})]})},qe=()=>{const e=f.useContext(Lb);if(!e)throw new Error("useGame must be used within a GameProvider");return e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:s,...i},l)=>f.createElement("svg",{ref:l,...fM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vb("lucide",o),...i},[...s.map(([c,u])=>f.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const n=f.forwardRef(({className:r,...o},a)=>f.createElement(pM,{ref:a,iconNode:t,className:Vb(`lucide-${mM(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Ne("Sticker",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ne("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Ne("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Ne("Volume",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function PM(e){return e||(console.warn("Empty or undefined asset path provided"),"")}let Bb=null;async function NM(){try{const e=`
      <svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
        <rect width="200" height="200" fill="#303050" />
        <text x="50%" y="50%" font-family="sans-serif" font-size="24" fill="#9b87f5" text-anchor="middle" dominant-baseline="middle">
          Image
        </text>
      </svg>
    `,t=new Blob([e],{type:"image/svg+xml"}),n=URL.createObjectURL(t),r=new Image;return await new Promise(o=>{r.onload=o,r.src=n}),Bb=r,r}catch(e){return console.error("Could not create placeholder image",e),null}}function MM(){return Bb}function RM(e){try{const t=document.createElement("canvas");t.width=100,t.height=100;const n=t.getContext("2d");if(n){n.fillStyle="#303050",n.fillRect(0,0,100,100),n.fillStyle="#9b87f5",n.font="14px sans-serif",n.textAlign="center",n.fillText("Image",50,50);const r=new Image;return r.src=t.toDataURL(),r}}catch(t){console.error("Failed to create fallback image",t)}return new Image}const br=class br{constructor(){Oe(this,"cache");Oe(this,"loadQueue");Oe(this,"loading");Oe(this,"completionCallbacks");this.cache={images:new Map,loaded:new Set,failed:new Set},this.loadQueue=[],this.loading=!1,this.completionCallbacks=[],NM()}static getInstance(){return br.instance||(br.instance=new br),br.instance}preloadAssets(t,n){return new Promise(r=>{const o=t.filter(c=>c);if(o.length===0){r();return}const a=o.length;let s=0;const i=o.filter(c=>!this.cache.loaded.has(c)&&!this.cache.failed.has(c)&&!this.loadQueue.includes(c));if(i.length===0){r();return}this.loadQueue.push(...i);const l=(c,u)=>{const m=Math.min(c+u,this.loadQueue.length),h=this.loadQueue.slice(c,m);Promise.all(h.map(p=>this.loadSingleAsset(p))).then(()=>{s+=h.length,n&&n(s,a),c+u<this.loadQueue.length?l(m,u):(this.loadQueue=this.loadQueue.filter(p=>!this.cache.loaded.has(p)&&!this.cache.failed.has(p)),r())})};l(0,5)})}loadSingleAsset(t){return new Promise(n=>{if(this.cache.loaded.has(t)){n(this.cache.images.get(t));return}if(!t){console.warn("Invalid image path: empty or undefined"),this.cache.failed.add(t),this.useFallbackImage(t,n);return}const r=PM(t),o=new Image;o.onload=()=>{this.cache.images.set(t,o),this.cache.loaded.add(t),console.log(`Successfully loaded image: ${t}`),n(o)},o.onerror=a=>{console.error(`Failed to load image: ${r}`,a),this.cache.failed.add(t),this.useFallbackImage(t,n)},o.crossOrigin="anonymous",o.src=r,setTimeout(()=>{!this.cache.loaded.has(t)&&!this.cache.failed.has(t)&&(console.warn(`Image load timeout for: ${r}`),this.cache.failed.add(t),this.useFallbackImage(t,n))},15e3)})}useFallbackImage(t,n){try{const r=MM();if(r)console.info(`Using placeholder for: ${t}`),this.cache.images.set(t,r),n(r);else{const o=RM(t);this.cache.images.set(t,o),n(o)}}catch(r){console.error("Error creating fallback image:",r);const o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",this.cache.images.set(t,o),n(o)}}getAsset(t){return this.cache.images.get(t)}hasAsset(t){return this.cache.loaded.has(t)}didAssetFail(t){return this.cache.failed.has(t)}getStats(){return{loaded:this.cache.loaded.size,failed:this.cache.failed.size,total:this.cache.loaded.size+this.cache.failed.size}}exposeToWindow(){typeof window<"u"&&(window.gameImageCache=this.cache.images,window.assetManager=this)}clearFailedAssets(){this.cache.failed.clear(),console.log("Cleared failed asset cache to allow retrying")}};Oe(br,"instance");let jd=br;const De=jd.getInstance(),zb=()=>typeof window>"u"?{get:()=>{},has:()=>!1}:{get:e=>De.getAsset(e),has:e=>De.hasAsset(e),set:(e,t)=>{console.log(`Cache set called for ${e}`)}},Dr={"wall-tiles":{id:"wall-tiles",name:"Wall Tiles",image:"/assets/backgrounds/wall-tiles.jpg",description:"Decorative wall tiles with geometric patterns and a subtle steampunk influence.",gradient:"linear-gradient(to bottom, rgba(26, 31, 44, 0.2), rgba(42, 30, 78, 0.3))",required:!0,priority:!0},"cybaton-office":{id:"cybaton-office",name:"Cybaton Office",image:"/assets/backgrounds/cybaton-office.jpg",description:"Modern tech infrastructure with retro-futuristic brass accents and amphitheater style seating.",gradient:"linear-gradient(to bottom, rgba(26, 31, 44, 0.1), rgba(42, 30, 78, 0.2))",required:!0,priority:!0},"cybaton-meeting-room":{id:"cybaton-meeting-room",name:"Cybaton Meeting Room",image:"/assets/backgrounds/cybaton-meeting-room.jpg",description:"Formal setting with a large wooden table inlaid with tech interfaces and wall displays showing city metrics.",gradient:"linear-gradient(to bottom, rgba(28, 32, 53, 0.1), rgba(44, 32, 69, 0.2))"},"cybaton-library":{id:"cybaton-library",name:"Cybaton Library",image:"/assets/backgrounds/cybaton-library.jpg",description:"Physical books and scrolls alongside digital archives with wooden shelving and brass accents.",gradient:"linear-gradient(to bottom, rgba(30, 33, 48, 0.1), rgba(48, 34, 90, 0.2))"},"cybaton-lab":{id:"cybaton-lab",name:"Cybaton Lab",image:"/assets/backgrounds/cybaton-lab.jpg",description:"High-tech equipment with visible mechanical components and glass and brass containment units.",gradient:"linear-gradient(to bottom, rgba(26, 37, 64, 0.1), rgba(42, 32, 96, 0.2))"},"cybaton-lobby":{id:"cybaton-lobby",name:"Cybaton Lobby",image:"/assets/backgrounds/cybaton-lobby.jpg",description:"Grand entrance with a mix of modern architecture and traditional craftsmanship.",gradient:"linear-gradient(to bottom, rgba(31, 34, 53, 0.1), rgba(47, 34, 69, 0.2))",priority:!0},"cybaton-shuttle":{id:"cybaton-shuttle",name:"Shuttle Interior",image:"/assets/backgrounds/cybaton-shuttle.jpg",description:"Comfortable interior of a low-flying commuter shuttle with inward-facing cushioned seats, steampunk details, and soft cyberpunk lighting designed for mid-journey conversation.",gradient:"linear-gradient(to bottom, rgba(50, 60, 110, 0.2), rgba(30, 40, 80, 0.35))"},"city-cafe":{id:"city-cafe",name:"City Cafe",image:"/assets/backgrounds/city-cafe.jpg",description:"Cozy interior with wooden furniture and subtle tech integration alongside traditional cooking methods.",gradient:"linear-gradient(to bottom, rgba(37, 37, 37, 0.1), rgba(53, 41, 69, 0.2))"},"stonewich-shuttle":{id:"stonewich-shuttle",name:"Stonewich Shuttle Arrival",image:"/assets/backgrounds/stonewich-shuttle.jpg",description:"View of Stonewich from a low-flying commuter shuttle as it descends into the city, capturing skyways and layered rooftops below.",gradient:"linear-gradient(to bottom, rgba(90, 120, 140, 0.15), rgba(60, 70, 100, 0.35))"},"stonewich-cityscape":{id:"stonewich-cityscape",name:"Stonewich Cityscape",image:"/assets/backgrounds/stonewich-cityscape.jpg",description:"Mixture of futuristic buildings and preserved historical architecture with modern transportation systems.",gradient:"linear-gradient(to bottom, rgba(60, 80, 130, 0.15), rgba(100, 120, 160, 0.3))",priority:!0},"stonewich-office":{id:"stonewich-office",name:"Stonewich Office",image:"/assets/backgrounds/stonewich-office.jpg",description:"The team's primary workspace in Stonewich with a blend of modern amenities and local architectural elements.",gradient:"linear-gradient(to bottom, rgba(35, 38, 56, 0.1), rgba(62, 48, 84, 0.2))"},"stonewich-workstation":{id:"stonewich-workstation",name:"Stonewich Workstation",image:"/assets/backgrounds/stonewich-workstation.jpg",description:"A quieter corner of the Stonewich office, perfect for one-on-one discussions and focused work sessions.",gradient:"linear-gradient(to bottom, rgba(32, 36, 52, 0.1), rgba(58, 42, 78, 0.2))"},"spring-cityoverlook":{id:"spring-cityoverlook",name:"Spring Cityoverlook",image:"/assets/backgrounds/spring-cityoverlook.jpg",description:"A great spot to see the city in different seasons.",gradient:"linear-gradient(to bottom, rgba(32, 36, 52, 0.1), rgba(58, 42, 78, 0.2))"},"summer-cityoverlook":{id:"summer-cityoverlook",name:"Summer Cityoverlook",image:"/assets/backgrounds/summer-cityoverlook.jpg",description:"A great spot to see the city in different seasons.",gradient:"linear-gradient(to bottom, rgba(32, 36, 52, 0.1), rgba(58, 42, 78, 0.2))"},"autumn-cityoverlook":{id:"autumn-cityoverlook",name:"Autumn Cityoverlook",image:"/assets/backgrounds/autumn-cityoverlook.jpg",description:"A great spot to see the city in different seasons.",gradient:"linear-gradient(to bottom, rgba(32, 36, 52, 0.1), rgba(58, 42, 78, 0.2))"},"winter-cityoverlook":{id:"winter-cityoverlook",name:"winter Cityoverlook",image:"/assets/backgrounds/winter-cityoverlook.jpg",description:"A great spot to see the city in different seasons.",gradient:"linear-gradient(to bottom, rgba(32, 36, 52, 0.1), rgba(58, 42, 78, 0.2))"},"spring-transition":{id:"spring-transition",name:"Spring Transition",description:"Colorful spring flowers and foliage representing new beginnings",image:"/assets/backgrounds/spring-transition.jpg",gradient:"linear-gradient(to bottom, rgba(76, 175, 80, 0.2), rgba(27, 94, 32, 0.4))"},"summer-transition":{id:"summer-transition",name:"Summer Transition",description:"Warm summer landscape with vibrant yellow and orange tones",image:"/assets/backgrounds/summer-transition.jpg",gradient:"linear-gradient(to bottom, rgba(255, 152, 0, 0.2), rgba(230, 81, 0, 0.4))"},"autumn-transition":{id:"autumn-transition",name:"Autumn Transition",description:"Fall foliage with rich red and orange tones",image:"/assets/backgrounds/autumn-transition.jpg",gradient:"linear-gradient(to bottom, rgba(230, 74, 25, 0.2), rgba(191, 54, 12, 0.4))"},"winter-transition":{id:"winter-transition",name:"Winter Transition",description:"Snow-covered landscape with cool blue tones",image:"/assets/backgrounds/winter-transition.jpg",gradient:"linear-gradient(to bottom, rgba(33, 150, 243, 0.2), rgba(13, 71, 161, 0.4))"},"happy-ending-epilogue":{id:"happy-ending-epilogue",name:"Happy Ending Epilogue",image:"/assets/backgrounds/happy-ending-epilogue.jpg",description:"A serene, hopeful scene perfect for epilogue moments and happy endings.",gradient:"linear-gradient(to bottom, rgba(26, 31, 44, 0.1), rgba(42, 30, 78, 0.2))"}},bm=({src:e,backgroundId:t,alt:n="Background scene",className:r="",transitionDuration:o=500,priority:a=!0})=>{const[s,i]=f.useState(!1),[l,c]=f.useState(""),[u,m]=f.useState(null),[h,p]=f.useState(!1),x=f.useRef(!1),y=zb(),b=f.useRef(null),g=f.useRef(0);return f.useEffect(()=>{(t||e)&&(x.current=!1,i(!1),p(!1),g.current=0)},[t,e]),f.useEffect(()=>{try{if(t&&Dr&&Dr[t]){const v=Dr[t].image;if(console.log(`Setting background from backgroundId ${t}: ${v}`),v)c(v);else throw new Error(`Image path is empty for backgroundId: ${t}`)}else e?(console.log(`Setting background from direct src: ${e}`),c(e)):(console.log("No background source provided, using default"),c("/assets/backgrounds/stonewich-cityscape.jpg"))}catch(v){console.error("Error setting background source:",v),c("/assets/backgrounds/stonewich-cityscape.jpg"),p(!0)}},[t,e]),f.useEffect(()=>{if(!l){console.error("No background source available");return}if(x.current)return;if(x.current=!0,y.has(l)){if(console.log(`Background image ${l} found in cache`),i(!0),b.current){const w=b.current;w.style.opacity="1",w.style.visibility="visible";const k=w.parentElement;k&&(k.style.display="none",k.offsetHeight,k.style.display="")}}else{console.log(`Loading background image: ${l}`),i(!1);const w=new Image;w.onload=()=>{console.log(`Image onLoad fired for ${l}`),i(!0),p(!1)},w.onerror=k=>{console.error(`Error loading background image: ${l}`,k),g.current<2?(g.current+=1,x.current=!1,setTimeout(()=>{x.current=!1},300)):(l!=="/assets/backgrounds/stonewich-cityscape.jpg"&&c("/assets/backgrounds/stonewich-cityscape.jpg"),p(!0),i(!0))},w.crossOrigin="anonymous",w.src=l}},[l,y]),f.useEffect(()=>{l&&l!==u&&(m(l),x.current=!1)},[l,u]),f.useEffect(()=>{if(t)return console.log(`BackgroundScene mounted: ${t}`),()=>{console.log(`BackgroundScene unmounted: ${t}`)}},[t]),l?d.jsxs("div",{className:"absolute inset-0 overflow-hidden bg-gray-900 z-10",children:[d.jsx("img",{ref:b,src:l,alt:n,className:`absolute inset-0 w-full h-full object-cover z-20 ${r} ${s?"opacity-100":"opacity-0"} transition-opacity`,style:{transitionDuration:`${o}ms`,zIndex:20},onLoad:()=>{console.log(`Image onLoad fired for ${l}`),i(!0)},onError:()=>{console.error(`Error on image element: ${l}`),l!=="/assets/backgrounds/stonewich-cityscape.jpg"&&c("/assets/backgrounds/stonewich-cityscape.jpg")}}),!s&&d.jsx("div",{className:"absolute inset-0 z-10 bg-gray-800 flex items-center justify-center text-white",children:d.jsx("p",{children:"Loading background..."})}),h&&d.jsx("div",{className:"absolute inset-0 z-15 bg-gray-800 bg-opacity-70 flex items-center justify-center text-white",children:d.jsx("p",{children:"Failed to load background"})})]}):(console.error("No background source available"),d.jsx("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center text-white z-20",children:d.jsx("p",{children:"No background available"})}))},DM=({backgroundId:e,onBackgroundClick:t})=>{const{isTransitioning:n,transitionDuration:r}=qe(),[o,a]=f.useState(e),[s,i]=f.useState(!0);f.useRef(!1);const l=f.useRef(!0);return f.useEffect(()=>{!n&&e&&(a(e),console.log(`GameBackgroundScene updating backgroundId to: ${e}`))},[e,n]),f.useEffect(()=>{e&&BI(e)},[e]),f.useEffect(()=>{i(!1);const c=setTimeout(()=>{l.current&&i(!0)},50);return()=>clearTimeout(c)},[e]),f.useEffect(()=>(console.log(`GameBackgroundScene mounted with backgroundId: ${e}`),()=>{console.log(`GameBackgroundScene unmounted with backgroundId: ${e}`),l.current=!1}),[e]),e?d.jsx(Vl,{mode:"wait",children:d.jsx(oe.div,{className:"absolute inset-0 bg-gray-900",onClick:t,"data-testid":"game-background",initial:{opacity:n?0:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:r/2e3},style:{zIndex:20},children:d.jsx(bm,{backgroundId:e,priority:!0,className:s?"opacity-100":"opacity-0"})},e)}):d.jsx("div",{className:"absolute inset-0 z-20 bg-gray-900 flex items-center justify-center text-white",children:d.jsx("p",{children:"No background specified"})})},FM=D.memo(DM),LM=()=>({processGlossaryTerms:f.useCallback(t=>t,[])}),OM=e=>({maven:"Maven",xavier:"Xavier",navarre:"Navarre",etta:"Etta",senara:"Senara",narrator:"Narrator"})[e]||e,VM=({dialogueLine:e,onAdvance:t,isActive:n})=>{const[r,o]=f.useState(""),[a,s]=f.useState(!1),i=f.useRef(null),{processGlossaryTerms:l}=LM(),c=e!=null&&e.character?OM(e.character):"",u=e==null?void 0:e.character;f.useEffect(()=>{if(e){const p=e.text||"";o(p),s(!0)}},[e]);const m=()=>{n&&a&&t()},h=l?l(r):r;return f.useEffect(()=>{var p;e&&console.log(`DialogueBox rendering: ${(p=e.text)==null?void 0:p.substring(0,30)}..., active: ${n}`)},[e,n]),!e||!n?null:d.jsxs("div",{ref:i,className:"dialog-box p-4 rounded-lg w-full max-w-4xl mx-auto relative bg-gray-800 bg-opacity-90",onClick:m,style:{cursor:n?"pointer":"default"},children:[c&&d.jsx("div",{className:"mb-3 pl-4",children:d.jsx("div",{className:"text-lg font-semibold text-white text-glow-sm",style:{color:u?`var(--character-${u}-color, white)`:"white"},children:c})}),d.jsx("div",{className:"text-white text-base leading-relaxed px-4",dangerouslySetInnerHTML:{__html:h}}),a&&d.jsx("div",{className:"absolute bottom-2 right-4 animate-bounce text-white text-sm",children:"▼"})]})},$M=({choices:e,onChoiceSelected:t,isActive:n})=>!n||!e||e.length===0?null:d.jsx(oe.div,{className:"fixed inset-x-0 bottom-8 mx-auto max-w-4xl z-30 px-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.3},children:d.jsxs("div",{className:"bg-[#1A1F2C]/90 border border-[#9b87f5]/30 backdrop-blur-md shadow-lg rounded-lg p-6",children:[d.jsx("div",{className:"font-medium text-xl text-[#9b87f5] mb-4 text-center text-glow-sm",children:"What will you do?"}),d.jsx("div",{className:"grid gap-3 w-full",children:e.map((r,o)=>d.jsx(oe.button,{className:`choice-button w-full text-left p-4 rounded-md bg-[#2A2E3A]/80 border border-[#9b87f5]/20 \r
                        text-white/90 hover:text-white hover:bg-[#3A3150] hover:border-[#9b87f5]/60\r
                        transition-all duration-200 shadow-md hover:shadow-[0_0_12px_rgba(155,135,245,0.3)]`,onClick:()=>t(o),whileHover:{x:8,transition:{duration:.2}},initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{duration:.3,delay:o*.1}},children:r.text},o))})]})}),_M={neutral:{characterId:"maven",mood:"neutral",image:"/assets/characters/maven-neutral.png",description:"Maven with a thoughtful, slightly uncertain expression"},happy:{characterId:"maven",mood:"happy",image:"/assets/characters/maven-happy.png",description:"Maven with a genuine, warm smile"},sad:{characterId:"maven",mood:"sad",image:"/assets/characters/maven-sad.png",description:"Maven with downcast expression showing vulnerability"},angry:{characterId:"maven",mood:"angry",image:"/assets/characters/maven-angry.png",description:"Maven with a frustrated, determined expression"},surprised:{characterId:"maven",mood:"surprised",image:"/assets/characters/maven-surprised.png",description:"Maven with widened eyes showing genuine shock"},laughing:{characterId:"maven",mood:"laughing",image:"/assets/characters/maven-laughing.png",description:"Maven with a hearty, uninhibited laugh showing joy"},shocked:{characterId:"maven",mood:"shocked",image:"/assets/characters/maven-shocked.png",description:"Maven with a completely stunned expression"},embarrassed:{characterId:"maven",mood:"embarrassed",image:"/assets/characters/maven-embarrassed.png",description:"Maven with a sheepish, slightly blushing expression"},confident:{characterId:"maven",mood:"confident",image:"/assets/characters/maven-confident.png",description:"Maven with a self-assured, determined expression"},thoughtful:{characterId:"maven",mood:"thoughtful",image:"/assets/characters/maven-thoughtful.png",description:"Maven with a contemplative, analytical expression"}},BM={neutral:{characterId:"xavier",mood:"neutral",image:"/assets/characters/xavier-neutral.png",description:"Xavier with a calm, reliable expression"},happy:{characterId:"xavier",mood:"happy",image:"/assets/characters/xavier-happy.png",description:"Xavier with an enthusiastic, friendly smile"},sad:{characterId:"xavier",mood:"sad",image:"/assets/characters/xavier-sad.png",description:"Xavier with a concerned, empathetic expression"},angry:{characterId:"xavier",mood:"angry",image:"/assets/characters/xavier-angry.png",description:"Xavier with a furrowed brow showing frustration"},surprised:{characterId:"xavier",mood:"surprised",image:"/assets/characters/xavier-surprised.png",description:"Xavier with raised eyebrows and a shocked expression"},laughing:{characterId:"xavier",mood:"laughing",image:"/assets/characters/xavier-laughing.png",description:"Xavier with a warm, supportive laugh"},shocked:{characterId:"xavier",mood:"shocked",image:"/assets/characters/xavier-shocked.png",description:"Xavier with wide eyes and mouth showing complete surprise"},embarrassed:{characterId:"xavier",mood:"embarrassed",image:"/assets/characters/xavier-embarrassed.png",description:"Xavier with a self-conscious expression and slight blush"},confident:{characterId:"xavier",mood:"confident",image:"/assets/characters/xavier-happy.png",description:"Xavier with a self-assured, knowledgeable expression"},thoughtful:{characterId:"xavier",mood:"thoughtful",image:"/assets/characters/xavier-neutral.png",description:"Xavier with a contemplative, problem-solving expression"}},zM={neutral:{characterId:"navarre",mood:"neutral",image:"/assets/characters/navarre-neutral.png",description:"Navarre with a confident, slightly flirtatious expression"},happy:{characterId:"navarre",mood:"happy",image:"/assets/characters/navarre-happy.png",description:"Navarre with a charming, winning smile"},sad:{characterId:"navarre",mood:"sad",image:"/assets/characters/navarre-sad.png",description:"Navarre with a disappointed, slightly dramatic expression"},angry:{characterId:"navarre",mood:"angry",image:"/assets/characters/navarre-angry.png",description:"Navarre with an indignant, passionate expression"},surprised:{characterId:"navarre",mood:"surprised",image:"/assets/characters/navarre-surprised.png",description:"Navarre with wide eyes and an exaggerated shocked expression"},laughing:{characterId:"navarre",mood:"laughing",image:"/assets/characters/navarre-laughing.png",description:"Navarre with a charismatic, infectious laugh"},shocked:{characterId:"navarre",mood:"shocked",image:"/assets/characters/navarre-shocked.png",description:"Navarre with a theatrical expression of complete shock"},embarrassed:{characterId:"navarre",mood:"embarrassed",image:"/assets/characters/navarre-embarrassed.png",description:"Navarre with rare vulnerability showing through a blush"},confident:{characterId:"navarre",mood:"confident",image:"/assets/characters/navarre-happy.png",description:"Navarre with an exceptionally self-assured, charismatic expression"},thoughtful:{characterId:"navarre",mood:"thoughtful",image:"/assets/characters/navarre-neutral.png",description:"Navarre with a rare moment of quiet contemplation"}},WM={neutral:{characterId:"etta",mood:"neutral",image:"/assets/characters/etta-neutral.png",description:"Etta with a composed, slightly calculating expression"},happy:{characterId:"etta",mood:"happy",image:"/assets/characters/etta-happy.png",description:"Etta with a satisfied, accomplished smile"},sad:{characterId:"etta",mood:"sad",image:"/assets/characters/etta-sad.png",description:"Etta with a controlled, disappointed expression"},angry:{characterId:"etta",mood:"angry",image:"/assets/characters/etta-angry.png",description:"Etta with a sharp, intense stare showing displeasure"},surprised:{characterId:"etta",mood:"surprised",image:"/assets/characters/etta-surprised.png",description:"Etta with slightly widened eyes showing rare genuine surprise"},laughing:{characterId:"etta",mood:"laughing",image:"/assets/characters/etta-laughing.png",description:"Etta with a confident, controlled laugh showing amusement"},shocked:{characterId:"etta",mood:"shocked",image:"/assets/characters/etta-shocked.png",description:"Etta with momentary loss of composure in complete surprise"},embarrassed:{characterId:"etta",mood:"embarrassed",image:"/assets/characters/etta-embarrassed.png",description:"Etta with a slightly flustered expression breaking her usual control"},confident:{characterId:"etta",mood:"confident",image:"/assets/characters/etta-happy.png",description:"Etta with an authoritative, commanding presence"},thoughtful:{characterId:"etta",mood:"thoughtful",image:"/assets/characters/etta-neutral.png",description:"Etta with a strategic, analytical expression"}},HM={neutral:{characterId:"senara",mood:"neutral",image:"/assets/characters/senara-neutral.png",description:"Senara with an analytical, thoughtful expression"},happy:{characterId:"senara",mood:"happy",image:"/assets/characters/senara-happy.png",description:"Senara with a subtle, genuine smile"},sad:{characterId:"senara",mood:"sad",image:"/assets/characters/senara-sad.png",description:"Senara with a pensive, melancholic expression"},angry:{characterId:"senara",mood:"angry",image:"/assets/characters/senara-angry.png",description:"Senara with a cold, precise expression of disapproval"},surprised:{characterId:"senara",mood:"surprised",image:"/assets/characters/senara-surprised.png",description:"Senara with raised eyebrows showing rare emotional reaction"},laughing:{characterId:"senara",mood:"laughing",image:"/assets/characters/senara-laughing.png",description:"Senara with a rare, unguarded moment of genuine laughter"},shocked:{characterId:"senara",mood:"shocked",image:"/assets/characters/senara-shocked.png",description:"Senara with wide-eyed intellectual astonishment"},embarrassed:{characterId:"senara",mood:"embarrassed",image:"/assets/characters/senara-embarrassed.png",description:"Senara with a subtle blush revealing hidden emotions"},confident:{characterId:"senara",mood:"confident",image:"/assets/characters/senara-happy.png",description:"Senara with an assured, intellectually dominant expression"},thoughtful:{characterId:"senara",mood:"thoughtful",image:"/assets/characters/senara-thoughtful.png",description:"Senara with a deeply contemplative, analytical gaze"}},Wb={maven:Object.values(_M),xavier:Object.values(BM),navarre:Object.values(zM),etta:Object.values(WM),senara:Object.values(HM)};function UM(e,t){return(Wb[e]||[]).find(r=>r.mood===t)}const YM=({characterId:e,mood:t="neutral",className:n="",animate:r=!1,onLoad:o,isInDialog:a=!1})=>{const[s,i]=f.useState(void 0),[l,c]=f.useState(!1),u=zb(),m=f.useRef(null),[h,p]=f.useState(!1);f.useEffect(()=>{if(e&&t)try{const b=UM(e,t);i(b);const g=(b==null?void 0:b.image)||"";g&&typeof g=="string"&&u.has(g)?(c(!0),o==null||o()):c(!1)}catch(b){console.error(`Error setting character portrait: ${b}`),c(!1)}},[e,t,o]),f.useEffect(()=>{const b=()=>{c(!0),o==null||o()};return m.current&&m.current.complete&&b(),m.current&&m.current.addEventListener("load",b),()=>{m.current&&m.current.removeEventListener("load",b)}},[o]),f.useEffect(()=>{if(r&&l){p(!0);const b=setTimeout(()=>{p(!1)},100);return()=>clearTimeout(b)}},[r,l]);const x=s&&s.image?s.image:"",y=a?"w-full h-full object-cover object-top rounded-full":"h-auto w-auto object-contain";return d.jsx("img",{ref:m,src:x,alt:`${e} - ${t}`,className:`
        ${n}
        ${h?"animate-fade-in":""}
        ${y}
      `})},GM=({showChoices:e,displayedChoices:t,currentDialogue:n,loaded:r,onDialogueClick:o,onChoiceClick:a,characterId:s,characterMood:i})=>{const l=s&&s!=="narrator"&&!e;return f.useEffect(()=>{var c;console.log(`GameDialogueSystem rendering: dialogue: ${((c=n==null?void 0:n.text)==null?void 0:c.substring(0,30))||"none"}, loaded: ${r}, showChoices: ${e}`)},[n,r,e]),d.jsx("div",{className:"absolute bottom-6 left-0 right-0 z-30 flex justify-center px-4 sm:px-6",children:d.jsxs("div",{className:"w-full max-w-3xl relative",children:[l&&d.jsx("div",{className:"absolute -left-5 -top-16 z-40",children:d.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-800/80 border-2 border-accent shadow-lg",children:d.jsx(YM,{characterId:s,mood:i,className:"w-full h-full object-cover",isInDialog:!0})})}),e&&t.length>0?d.jsx($M,{choices:t,onChoiceSelected:a,isActive:!0}):d.jsx(VM,{dialogueLine:n,onAdvance:o,isActive:r&&!!n})]})})},XM=({error:e,sceneId:t,onReturnToMenu:n})=>d.jsx("div",{className:"flex items-center justify-center h-screen w-full bg-black",children:d.jsxs("div",{className:"text-center text-white",children:[d.jsx(Ad,{className:"h-16 w-16 mx-auto animate-spin text-[#9b87f5] mb-4"}),d.jsx("p",{children:e||`Scene not found or loading: ${t}`}),d.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-[#9b87f5] rounded-md hover:bg-[#8B5CF6] transition-colors",children:"Return to Main Menu"})]})}),KM=({character:e,isOpen:t})=>{const n=()=>e.affection<=-3?"Hostile":e.affection<=-1?"Cold":e.affection<=3?"Neutral":e.affection<=5?"Friendly":e.affection<=8?"Close":"Romantic",o=(()=>{switch(n()){case"Hostile":return 0;case"Cold":return 1;case"Neutral":return 2;case"Friendly":return 3;case"Close":return 4;case"Romantic":return 5;default:return 2}})(),a=()=>{switch(n()){case"Hostile":return"text-red-600 font-semibold";case"Cold":return"text-orange-500 font-medium";case"Neutral":return"text-gray-400";case"Friendly":return"text-blue-400 font-medium";case"Close":return"text-pink-500 font-semibold";case"Romantic":return"text-red-500 font-bold";default:return""}};return e?(f.useEffect(()=>{t&&console.log(`Rendering affection meter for ${e.id}: ${e.affection} (${n()}) - Hearts: ${o}`)},[e.affection,t]),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(oe.div,{className:"flex items-center space-x-1",initial:{opacity:0,scale:.8},animate:{opacity:t?1:0,scale:t?1:.8},transition:{duration:.3},children:[...Array(5)].map((s,i)=>d.jsx(oe.div,{initial:{scale:.8},animate:{scale:i<o?1:.8,opacity:i<o?1:.5},transition:{duration:.2,delay:i*.05},children:d.jsx(Ed,{size:20,className:i<o?"fill-current text-current transition-colors duration-300":"fill-none text-gray-400",style:{color:i<o?e.color:void 0}})},i))}),d.jsx(oe.div,{className:`text-xs mt-1 ${a()}`,initial:{opacity:0,y:-5},animate:{opacity:t?1:0,y:t?0:-5},transition:{duration:.3,delay:.1},children:n()})]})):(console.warn("AffectionMeter received undefined character"),null)},qM=({showAffection:e,toggleAffectionMeter:t})=>{const{gameState:n}=qe(),{characters:r}=n;return d.jsxs("div",{className:"absolute top-4 right-16 z-50",children:[d.jsx("button",{onClick:t,className:"bg-[#9b87f5] hover:bg-[#8B5CF6] p-2 rounded-full mb-2 shadow-md",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})})}),Object.entries(r).filter(([o])=>o!=="maven").map(([o,a])=>d.jsx("div",{className:"mb-2",children:d.jsx(KM,{character:a,isOpen:e})},o))]})};function q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function QM(e,t){const n=f.createContext(t),r=a=>{const{children:s,...i}=a,l=f.useMemo(()=>i,Object.values(i));return d.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function o(a){const s=f.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function Is(e,t=[]){let n=[];function r(a,s){const i=f.createContext(s),l=n.length;n=[...n,s];const c=m=>{var g;const{scope:h,children:p,...x}=m,y=((g=h==null?void 0:h[e])==null?void 0:g[l])||i,b=f.useMemo(()=>x,Object.values(x));return d.jsx(y.Provider,{value:b,children:p})};c.displayName=a+"Provider";function u(m,h){var y;const p=((y=h==null?void 0:h[e])==null?void 0:y[l])||i,x=f.useContext(p);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[c,u]}const o=()=>{const a=n.map(s=>f.createContext(s));return function(i){const l=(i==null?void 0:i[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return o.scopeName=e,[r,ZM(o,...t)]}function ZM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((i,{useScope:l,scopeName:c})=>{const m=l(a)[`__scope${c}`];return{...i,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Cn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},JM=GS.useId||(()=>{}),e2=0;function To(e){const[t,n]=f.useState(JM());return Cn(()=>{e||n(r=>r??String(e2++))},[e]),e||(t?`radix-${t}`:"")}function Ae(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Es({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=t2({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,i=Ae(n),l=f.useCallback(c=>{if(a){const m=typeof c=="function"?c(e):c;m!==e&&i(m)}else o(c)},[a,e,o,i]);return[s,l]}function t2({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),a=Ae(t);return f.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}var n2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ne=n2.reduce((e,t)=>{const n=f.forwardRef((r,o)=>{const{asChild:a,...s}=r,i=a?Yo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(i,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Hb(e,t){e&&bs.flushSync(()=>e.dispatchEvent(t))}function r2(e,t=globalThis==null?void 0:globalThis.document){const n=Ae(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var o2="DismissableLayer",Pd="dismissableLayer.update",a2="dismissableLayer.pointerDownOutside",s2="dismissableLayer.focusOutside",Bg,Ub=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zl=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:i,...l}=e,c=f.useContext(Ub),[u,m]=f.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),x=Ce(t,T=>m(T)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),v=u?y.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,k=v>=g,S=l2(T=>{const I=T.target,A=[...c.branches].some(P=>P.contains(I));!k||A||(o==null||o(T),s==null||s(T),T.defaultPrevented||i==null||i())},h),C=c2(T=>{const I=T.target;[...c.branches].some(P=>P.contains(I))||(a==null||a(T),s==null||s(T),T.defaultPrevented||i==null||i())},h);return r2(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&i&&(T.preventDefault(),i()))},h),f.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Bg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),zg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Bg)}},[u,h,n,c]),f.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),zg())},[u,c]),f.useEffect(()=>{const T=()=>p({});return document.addEventListener(Pd,T),()=>document.removeEventListener(Pd,T)},[]),d.jsx(ne.div,{...l,ref:x,style:{pointerEvents:w?k?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,C.onFocusCapture),onBlurCapture:q(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,S.onPointerDownCapture)})});zl.displayName=o2;var i2="DismissableLayerBranch",Yb=f.forwardRef((e,t)=>{const n=f.useContext(Ub),r=f.useRef(null),o=Ce(t,r);return f.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(ne.div,{...e,ref:o})});Yb.displayName=i2;function l2(e,t=globalThis==null?void 0:globalThis.document){const n=Ae(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let l=function(){Gb(a2,n,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function c2(e,t=globalThis==null?void 0:globalThis.document){const n=Ae(e),r=f.useRef(!1);return f.useEffect(()=>{const o=a=>{a.target&&!r.current&&Gb(s2,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zg(){const e=new CustomEvent(Pd);document.dispatchEvent(e)}function Gb(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Hb(o,a):o.dispatchEvent(a)}var u2=zl,d2=Yb,Zc="focusScope.autoFocusOnMount",Jc="focusScope.autoFocusOnUnmount",Wg={bubbles:!1,cancelable:!0},h2="FocusScope",Xb=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[i,l]=f.useState(null),c=Ae(o),u=Ae(a),m=f.useRef(null),h=Ce(t,y=>l(y)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(w){if(p.paused||!i)return;const k=w.target;i.contains(k)?m.current=k:On(m.current,{select:!0})},b=function(w){if(p.paused||!i)return;const k=w.relatedTarget;k!==null&&(i.contains(k)||On(m.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&On(i)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(g);return i&&v.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,i,p.paused]),f.useEffect(()=>{if(i){Ug.add(p);const y=document.activeElement;if(!i.contains(y)){const g=new CustomEvent(Zc,Wg);i.addEventListener(Zc,c),i.dispatchEvent(g),g.defaultPrevented||(m2(v2(Kb(i)),{select:!0}),document.activeElement===y&&On(i))}return()=>{i.removeEventListener(Zc,c),setTimeout(()=>{const g=new CustomEvent(Jc,Wg);i.addEventListener(Jc,u),i.dispatchEvent(g),g.defaultPrevented||On(y??document.body,{select:!0}),i.removeEventListener(Jc,u),Ug.remove(p)},0)}}},[i,c,u,p]);const x=f.useCallback(y=>{if(!n&&!r||p.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const v=y.currentTarget,[w,k]=f2(v);w&&k?!y.shiftKey&&g===k?(y.preventDefault(),n&&On(w,{select:!0})):y.shiftKey&&g===w&&(y.preventDefault(),n&&On(k,{select:!0})):g===v&&y.preventDefault()}},[n,r,p.paused]);return d.jsx(ne.div,{tabIndex:-1,...s,ref:h,onKeyDown:x})});Xb.displayName=h2;function m2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(On(r,{select:t}),document.activeElement!==n)return}function f2(e){const t=Kb(e),n=Hg(t,e),r=Hg(t.reverse(),e);return[n,r]}function Kb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hg(e,t){for(const n of e)if(!p2(n,{upTo:t}))return n}function p2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g2(e){return e instanceof HTMLInputElement&&"select"in e}function On(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&g2(e)&&t&&e.select()}}var Ug=y2();function y2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Yg(e,t),e.unshift(t)},remove(t){var n;e=Yg(e,t),(n=e[0])==null||n.resume()}}}function Yg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function v2(e){return e.filter(t=>t.tagName!=="A")}var x2="Portal",km=f.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[o,a]=f.useState(!1);Cn(()=>a(!0),[]);const s=n||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?_x.createPortal(d.jsx(ne.div,{...r,ref:t}),s):null});km.displayName=x2;function w2(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Ut=e=>{const{present:t,children:n}=e,r=b2(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=Ce(r.ref,k2(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:a}):null};Ut.displayName="Presence";function b2(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),a=f.useRef("none"),s=e?"mounted":"unmounted",[i,l]=w2(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=ai(r.current);a.current=i==="mounted"?c:"none"},[i]),Cn(()=>{const c=r.current,u=o.current;if(u!==e){const h=a.current,p=ai(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Cn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,m=p=>{const y=ai(r.current).includes(p.animationName);if(p.target===t&&y&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(a.current=ai(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ai(e){return(e==null?void 0:e.animationName)||"none"}function k2(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eu=0;function S2(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gg()),document.body.insertAdjacentElement("beforeend",e[1]??Gg()),eu++,()=>{eu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eu--}},[])}function Gg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tn=function(){return tn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},tn.apply(this,arguments)};function qb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function C2(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ni="right-scroll-bar-position",Mi="width-before-scroll-bar",T2="with-scroll-bars-hidden",I2="--removed-body-scroll-bar-size";function tu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E2(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var A2=typeof window<"u"?f.useLayoutEffect:f.useEffect,Xg=new WeakMap;function j2(e,t){var n=E2(null,function(r){return e.forEach(function(o){return tu(o,r)})});return A2(function(){var r=Xg.get(n);if(r){var o=new Set(r),a=new Set(e),s=n.current;o.forEach(function(i){a.has(i)||tu(i,null)}),a.forEach(function(i){o.has(i)||tu(i,s)})}Xg.set(n,e)},[e]),n}function P2(e){return e}function N2(e,t){t===void 0&&(t=P2);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(a),s=n}var l=function(){var u=s;s=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function M2(e){e===void 0&&(e={});var t=N2(null);return t.options=tn({async:!0,ssr:!1},e),t}var Qb=function(e){var t=e.sideCar,n=qb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,tn({},n))};Qb.isSideCarExport=!0;function R2(e,t){return e.useMedium(t),Qb}var Zb=M2(),nu=function(){},Wl=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:nu,onWheelCapture:nu,onTouchMoveCapture:nu}),o=r[0],a=r[1],s=e.forwardProps,i=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noIsolation,x=e.inert,y=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,v=e.gapMode,w=qb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=h,S=j2([n,t]),C=tn(tn({},w),o);return f.createElement(f.Fragment,null,u&&f.createElement(k,{sideCar:Zb,removeScrollBar:c,shards:m,noIsolation:p,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:v}),s?f.cloneElement(f.Children.only(i),tn(tn({},C),{ref:S})):f.createElement(g,tn({},C,{className:l,ref:S}),i))});Wl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wl.classNames={fullWidth:Mi,zeroRight:Ni};var D2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D2();return t&&e.setAttribute("nonce",t),e}function L2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function O2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var V2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=F2())&&(L2(t,n),O2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$2=function(){var e=V2();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Jb=function(){var e=$2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},_2={left:0,top:0,right:0,gap:0},ru=function(e){return parseInt(e||"",10)||0},B2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ru(n),ru(r),ru(o)]},z2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _2;var t=B2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},W2=Jb(),Io="data-scroll-locked",H2=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(T2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Io,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ni,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Mi,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ni," .").concat(Ni,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mi," .").concat(Mi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Io,`] {
    `).concat(I2,": ").concat(i,`px;
  }
`)},Kg=function(){var e=parseInt(document.body.getAttribute(Io)||"0",10);return isFinite(e)?e:0},U2=function(){f.useEffect(function(){return document.body.setAttribute(Io,(Kg()+1).toString()),function(){var e=Kg()-1;e<=0?document.body.removeAttribute(Io):document.body.setAttribute(Io,e.toString())}},[])},Y2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;U2();var a=f.useMemo(function(){return z2(o)},[o]);return f.createElement(W2,{styles:H2(a,!t,o,n?"":"!important")})},Nd=!1;if(typeof window<"u")try{var si=Object.defineProperty({},"passive",{get:function(){return Nd=!0,!0}});window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Nd=!1}var Kr=Nd?{passive:!1}:!1,G2=function(e){return e.tagName==="TEXTAREA"},e0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!G2(e)&&n[t]==="visible")},X2=function(e){return e0(e,"overflowY")},K2=function(e){return e0(e,"overflowX")},qg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=t0(e,r);if(o){var a=n0(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},q2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Q2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},t0=function(e,t){return e==="v"?X2(t):K2(t)},n0=function(e,t){return e==="v"?q2(t):Q2(t)},Z2=function(e,t){return e==="h"&&t==="rtl"?-1:1},J2=function(e,t,n,r,o){var a=Z2(e,window.getComputedStyle(t).direction),s=a*r,i=n.target,l=t.contains(i),c=!1,u=s>0,m=0,h=0;do{var p=n0(e,i),x=p[0],y=p[1],b=p[2],g=y-b-a*x;(x||g)&&t0(e,i)&&(m+=g,h+=x),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(u&&(Math.abs(m)<1||!o)||!u&&(Math.abs(h)<1||!o))&&(c=!0),c},ii=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qg=function(e){return[e.deltaX,e.deltaY]},Zg=function(e){return e&&"current"in e?e.current:e},eR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nR=0,qr=[];function rR(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(nR++)[0],a=f.useState(Jb)[0],s=f.useRef(e);f.useEffect(function(){s.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=C2([e.lockRef.current],(e.shards||[]).map(Zg),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=f.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var g=ii(y),v=n.current,w="deltaX"in y?y.deltaX:v[0]-g[0],k="deltaY"in y?y.deltaY:v[1]-g[1],S,C=y.target,T=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in y&&T==="h"&&C.type==="range")return!1;var I=qg(T,C);if(!I)return!0;if(I?S=T:(S=T==="v"?"h":"v",I=qg(T,C)),!I)return!1;if(!r.current&&"changedTouches"in y&&(w||k)&&(r.current=S),!S)return!0;var A=r.current||S;return J2(A,b,y,A==="h"?w:k,!0)},[]),l=f.useCallback(function(y){var b=y;if(!(!qr.length||qr[qr.length-1]!==a)){var g="deltaY"in b?Qg(b):ii(b),v=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&eR(S.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(s.current.shards||[]).map(Zg).filter(Boolean).filter(function(S){return S.contains(b.target)}),k=w.length>0?i(b,w[0]):!s.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(y,b,g,v){var w={name:y,delta:b,target:g,should:v,shadowParent:oR(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(k){return k!==w})},1)},[]),u=f.useCallback(function(y){n.current=ii(y),r.current=void 0},[]),m=f.useCallback(function(y){c(y.type,Qg(y),y.target,i(y,e.lockRef.current))},[]),h=f.useCallback(function(y){c(y.type,ii(y),y.target,i(y,e.lockRef.current))},[]);f.useEffect(function(){return qr.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Kr),document.addEventListener("touchmove",l,Kr),document.addEventListener("touchstart",u,Kr),function(){qr=qr.filter(function(y){return y!==a}),document.removeEventListener("wheel",l,Kr),document.removeEventListener("touchmove",l,Kr),document.removeEventListener("touchstart",u,Kr)}},[]);var p=e.removeScrollBar,x=e.inert;return f.createElement(f.Fragment,null,x?f.createElement(a,{styles:tR(o)}):null,p?f.createElement(Y2,{gapMode:e.gapMode}):null)}function oR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aR=R2(Zb,rR);var r0=f.forwardRef(function(e,t){return f.createElement(Wl,tn({},e,{ref:t,sideCar:aR}))});r0.classNames=Wl.classNames;var sR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qr=new WeakMap,li=new WeakMap,ci={},ou=0,o0=function(e){return e&&(e.host||o0(e.parentNode))},iR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=o0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lR=function(e,t,n,r){var o=iR(t,Array.isArray(e)?e:[e]);ci[n]||(ci[n]=new WeakMap);var a=ci[n],s=[],i=new Set,l=new Set(o),c=function(m){!m||i.has(m)||(i.add(m),c(m.parentNode))};o.forEach(c);var u=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(h){if(i.has(h))u(h);else try{var p=h.getAttribute(r),x=p!==null&&p!=="false",y=(Qr.get(h)||0)+1,b=(a.get(h)||0)+1;Qr.set(h,y),a.set(h,b),s.push(h),y===1&&x&&li.set(h,!0),b===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return u(t),i.clear(),ou++,function(){s.forEach(function(m){var h=Qr.get(m)-1,p=a.get(m)-1;Qr.set(m,h),a.set(m,p),h||(li.has(m)||m.removeAttribute(r),li.delete(m)),p||m.removeAttribute(n)}),ou--,ou||(Qr=new WeakMap,Qr=new WeakMap,li=new WeakMap,ci={})}},cR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=sR(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),lR(r,o,n,"aria-hidden")):function(){return null}},Sm="Dialog",[a0,uO]=Is(Sm),[uR,Yt]=a0(Sm),s0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,i=f.useRef(null),l=f.useRef(null),[c=!1,u]=Es({prop:r,defaultProp:o,onChange:a});return d.jsx(uR,{scope:t,triggerRef:i,contentRef:l,contentId:To(),titleId:To(),descriptionId:To(),open:c,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(m=>!m),[u]),modal:s,children:n})};s0.displayName=Sm;var i0="DialogTrigger",dR=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Yt(i0,n),a=Ce(t,o.triggerRef);return d.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Im(o.open),...r,ref:a,onClick:q(e.onClick,o.onOpenToggle)})});dR.displayName=i0;var Cm="DialogPortal",[hR,l0]=a0(Cm,{forceMount:void 0}),c0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Yt(Cm,t);return d.jsx(hR,{scope:t,forceMount:n,children:f.Children.map(r,s=>d.jsx(Ut,{present:n||a.open,children:d.jsx(km,{asChild:!0,container:o,children:s})}))})};c0.displayName=Cm;var ml="DialogOverlay",u0=f.forwardRef((e,t)=>{const n=l0(ml,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Yt(ml,e.__scopeDialog);return a.modal?d.jsx(Ut,{present:r||a.open,children:d.jsx(mR,{...o,ref:t})}):null});u0.displayName=ml;var mR=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Yt(ml,n);return d.jsx(r0,{as:Yo,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(ne.div,{"data-state":Im(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),_r="DialogContent",d0=f.forwardRef((e,t)=>{const n=l0(_r,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Yt(_r,e.__scopeDialog);return d.jsx(Ut,{present:r||a.open,children:a.modal?d.jsx(fR,{...o,ref:t}):d.jsx(pR,{...o,ref:t})})});d0.displayName=_r;var fR=f.forwardRef((e,t)=>{const n=Yt(_r,e.__scopeDialog),r=f.useRef(null),o=Ce(t,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return cR(a)},[]),d.jsx(h0,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&a.preventDefault()}),onFocusOutside:q(e.onFocusOutside,a=>a.preventDefault())})}),pR=f.forwardRef((e,t)=>{const n=Yt(_r,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return d.jsx(h0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),h0=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,i=Yt(_r,n),l=f.useRef(null),c=Ce(t,l);return S2(),d.jsxs(d.Fragment,{children:[d.jsx(Xb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(zl,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Im(i.open),...s,ref:c,onDismiss:()=>i.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(gR,{titleId:i.titleId}),d.jsx(vR,{contentRef:l,descriptionId:i.descriptionId})]})]})}),Tm="DialogTitle",m0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Yt(Tm,n);return d.jsx(ne.h2,{id:o.titleId,...r,ref:t})});m0.displayName=Tm;var f0="DialogDescription",p0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Yt(f0,n);return d.jsx(ne.p,{id:o.descriptionId,...r,ref:t})});p0.displayName=f0;var g0="DialogClose",y0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Yt(g0,n);return d.jsx(ne.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>o.onOpenChange(!1))})});y0.displayName=g0;function Im(e){return e?"open":"closed"}var v0="DialogTitleWarning",[dO,x0]=QM(v0,{contentName:_r,titleName:Tm,docsSlug:"dialog"}),gR=({titleId:e})=>{const t=x0(v0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},yR="DialogDescriptionWarning",vR=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x0(yR).contentName}}.`;return f.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},xR=s0,wR=c0,w0=u0,b0=d0,k0=m0,S0=p0,bR=y0;const C0=xR,kR=wR,T0=f.forwardRef(({className:e,...t},n)=>d.jsx(w0,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));T0.displayName=w0.displayName;const Em=f.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(kR,{children:[d.jsx(T0,{}),d.jsxs(b0,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,d.jsxs(bR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(ra,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Em.displayName=b0.displayName;const Am=({className:e,...t})=>d.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Am.displayName="DialogHeader";const I0=({className:e,...t})=>d.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});I0.displayName="DialogFooter";const jm=f.forwardRef(({className:e,...t},n)=>d.jsx(k0,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));jm.displayName=k0.displayName;const Pm=f.forwardRef(({className:e,...t},n)=>d.jsx(S0,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Pm.displayName=S0.displayName;var SR=f.createContext(void 0);function Nm(e){const t=f.useContext(SR);return e||t||"ltr"}function CR(e,[t,n]){return Math.min(n,Math.max(t,e))}function TR(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Mm="ScrollArea",[E0,hO]=Is(Mm),[IR,Nt]=E0(Mm),A0=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...s}=e,[i,l]=f.useState(null),[c,u]=f.useState(null),[m,h]=f.useState(null),[p,x]=f.useState(null),[y,b]=f.useState(null),[g,v]=f.useState(0),[w,k]=f.useState(0),[S,C]=f.useState(!1),[T,I]=f.useState(!1),A=Ce(t,L=>l(L)),P=Nm(o);return d.jsx(IR,{scope:n,type:r,dir:P,scrollHideDelay:a,scrollArea:i,viewport:c,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:k,children:d.jsx(ne.div,{dir:P,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});A0.displayName=Mm;var j0="ScrollAreaViewport",P0=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:o,nonce:a,...s}=e,i=Nt(j0,n),l=f.useRef(null),c=Ce(t,l,i.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),d.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...s,asChild:o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:LR({asChild:o,children:r},u=>d.jsx("div",{"data-radix-scroll-area-content":"",ref:i.onContentChange,style:{minWidth:i.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});P0.displayName=j0;var cn="ScrollAreaScrollbar",Rm=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Nt(cn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=o,i=e.orientation==="horizontal";return f.useEffect(()=>(i?a(!0):s(!0),()=>{i?a(!1):s(!1)}),[i,a,s]),o.type==="hover"?d.jsx(ER,{...r,ref:t,forceMount:n}):o.type==="scroll"?d.jsx(AR,{...r,ref:t,forceMount:n}):o.type==="auto"?d.jsx(N0,{...r,ref:t,forceMount:n}):o.type==="always"?d.jsx(Dm,{...r,ref:t}):null});Rm.displayName=cn;var ER=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Nt(cn,e.__scopeScrollArea),[a,s]=f.useState(!1);return f.useEffect(()=>{const i=o.scrollArea;let l=0;if(i){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",c),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),i.removeEventListener("pointerenter",c),i.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),d.jsx(Ut,{present:n||a,children:d.jsx(N0,{"data-state":a?"visible":"hidden",...r,ref:t})})}),AR=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Nt(cn,e.__scopeScrollArea),a=e.orientation==="horizontal",s=Ul(()=>l("SCROLL_END"),100),[i,l]=TR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,u=a?"scrollLeft":"scrollTop";if(c){let m=c[u];const h=()=>{const p=c[u];m!==p&&(l("SCROLL"),s()),m=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,a,l,s]),d.jsx(Ut,{present:n||i!=="hidden",children:d.jsx(Dm,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:q(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:q(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),N0=f.forwardRef((e,t)=>{const n=Nt(cn,e.__scopeScrollArea),{forceMount:r,...o}=e,[a,s]=f.useState(!1),i=e.orientation==="horizontal",l=Ul(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?c:u)}},10);return Go(n.viewport,l),Go(n.content,l),d.jsx(Ut,{present:r||a,children:d.jsx(Dm,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Dm=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Nt(cn,e.__scopeScrollArea),a=f.useRef(null),s=f.useRef(0),[i,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=L0(i.viewport,i.content),u={...r,sizes:i,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function m(h,p){return DR(h,s.current,i,p)}return n==="horizontal"?d.jsx(jR,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const h=o.viewport.scrollLeft,p=Jg(h,i,o.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=m(h,o.dir))}}):n==="vertical"?d.jsx(PR,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const h=o.viewport.scrollTop,p=Jg(h,i);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=m(h))}}):null}),jR=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=Nt(cn,e.__scopeScrollArea),[s,i]=f.useState(),l=f.useRef(null),c=Ce(t,l,a.onScrollbarXChange);return f.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),d.jsx(R0,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hl(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(a.viewport){const h=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),V0(h,m)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:pl(s.paddingLeft),paddingEnd:pl(s.paddingRight)}})}})}),PR=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,a=Nt(cn,e.__scopeScrollArea),[s,i]=f.useState(),l=f.useRef(null),c=Ce(t,l,a.onScrollbarYChange);return f.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),d.jsx(R0,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hl(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(a.viewport){const h=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),V0(h,m)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:pl(s.paddingTop),paddingEnd:pl(s.paddingBottom)}})}})}),[NR,M0]=E0(cn),R0=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:m,...h}=e,p=Nt(cn,n),[x,y]=f.useState(null),b=Ce(t,A=>y(A)),g=f.useRef(null),v=f.useRef(""),w=p.viewport,k=r.content-r.viewport,S=Ae(u),C=Ae(l),T=Ul(m,10);function I(A){if(g.current){const P=A.clientX-g.current.left,L=A.clientY-g.current.top;c({x:P,y:L})}}return f.useEffect(()=>{const A=P=>{const L=P.target;(x==null?void 0:x.contains(L))&&S(P,k)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,x,k,S]),f.useEffect(C,[r,C]),Go(x,T),Go(p.content,T),d.jsx(NR,{scope:n,scrollbar:x,hasThumb:o,onThumbChange:Ae(a),onThumbPointerUp:Ae(s),onThumbPositionChange:C,onThumbPointerDown:Ae(i),children:d.jsx(ne.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:q(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),I(A))}),onPointerMove:q(e.onPointerMove,I),onPointerUp:q(e.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),fl="ScrollAreaThumb",D0=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=M0(fl,e.__scopeScrollArea);return d.jsx(Ut,{present:n||o.hasThumb,children:d.jsx(MR,{ref:t,...r})})}),MR=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,a=Nt(fl,n),s=M0(fl,n),{onThumbPositionChange:i}=s,l=Ce(t,m=>s.onThumbChange(m)),c=f.useRef(),u=Ul(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const m=a.viewport;if(m){const h=()=>{if(u(),!c.current){const p=FR(m,i);c.current=p,i()}};return i(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[a.viewport,u,i]),d.jsx(ne.div,{"data-state":s.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:q(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),x=m.clientX-p.left,y=m.clientY-p.top;s.onThumbPointerDown({x,y})}),onPointerUp:q(e.onPointerUp,s.onThumbPointerUp)})});D0.displayName=fl;var Fm="ScrollAreaCorner",F0=f.forwardRef((e,t)=>{const n=Nt(Fm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(RR,{...e,ref:t}):null});F0.displayName=Fm;var RR=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Nt(Fm,n),[a,s]=f.useState(0),[i,l]=f.useState(0),c=!!(a&&i);return Go(o.scrollbarX,()=>{var m;const u=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(u),l(u)}),Go(o.scrollbarY,()=>{var m;const u=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(u),s(u)}),c?d.jsx(ne.div,{...r,ref:t,style:{width:a,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pl(e){return e?parseInt(e,10):0}function L0(e,t){const n=e/t;return isNaN(n)?0:n}function Hl(e){const t=L0(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function DR(e,t,n,r="ltr"){const o=Hl(n),a=o/2,s=t||a,i=o-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-i,u=n.content-n.viewport,m=r==="ltr"?[0,u]:[u*-1,0];return O0([l,c],m)(e)}function Jg(e,t,n="ltr"){const r=Hl(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,s=t.content-t.viewport,i=a-r,l=n==="ltr"?[0,s]:[s*-1,0],c=CR(e,l);return O0([0,s],[0,i])(c)}function O0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function V0(e,t){return e>0&&e<t}var FR=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},s=n.left!==a.left,i=n.top!==a.top;(s||i)&&t(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Ul(e,t){const n=Ae(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Go(e,t){const n=Ae(t);Cn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}function LR(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const o=f.Children.only(r);return f.cloneElement(o,{children:typeof t=="function"?t(o.props.children):t})}var $0=A0,OR=P0,VR=F0;const Lm=f.forwardRef(({className:e,children:t,...n},r)=>d.jsxs($0,{ref:r,className:ce("relative overflow-hidden",e),...n,children:[d.jsx(OR,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(_0,{}),d.jsx(VR,{})]}));Lm.displayName=$0.displayName;const _0=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>d.jsx(Rm,{ref:r,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:d.jsx(D0,{className:"relative flex-1 rounded-full bg-border"})}));_0.displayName=Rm.displayName;const B0=({open:e,onOpenChange:t,onReplayScene:n,dialogHistory:r,onClose:o})=>{var u,m;const{gameState:a}=qe(),s=r||(a!=null&&a.currentScene&&(a==null?void 0:a.dialogueIndex)!==void 0?((m=(u=Re[a.currentScene])==null?void 0:u.dialogue)==null?void 0:m.slice(0,a.dialogueIndex+1))||[]:[]),i=()=>{o&&o(),t(!1)},l=()=>{n(),t(!1)},c=h=>{if(!h||h==="narrator")return"Narrator";const p=a==null?void 0:a.characters[h];return(p==null?void 0:p.name)||h};return d.jsx(C0,{open:e,onOpenChange:t,children:d.jsxs(Em,{className:"sm:max-w-[500px] bg-[#1A1F2C] text-white border-[#9b87f5]",children:[d.jsxs(Am,{children:[d.jsx(jm,{className:"text-[#9b87f5]",children:"Dialog History"}),d.jsx(Pm,{className:"text-white/70",children:"Review the current scene's dialogue."})]}),d.jsx(Lm,{className:"h-[300px] rounded-md border border-[#9b87f5]/20 p-4",children:s&&s.length>0?s.map((h,p)=>d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"font-semibold text-[#9b87f5]",children:[c(h.character),":"]}),d.jsx("p",{className:"text-white/90 pl-2",children:h.text})]},p)):d.jsx("p",{className:"text-white/50 italic",children:"No dialogue in this scene."})}),d.jsxs(I0,{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx(te,{variant:"outline",onClick:i,className:"border-[#9b87f5]/30 text-white hover:bg-[#9b87f5]/20",children:"Close"}),d.jsx(te,{onClick:l,className:"bg-[#9b87f5] hover:bg-[#8B5CF6] text-white",children:"Replay Scene"})]})]})})},$R=["top","right","bottom","left"],lr=Math.min,ft=Math.max,gl=Math.round,ui=Math.floor,cr=e=>({x:e,y:e}),_R={left:"right",right:"left",bottom:"top",top:"bottom"},BR={start:"end",end:"start"};function Md(e,t,n){return ft(e,lr(t,n))}function Tn(e,t){return typeof e=="function"?e(t):e}function In(e){return e.split("-")[0]}function oa(e){return e.split("-")[1]}function Om(e){return e==="x"?"y":"x"}function Vm(e){return e==="y"?"height":"width"}function ur(e){return["top","bottom"].includes(In(e))?"y":"x"}function $m(e){return Om(ur(e))}function zR(e,t,n){n===void 0&&(n=!1);const r=oa(e),o=$m(e),a=Vm(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=yl(s)),[s,yl(s)]}function WR(e){const t=yl(e);return[Rd(e),t,Rd(t)]}function Rd(e){return e.replace(/start|end/g,t=>BR[t])}function HR(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:s;default:return[]}}function UR(e,t,n,r){const o=oa(e);let a=HR(In(e),n==="start",r);return o&&(a=a.map(s=>s+"-"+o),t&&(a=a.concat(a.map(Rd)))),a}function yl(e){return e.replace(/left|right|bottom|top/g,t=>_R[t])}function YR(e){return{top:0,right:0,bottom:0,left:0,...e}}function z0(e){return typeof e!="number"?YR(e):{top:e,right:e,bottom:e,left:e}}function vl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function ey(e,t,n){let{reference:r,floating:o}=e;const a=ur(t),s=$m(t),i=Vm(s),l=In(t),c=a==="y",u=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,h=r[i]/2-o[i]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-o.width,y:m};break;default:p={x:r.x,y:r.y}}switch(oa(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const GR=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,i=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:m}=ey(c,r,l),h=r,p={},x=0;for(let y=0;y<i.length;y++){const{name:b,fn:g}=i[y],{x:v,y:w,data:k,reset:S}=await g({x:u,y:m,initialPlacement:r,placement:h,strategy:o,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=v??u,m=w??m,p={...p,[b]:{...p[b],...k}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:u,y:m}=ey(c,h,l)),y=-1)}return{x:u,y:m,placement:h,strategy:o,middlewareData:p}};async function us(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Tn(t,e),x=z0(p),b=i[h?m==="floating"?"reference":"floating":m],g=vl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:l})),v=m==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),k=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=vl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:v,offsetParent:w,strategy:l}):v);return{top:(g.top-S.top+x.top)/k.y,bottom:(S.bottom-g.bottom+x.bottom)/k.y,left:(g.left-S.left+x.left)/k.x,right:(S.right-g.right+x.right)/k.x}}const XR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:s,elements:i,middlewareData:l}=t,{element:c,padding:u=0}=Tn(e,t)||{};if(c==null)return{};const m=z0(u),h={x:n,y:r},p=$m(o),x=Vm(p),y=await s.getDimensions(c),b=p==="y",g=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",k=a.reference[x]+a.reference[p]-h[p]-a.floating[x],S=h[p]-a.reference[p],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let T=C?C[w]:0;(!T||!await(s.isElement==null?void 0:s.isElement(C)))&&(T=i.floating[w]||a.floating[x]);const I=k/2-S/2,A=T/2-y[x]/2-1,P=lr(m[g],A),L=lr(m[v],A),F=P,z=T-y[x]-L,O=T/2-y[x]/2+I,U=Md(F,O,z),B=!l.arrow&&oa(o)!=null&&O!==U&&a.reference[x]/2-(O<F?P:L)-y[x]/2<0,R=B?O<F?O-F:O-z:0;return{[p]:h[p]+R,data:{[p]:U,centerOffset:O-U-R,...B&&{alignmentOffset:R}},reset:B}}}),KR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:s,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=Tn(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=In(o),v=ur(i),w=In(i)===i,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(w||!y?[yl(i)]:WR(i)),C=x!=="none";!h&&C&&S.push(...UR(i,y,x,k));const T=[i,...S],I=await us(t,b),A=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&A.push(I[g]),m){const O=zR(o,s,k);A.push(I[O[0]],I[O[1]])}if(P=[...P,{placement:o,overflows:A}],!A.every(O=>O<=0)){var L,F;const O=(((L=a.flip)==null?void 0:L.index)||0)+1,U=T[O];if(U)return{data:{index:O,overflows:P},reset:{placement:U}};let B=(F=P.filter(R=>R.overflows[0]<=0).sort((R,E)=>R.overflows[1]-E.overflows[1])[0])==null?void 0:F.placement;if(!B)switch(p){case"bestFit":{var z;const R=(z=P.filter(E=>{if(C){const M=ur(E.placement);return M===v||M==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(M=>M>0).reduce((M,_)=>M+_,0)]).sort((E,M)=>E[1]-M[1])[0])==null?void 0:z[0];R&&(B=R);break}case"initialPlacement":B=i;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function ty(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ny(e){return $R.some(t=>e[t]>=0)}const qR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Tn(e,t);switch(r){case"referenceHidden":{const a=await us(t,{...o,elementContext:"reference"}),s=ty(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:ny(s)}}}case"escaped":{const a=await us(t,{...o,altBoundary:!0}),s=ty(a,n.floating);return{data:{escapedOffsets:s,escaped:ny(s)}}}default:return{}}}}};async function QR(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=In(n),i=oa(n),l=ur(n)==="y",c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,m=Tn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return i&&typeof x=="number"&&(p=i==="end"?x*-1:x),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const ZR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:s,middlewareData:i}=t,l=await QR(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:a+l.y,data:{...l,placement:s}}}}},JR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:i={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...l}=Tn(e,t),c={x:n,y:r},u=await us(t,l),m=ur(In(o)),h=Om(m);let p=c[h],x=c[m];if(a){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+u[b],w=p-u[g];p=Md(v,p,w)}if(s){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=x+u[b],w=x-u[g];x=Md(v,x,w)}const y=i.fn({...t,[h]:p,[m]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:a,[m]:s}}}}}},eD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:i=0,mainAxis:l=!0,crossAxis:c=!0}=Tn(e,t),u={x:n,y:r},m=ur(o),h=Om(m);let p=u[h],x=u[m];const y=Tn(i,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=h==="y"?"height":"width",k=a.reference[h]-a.floating[w]+b.mainAxis,S=a.reference[h]+a.reference[w]-b.mainAxis;p<k?p=k:p>S&&(p=S)}if(c){var g,v;const w=h==="y"?"width":"height",k=["top","left"].includes(In(o)),S=a.reference[m]-a.floating[w]+(k&&((g=s.offset)==null?void 0:g[m])||0)+(k?0:b.crossAxis),C=a.reference[m]+a.reference[w]+(k?0:((v=s.offset)==null?void 0:v[m])||0)-(k?b.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[h]:p,[m]:x}}}},tD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:s,elements:i}=t,{apply:l=()=>{},...c}=Tn(e,t),u=await us(t,c),m=In(o),h=oa(o),p=ur(o)==="y",{width:x,height:y}=a.floating;let b,g;m==="top"||m==="bottom"?(b=m,g=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(g=m,b=h==="end"?"top":"bottom");const v=y-u.top-u.bottom,w=x-u.left-u.right,k=lr(y-u[b],v),S=lr(x-u[g],w),C=!t.middlewareData.shift;let T=k,I=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),C&&!h){const P=ft(u.left,0),L=ft(u.right,0),F=ft(u.top,0),z=ft(u.bottom,0);p?I=x-2*(P!==0||L!==0?P+L:ft(u.left,u.right)):T=y-2*(F!==0||z!==0?F+z:ft(u.top,u.bottom))}await l({...t,availableWidth:I,availableHeight:T});const A=await s.getDimensions(i.floating);return x!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Yl(){return typeof window<"u"}function aa(e){return W0(e)?(e.nodeName||"").toLowerCase():"#document"}function yt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function un(e){var t;return(t=(W0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W0(e){return Yl()?e instanceof Node||e instanceof yt(e).Node:!1}function Wt(e){return Yl()?e instanceof Element||e instanceof yt(e).Element:!1}function ln(e){return Yl()?e instanceof HTMLElement||e instanceof yt(e).HTMLElement:!1}function ry(e){return!Yl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yt(e).ShadowRoot}function As(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function nD(e){return["table","td","th"].includes(aa(e))}function Gl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function _m(e){const t=Bm(),n=Wt(e)?Ht(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rD(e){let t=dr(e);for(;ln(t)&&!Xo(t);){if(_m(t))return t;if(Gl(t))return null;t=dr(t)}return null}function Bm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xo(e){return["html","body","#document"].includes(aa(e))}function Ht(e){return yt(e).getComputedStyle(e)}function Xl(e){return Wt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dr(e){if(aa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ry(e)&&e.host||un(e);return ry(t)?t.host:t}function H0(e){const t=dr(e);return Xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:ln(t)&&As(t)?t:H0(t)}function ds(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=H0(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),s=yt(o);if(a){const i=Dd(s);return t.concat(s,s.visualViewport||[],As(o)?o:[],i&&n?ds(i):[])}return t.concat(o,ds(o,[],n))}function Dd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U0(e){const t=Ht(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ln(e),a=o?e.offsetWidth:n,s=o?e.offsetHeight:r,i=gl(n)!==a||gl(r)!==s;return i&&(n=a,r=s),{width:n,height:r,$:i}}function zm(e){return Wt(e)?e:e.contextElement}function Eo(e){const t=zm(e);if(!ln(t))return cr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=U0(t);let s=(a?gl(n.width):n.width)/r,i=(a?gl(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const oD=cr(0);function Y0(e){const t=yt(e);return!Bm()||!t.visualViewport?oD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yt(e)?!1:t}function Br(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=zm(e);let s=cr(1);t&&(r?Wt(r)&&(s=Eo(r)):s=Eo(e));const i=aD(a,n,r)?Y0(a):cr(0);let l=(o.left+i.x)/s.x,c=(o.top+i.y)/s.y,u=o.width/s.x,m=o.height/s.y;if(a){const h=yt(a),p=r&&Wt(r)?yt(r):r;let x=h,y=Dd(x);for(;y&&r&&p!==x;){const b=Eo(y),g=y.getBoundingClientRect(),v=Ht(y),w=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,k=g.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,m*=b.y,l+=w,c+=k,x=yt(y),y=Dd(x)}}return vl({width:u,height:m,x:l,y:c})}function sD(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",s=un(r),i=t?Gl(t.floating):!1;if(r===s||i&&a)return n;let l={scrollLeft:0,scrollTop:0},c=cr(1);const u=cr(0),m=ln(r);if((m||!m&&!a)&&((aa(r)!=="body"||As(s))&&(l=Xl(r)),ln(r))){const h=Br(r);c=Eo(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function iD(e){return Array.from(e.getClientRects())}function Fd(e,t){const n=Xl(e).scrollLeft;return t?t.left+n:Br(un(e)).left+n}function lD(e){const t=un(e),n=Xl(e),r=e.ownerDocument.body,o=ft(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ft(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Fd(e);const i=-n.scrollTop;return Ht(r).direction==="rtl"&&(s+=ft(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:s,y:i}}function cD(e,t){const n=yt(e),r=un(e),o=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,i=0,l=0;if(o){a=o.width,s=o.height;const c=Bm();(!c||c&&t==="fixed")&&(i=o.offsetLeft,l=o.offsetTop)}return{width:a,height:s,x:i,y:l}}function uD(e,t){const n=Br(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=ln(e)?Eo(e):cr(1),s=e.clientWidth*a.x,i=e.clientHeight*a.y,l=o*a.x,c=r*a.y;return{width:s,height:i,x:l,y:c}}function oy(e,t,n){let r;if(t==="viewport")r=cD(e,n);else if(t==="document")r=lD(un(e));else if(Wt(t))r=uD(t,n);else{const o=Y0(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return vl(r)}function G0(e,t){const n=dr(e);return n===t||!Wt(n)||Xo(n)?!1:Ht(n).position==="fixed"||G0(n,t)}function dD(e,t){const n=t.get(e);if(n)return n;let r=ds(e,[],!1).filter(i=>Wt(i)&&aa(i)!=="body"),o=null;const a=Ht(e).position==="fixed";let s=a?dr(e):e;for(;Wt(s)&&!Xo(s);){const i=Ht(s),l=_m(s);!l&&i.position==="fixed"&&(o=null),(a?!l&&!o:!l&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||As(s)&&!l&&G0(e,s))?r=r.filter(u=>u!==s):o=i,s=dr(s)}return t.set(e,r),r}function hD(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Gl(t)?[]:dD(t,this._c):[].concat(n),r],i=s[0],l=s.reduce((c,u)=>{const m=oy(t,u,o);return c.top=ft(m.top,c.top),c.right=lr(m.right,c.right),c.bottom=lr(m.bottom,c.bottom),c.left=ft(m.left,c.left),c},oy(t,i,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mD(e){const{width:t,height:n}=U0(e);return{width:t,height:n}}function fD(e,t,n){const r=ln(t),o=un(t),a=n==="fixed",s=Br(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const l=cr(0);if(r||!r&&!a)if((aa(t)!=="body"||As(o))&&(i=Xl(t)),r){const p=Br(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else o&&(l.x=Fd(o));let c=0,u=0;if(o&&!r&&!a){const p=o.getBoundingClientRect();u=p.top+i.scrollTop,c=p.left+i.scrollLeft-Fd(o,p)}const m=s.left+i.scrollLeft-l.x-c,h=s.top+i.scrollTop-l.y-u;return{x:m,y:h,width:s.width,height:s.height}}function au(e){return Ht(e).position==="static"}function ay(e,t){if(!ln(e)||Ht(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return un(e)===n&&(n=n.ownerDocument.body),n}function X0(e,t){const n=yt(e);if(Gl(e))return n;if(!ln(e)){let o=dr(e);for(;o&&!Xo(o);){if(Wt(o)&&!au(o))return o;o=dr(o)}return n}let r=ay(e,t);for(;r&&nD(r)&&au(r);)r=ay(r,t);return r&&Xo(r)&&au(r)&&!_m(r)?n:r||rD(e)||n}const pD=async function(e){const t=this.getOffsetParent||X0,n=this.getDimensions,r=await n(e.floating);return{reference:fD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gD(e){return Ht(e).direction==="rtl"}const yD={convertOffsetParentRelativeRectToViewportRelativeRect:sD,getDocumentElement:un,getClippingRect:hD,getOffsetParent:X0,getElementRects:pD,getClientRects:iD,getDimensions:mD,getScale:Eo,isElement:Wt,isRTL:gD};function vD(e,t){let n=null,r;const o=un(e);function a(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:m,height:h}=e.getBoundingClientRect();if(i||t(),!m||!h)return;const p=ui(u),x=ui(o.clientWidth-(c+m)),y=ui(o.clientHeight-(u+h)),b=ui(c),v={rootMargin:-p+"px "+-x+"px "+-y+"px "+-b+"px",threshold:ft(0,lr(1,l))||1};let w=!0;function k(S){const C=S[0].intersectionRatio;if(C!==l){if(!w)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(k,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(e)}return s(!0),a}function xD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zm(e),u=o||a?[...c?ds(c):[],...ds(t)]:[];u.forEach(g=>{o&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const m=c&&i?vD(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let x,y=l?Br(e):null;l&&b();function b(){const g=Br(e);y&&(g.x!==y.x||g.y!==y.y||g.width!==y.width||g.height!==y.height)&&n(),y=g,x=requestAnimationFrame(b)}return n(),()=>{var g;u.forEach(v=>{o&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),m==null||m(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const wD=ZR,bD=JR,kD=KR,SD=tD,CD=qR,sy=XR,TD=eD,ID=(e,t,n)=>{const r=new Map,o={platform:yD,...n},a={...o.platform,_c:r};return GR(e,t,{...o,platform:a})};var Ri=typeof document<"u"?f.useLayoutEffect:f.useEffect;function xl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xl(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!xl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function K0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function iy(e,t){const n=K0(e);return Math.round(t*n)/n}function su(e){const t=f.useRef(e);return Ri(()=>{t.current=e}),t}function ED(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:i=!0,whileElementsMounted:l,open:c}=e,[u,m]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=f.useState(r);xl(h,r)||p(r);const[x,y]=f.useState(null),[b,g]=f.useState(null),v=f.useCallback(E=>{E!==C.current&&(C.current=E,y(E))},[]),w=f.useCallback(E=>{E!==T.current&&(T.current=E,g(E))},[]),k=a||x,S=s||b,C=f.useRef(null),T=f.useRef(null),I=f.useRef(u),A=l!=null,P=su(l),L=su(o),F=su(c),z=f.useCallback(()=>{if(!C.current||!T.current)return;const E={placement:t,strategy:n,middleware:h};L.current&&(E.platform=L.current),ID(C.current,T.current,E).then(M=>{const _={...M,isPositioned:F.current!==!1};O.current&&!xl(I.current,_)&&(I.current=_,bs.flushSync(()=>{m(_)}))})},[h,t,n,L,F]);Ri(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(E=>({...E,isPositioned:!1})))},[c]);const O=f.useRef(!1);Ri(()=>(O.current=!0,()=>{O.current=!1}),[]),Ri(()=>{if(k&&(C.current=k),S&&(T.current=S),k&&S){if(P.current)return P.current(k,S,z);z()}},[k,S,z,P,A]);const U=f.useMemo(()=>({reference:C,floating:T,setReference:v,setFloating:w}),[v,w]),B=f.useMemo(()=>({reference:k,floating:S}),[k,S]),R=f.useMemo(()=>{const E={position:n,left:0,top:0};if(!B.floating)return E;const M=iy(B.floating,u.x),_=iy(B.floating,u.y);return i?{...E,transform:"translate("+M+"px, "+_+"px)",...K0(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:_}},[n,i,B.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:z,refs:U,elements:B,floatingStyles:R}),[u,z,U,B,R])}const AD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?sy({element:r.current,padding:o}).fn(n):{}:r?sy({element:r,padding:o}).fn(n):{}}}},jD=(e,t)=>({...wD(e),options:[e,t]}),PD=(e,t)=>({...bD(e),options:[e,t]}),ND=(e,t)=>({...TD(e),options:[e,t]}),MD=(e,t)=>({...kD(e),options:[e,t]}),RD=(e,t)=>({...SD(e),options:[e,t]}),DD=(e,t)=>({...CD(e),options:[e,t]}),FD=(e,t)=>({...AD(e),options:[e,t]});var LD="Arrow",q0=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return d.jsx(ne.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});q0.displayName=LD;var OD=q0;function VD(e,t=[]){let n=[];function r(a,s){const i=f.createContext(s),l=n.length;n=[...n,s];function c(m){const{scope:h,children:p,...x}=m,y=(h==null?void 0:h[e][l])||i,b=f.useMemo(()=>x,Object.values(x));return d.jsx(y.Provider,{value:b,children:p})}function u(m,h){const p=(h==null?void 0:h[e][l])||i,x=f.useContext(p);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const o=()=>{const a=n.map(s=>f.createContext(s));return function(i){const l=(i==null?void 0:i[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return o.scopeName=e,[r,$D(o,...t)]}function $D(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((i,{useScope:l,scopeName:c})=>{const m=l(a)[`__scope${c}`];return{...i,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function _D(e){const[t,n]=f.useState(void 0);return Cn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,i;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,i=c.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Wm="Popper",[Q0,Z0]=VD(Wm),[BD,J0]=Q0(Wm),ek=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return d.jsx(BD,{scope:t,anchor:r,onAnchorChange:o,children:n})};ek.displayName=Wm;var tk="PopperAnchor",nk=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=J0(tk,n),s=f.useRef(null),i=Ce(t,s);return f.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:d.jsx(ne.div,{...o,ref:i})});nk.displayName=tk;var Hm="PopperContent",[zD,WD]=Q0(Hm),rk=f.forwardRef((e,t)=>{var Mt,An,jn,Pn,Ps,Hr;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...y}=e,b=J0(Hm,n),[g,v]=f.useState(null),w=Ce(t,gr=>v(gr)),[k,S]=f.useState(null),C=_D(k),T=(C==null?void 0:C.width)??0,I=(C==null?void 0:C.height)??0,A=r+(a!=="center"?"-"+a:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],F=L.length>0,z={padding:P,boundary:L.filter(UD),altBoundary:F},{refs:O,floatingStyles:U,placement:B,isPositioned:R,middlewareData:E}=ED({strategy:"fixed",placement:A,whileElementsMounted:(...gr)=>xD(...gr,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[jD({mainAxis:o+I,alignmentAxis:s}),l&&PD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?ND():void 0,...z}),l&&MD({...z}),RD({...z,apply:({elements:gr,rects:sa,availableWidth:Ns,availableHeight:Nn})=>{const{width:ac,height:sc}=sa.reference,Le=gr.floating.style;Le.setProperty("--radix-popper-available-width",`${Ns}px`),Le.setProperty("--radix-popper-available-height",`${Nn}px`),Le.setProperty("--radix-popper-anchor-width",`${ac}px`),Le.setProperty("--radix-popper-anchor-height",`${sc}px`)}}),k&&FD({element:k,padding:i}),YD({arrowWidth:T,arrowHeight:I}),h&&DD({strategy:"referenceHidden",...z})]}),[M,_]=sk(B),$=Ae(x);Cn(()=>{R&&($==null||$())},[R,$]);const W=(Mt=E.arrow)==null?void 0:Mt.x,J=(An=E.arrow)==null?void 0:An.y,pe=((jn=E.arrow)==null?void 0:jn.centerOffset)!==0,[ut,ae]=f.useState();return Cn(()=>{g&&ae(window.getComputedStyle(g).zIndex)},[g]),d.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:R?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(Pn=E.transformOrigin)==null?void 0:Pn.x,(Ps=E.transformOrigin)==null?void 0:Ps.y].join(" "),...((Hr=E.hide)==null?void 0:Hr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(zD,{scope:n,placedSide:M,onArrowChange:S,arrowX:W,arrowY:J,shouldHideArrow:pe,children:d.jsx(ne.div,{"data-side":M,"data-align":_,...y,ref:w,style:{...y.style,animation:R?void 0:"none"}})})})});rk.displayName=Hm;var ok="PopperArrow",HD={top:"bottom",right:"left",bottom:"top",left:"right"},ak=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=WD(ok,r),s=HD[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(OD,{...o,ref:n,style:{...o.style,display:"block"}})})});ak.displayName=ok;function UD(e){return e!==null}var YD=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:o}=t,s=((b=o.arrow)==null?void 0:b.centerOffset)!==0,i=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,u]=sk(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((g=o.arrow)==null?void 0:g.x)??0)+i/2,p=(((v=o.arrow)==null?void 0:v.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=s?m:`${h}px`,y=`${-l}px`):c==="top"?(x=s?m:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=s?m:`${p}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=s?m:`${p}px`),{data:{x,y}}}});function sk(e){const[t,n="center"]=e.split("-");return[t,n]}var GD=ek,XD=nk,KD=rk,qD=ak,QD="VisuallyHidden",Kl=f.forwardRef((e,t)=>d.jsx(ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Kl.displayName=QD;var ZD=Kl,[ql,mO]=Is("Tooltip",[Z0]),Ql=Z0(),ik="TooltipProvider",JD=700,Ld="tooltip.open",[eF,Um]=ql(ik),lk=e=>{const{__scopeTooltip:t,delayDuration:n=JD,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,[s,i]=f.useState(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(eF,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};lk.displayName=ik;var Zl="Tooltip",[tF,Jl]=ql(Zl),ck=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:i}=e,l=Um(Zl,e.__scopeTooltip),c=Ql(t),[u,m]=f.useState(null),h=To(),p=f.useRef(0),x=s??l.disableHoverableContent,y=i??l.delayDuration,b=f.useRef(!1),[g=!1,v]=Es({prop:r,defaultProp:o,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ld))):l.onClose(),a==null||a(T)}}),w=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),k=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,v(!0)},[v]),S=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),C=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,v(!0),p.current=0},y)},[y,v]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),d.jsx(GD,{...c,children:d.jsx(tF,{scope:t,contentId:h,open:g,stateAttribute:w,trigger:u,onTriggerChange:m,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayed?C():k()},[l.isOpenDelayed,C,k]),onTriggerLeave:f.useCallback(()=>{x?S():(window.clearTimeout(p.current),p.current=0)},[S,x]),onOpen:k,onClose:S,disableHoverableContent:x,children:n})})};ck.displayName=Zl;var Od="TooltipTrigger",uk=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Jl(Od,n),a=Um(Od,n),s=Ql(n),i=f.useRef(null),l=Ce(t,i,o.onTriggerChange),c=f.useRef(!1),u=f.useRef(!1),m=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),d.jsx(XD,{asChild:!0,...s,children:d.jsx(ne.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:q(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:q(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:q(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:q(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:q(e.onBlur,o.onClose),onClick:q(e.onClick,o.onClose)})})});uk.displayName=Od;var nF="TooltipPortal",[fO,rF]=ql(nF,{forceMount:void 0}),Ko="TooltipContent",dk=f.forwardRef((e,t)=>{const n=rF(Ko,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=e,s=Jl(Ko,e.__scopeTooltip);return d.jsx(Ut,{present:r||s.open,children:s.disableHoverableContent?d.jsx(hk,{side:o,...a,ref:t}):d.jsx(oF,{side:o,...a,ref:t})})}),oF=f.forwardRef((e,t)=>{const n=Jl(Ko,e.__scopeTooltip),r=Um(Ko,e.__scopeTooltip),o=f.useRef(null),a=Ce(t,o),[s,i]=f.useState(null),{trigger:l,onClose:c}=n,u=o.current,{onPointerInTransitChange:m}=r,h=f.useCallback(()=>{i(null),m(!1)},[m]),p=f.useCallback((x,y)=>{const b=x.currentTarget,g={x:x.clientX,y:x.clientY},v=lF(g,b.getBoundingClientRect()),w=cF(g,v),k=uF(y.getBoundingClientRect()),S=hF([...w,...k]);i(S),m(!0)},[m]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&u){const x=b=>p(b,u),y=b=>p(b,l);return l.addEventListener("pointerleave",x),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",y)}}},[l,u,p,h]),f.useEffect(()=>{if(s){const x=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),w=!dF(g,s);v?h():w&&(h(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,u,s,c,h]),d.jsx(hk,{...e,ref:a})}),[aF,sF]=ql(Zl,{isInside:!1}),hk=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:s,...i}=e,l=Jl(Ko,n),c=Ql(n),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener(Ld,u),()=>document.removeEventListener(Ld,u)),[u]),f.useEffect(()=>{if(l.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,u]),d.jsx(zl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:d.jsxs(KD,{"data-state":l.stateAttribute,...c,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Eb,{children:r}),d.jsx(aF,{scope:n,isInside:!0,children:d.jsx(ZD,{id:l.contentId,role:"tooltip",children:o||r})})]})})});dk.displayName=Ko;var mk="TooltipArrow",iF=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ql(n);return sF(mk,n).isInside?null:d.jsx(qD,{...o,...r,ref:t})});iF.displayName=mk;function lF(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function cF(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function uF(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function dF(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const i=t[a].x,l=t[a].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-i)*(r-l)/(u-l)+i&&(o=!o)}return o}function hF(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mF(t)}function mF(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(o.y-s.y)>=(a.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(o.y-s.y)>=(a.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var fF=lk,pF=ck,gF=uk,fk=dk;const pk=fF,gk=pF,yk=gF,Ym=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx(fk,{ref:r,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ym.displayName=fk.displayName;var yF="Separator",ly="horizontal",vF=["horizontal","vertical"],vk=f.forwardRef((e,t)=>{const{decorative:n,orientation:r=ly,...o}=e,a=xF(r)?r:ly,i=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(ne.div,{"data-orientation":a,...i,...o,ref:t})});vk.displayName=yF;function xF(e){return vF.includes(e)}var xk=vk;const wk=f.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>d.jsx(xk,{ref:o,decorative:n,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));wk.displayName=xk.displayName;function wF(e,t=[]){let n=[];function r(a,s){const i=f.createContext(s),l=n.length;n=[...n,s];function c(m){const{scope:h,children:p,...x}=m,y=(h==null?void 0:h[e][l])||i,b=f.useMemo(()=>x,Object.values(x));return d.jsx(y.Provider,{value:b,children:p})}function u(m,h){const p=(h==null?void 0:h[e][l])||i,x=f.useContext(p);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const o=()=>{const a=n.map(s=>f.createContext(s));return function(i){const l=(i==null?void 0:i[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return o.scopeName=e,[r,bF(o,...t)]}function bF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((i,{useScope:l,scopeName:c})=>{const m=l(a)[`__scope${c}`];return{...i,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function bk(e){const t=e+"CollectionProvider",[n,r]=wF(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:x,children:y}=p,b=D.useRef(null),g=D.useRef(new Map).current;return d.jsx(o,{scope:x,itemMap:g,collectionRef:b,children:y})};s.displayName=t;const i=e+"CollectionSlot",l=D.forwardRef((p,x)=>{const{scope:y,children:b}=p,g=a(i,y),v=Ce(x,g.collectionRef);return d.jsx(Yo,{ref:v,children:b})});l.displayName=i;const c=e+"CollectionItemSlot",u="data-radix-collection-item",m=D.forwardRef((p,x)=>{const{scope:y,children:b,...g}=p,v=D.useRef(null),w=Ce(x,v),k=a(c,y);return D.useEffect(()=>(k.itemMap.set(v,{ref:v,...g}),()=>void k.itemMap.delete(v))),d.jsx(Yo,{[u]:"",ref:w,children:b})});m.displayName=c;function h(p){const x=a(e+"CollectionConsumer",p);return D.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((k,S)=>g.indexOf(k.ref.current)-g.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:l,ItemSlot:m},h,r]}function kF(e,t=[]){let n=[];function r(a,s){const i=f.createContext(s),l=n.length;n=[...n,s];function c(m){const{scope:h,children:p,...x}=m,y=(h==null?void 0:h[e][l])||i,b=f.useMemo(()=>x,Object.values(x));return d.jsx(y.Provider,{value:b,children:p})}function u(m,h){const p=(h==null?void 0:h[e][l])||i,x=f.useContext(p);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const o=()=>{const a=n.map(s=>f.createContext(s));return function(i){const l=(i==null?void 0:i[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return o.scopeName=e,[r,SF(o,...t)]}function SF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((i,{useScope:l,scopeName:c})=>{const m=l(a)[`__scope${c}`];return{...i,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var iu="rovingFocusGroup.onEntryFocus",CF={bubbles:!1,cancelable:!0},ec="RovingFocusGroup",[Vd,kk,TF]=bk(ec),[IF,Sk]=kF(ec,[TF]),[EF,AF]=IF(ec),Ck=f.forwardRef((e,t)=>d.jsx(Vd.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Vd.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(jF,{...e,ref:t})})}));Ck.displayName=ec;var jF=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...m}=e,h=f.useRef(null),p=Ce(t,h),x=Nm(a),[y=null,b]=Es({prop:s,defaultProp:i,onChange:l}),[g,v]=f.useState(!1),w=Ae(c),k=kk(n),S=f.useRef(!1),[C,T]=f.useState(0);return f.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(iu,w),()=>I.removeEventListener(iu,w)},[w]),d.jsx(EF,{scope:n,orientation:r,dir:x,loop:o,currentTabStopId:y,onItemFocus:f.useCallback(I=>b(I),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:f.useCallback(()=>T(I=>I-1),[]),children:d.jsx(ne.div,{tabIndex:g||C===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,()=>{S.current=!0}),onFocus:q(e.onFocus,I=>{const A=!S.current;if(I.target===I.currentTarget&&A&&!g){const P=new CustomEvent(iu,CF);if(I.currentTarget.dispatchEvent(P),!P.defaultPrevented){const L=k().filter(B=>B.focusable),F=L.find(B=>B.active),z=L.find(B=>B.id===y),U=[F,z,...L].filter(Boolean).map(B=>B.ref.current);Ek(U,u)}}S.current=!1}),onBlur:q(e.onBlur,()=>v(!1))})})}),Tk="RovingFocusGroupItem",Ik=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...s}=e,i=To(),l=a||i,c=AF(Tk,n),u=c.currentTabStopId===l,m=kk(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return f.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),d.jsx(Vd.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:d.jsx(ne.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:t,onMouseDown:q(e.onMouseDown,x=>{r?c.onItemFocus(l):x.preventDefault()}),onFocus:q(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:q(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){c.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=MF(x,c.orientation,c.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let g=m().filter(v=>v.focusable).map(v=>v.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const v=g.indexOf(x.currentTarget);g=c.loop?RF(g,v+1):g.slice(v+1)}setTimeout(()=>Ek(g))}})})})});Ik.displayName=Tk;var PF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MF(e,t,n){const r=NF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return PF[r]}function Ek(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function RF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var DF=Ck,FF=Ik,Gm="Tabs",[LF,pO]=Is(Gm,[Sk]),Ak=Sk(),[OF,Xm]=LF(Gm),jk=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:s="horizontal",dir:i,activationMode:l="automatic",...c}=e,u=Nm(i),[m,h]=Es({prop:r,onChange:o,defaultProp:a});return d.jsx(OF,{scope:n,baseId:To(),value:m,onValueChange:h,orientation:s,dir:u,activationMode:l,children:d.jsx(ne.div,{dir:u,"data-orientation":s,...c,ref:t})})});jk.displayName=Gm;var Pk="TabsList",Nk=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=Xm(Pk,n),s=Ak(n);return d.jsx(DF,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:d.jsx(ne.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});Nk.displayName=Pk;var Mk="TabsTrigger",Rk=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,s=Xm(Mk,n),i=Ak(n),l=Lk(s.baseId,r),c=Ok(s.baseId,r),u=r===s.value;return d.jsx(FF,{asChild:!0,...i,focusable:!o,active:u,children:d.jsx(ne.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...a,ref:t,onMouseDown:q(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?s.onValueChange(r):m.preventDefault()}),onKeyDown:q(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&s.onValueChange(r)}),onFocus:q(e.onFocus,()=>{const m=s.activationMode!=="manual";!u&&!o&&m&&s.onValueChange(r)})})})});Rk.displayName=Mk;var Dk="TabsContent",Fk=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...s}=e,i=Xm(Dk,n),l=Lk(i.baseId,r),c=Ok(i.baseId,r),u=r===i.value,m=f.useRef(u);return f.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(Ut,{present:o||u,children:({present:h})=>d.jsx(ne.div,{"data-state":u?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&a})})});Fk.displayName=Dk;function Lk(e,t){return`${e}-trigger-${t}`}function Ok(e,t){return`${e}-content-${t}`}var VF=jk,Vk=Nk,$k=Rk,_k=Fk;const $F=VF,Bk=f.forwardRef(({className:e,...t},n)=>d.jsx(Vk,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bk.displayName=Vk.displayName;const Di=f.forwardRef(({className:e,...t},n)=>d.jsx($k,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Di.displayName=$k.displayName;const zk=f.forwardRef(({className:e,...t},n)=>d.jsx(_k,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zk.displayName=_k.displayName;const _F=({open:e,onOpenChange:t})=>{const[n,r]=f.useState("concepts");let o=!1;try{const{gameState:s}=qe();o=s.hasCompletedGame}catch{o=!1}const a={concepts:[{id:"gnarus",term:"GNARUS",description:"One who specializes in knowledge acquisition, curation and insights.",color:"text-blue-300",unlocked:!0},{id:"solvitor",term:"SOLVITOR",description:"One who specializes in design, build and performance optimization.",color:"text-blue-300",unlocked:!0},{id:"diva",term:"DIVA",description:"One who plans, mobilizes and acts to transform vision to reality.",color:"text-blue-300",unlocked:!0},{id:"bellfox",term:"BELLFOX",description:"One who achieves unity through empathy, influence and harmony.",color:"text-blue-300",unlocked:!0},{id:"versa",term:"VERSA",description:"One who has completed the journey and can adapt to fill any role as needed.",color:"text-purple-300",unlocked:o}],people:[{id:"maven",term:"Maven",description:"The protagonist. Uncertain of her strengths, dealing with imposter syndrome but highly adaptive and perceptive.",color:"text-teal-300",unlocked:!0},{id:"xavier",term:"Xavier",description:"The emotional and technological bedrock of the team. Supportive, tech-savvy, and empathetic Solvitor.",color:"text-blue-300",unlocked:!0},{id:"navarre",term:"Navarre",description:"A natural networker with a flirtatious and persuasive style. Charismatic, persuasive, and gregarious Bellfox.",color:"text-orange-300",unlocked:!0},{id:"etta",term:"Etta",description:"Confident to the point of arrogance, with a narrow focus on goals. Ambitious, assertive, and results-oriented Diva.",color:"text-red-300",unlocked:!0},{id:"senara",term:"Senara",description:"The enigmatic intellectual, standoffish but trusted for integrity. Intellectual, analytical, and reserved Gnarus.",color:"text-purple-300",unlocked:!0},{id:"dr-voss",term:"Dr. Voss",description:"Key contact for the team at Cybaton HQ. Experienced mentor and supervisor for the trainee program.",color:"text-gray-300",unlocked:!0}],places:[{id:"cybaton-hq",term:"Cybaton HQ",description:"The headquarters of Cybaton, the mega corporation with a monopoly on city management systems. Base of operations for the trainee program.",color:"text-cyan-300",unlocked:!0},{id:"stonewich",term:"Stonewich",description:"A bustling trade center with a proud history. A native haven where trusted technology fulfills everyday public functions under Cybaton's management.",color:"text-green-300",unlocked:!0}]};return d.jsx(C0,{open:e,onOpenChange:t,children:d.jsxs(Em,{className:"bg-gradient-to-r from-[#1A1F2C] to-[#2A2045] border border-primary/30 text-white max-w-2xl max-h-[80vh]",children:[d.jsxs(Am,{children:[d.jsx(jm,{className:"text-xl font-semibold text-primary text-glow-sm",children:"Glossary"}),d.jsx(Pm,{className:"text-white/70",children:"Terms and concepts from the world of Jericho Bricks"})]}),d.jsxs($F,{value:n,onValueChange:s=>r(s),children:[d.jsxs(Bk,{className:"grid grid-cols-3 w-full bg-[#1A1F2C]/50",children:[d.jsx(Di,{value:"concepts",className:"data-[state=active]:bg-primary/20",children:"Concepts"}),d.jsx(Di,{value:"people",className:"data-[state=active]:bg-primary/20",children:"People"}),d.jsx(Di,{value:"places",className:"data-[state=active]:bg-primary/20",children:"Places"})]}),Object.entries(a).map(([s,i])=>d.jsx(zk,{value:s,className:"mt-4",children:d.jsx(Lm,{className:"h-[45vh] pr-4",children:d.jsx("div",{className:"space-y-6 pb-4",children:i.map(l=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("h3",{className:`text-lg font-medium ${l.color}`,children:l.term}),!l.unlocked&&d.jsx(bM,{className:"ml-2 h-4 w-4 text-gray-500"})]}),l.unlocked?d.jsx("p",{className:"text-white/80",children:l.description}):d.jsx("p",{className:"text-white/50 italic",children:"Locked - Complete the game to unlock"}),d.jsx(wk,{className:"bg-white/10 mt-4"})]},l.id))})})},s))]})]})})},BF=({isExpanded:e,onClick:t})=>d.jsxs(gk,{children:[d.jsx(yk,{asChild:!0,children:d.jsx(te,{size:"icon",variant:"secondary",className:"rounded-full shadow-lg",onClick:t,"aria-label":"Toggle Menu",children:e?d.jsx(ra,{}):d.jsx(kM,{})})}),d.jsx(Ym,{side:"left",children:d.jsx("p",{children:"Toggle Menu"})})]}),Zr=({label:e,icon:t,onClick:n,active:r=!1,tooltipText:o})=>d.jsxs(gk,{children:[d.jsx(yk,{asChild:!0,children:d.jsxs(te,{className:"shadow-md w-full justify-start",size:"sm",variant:r?"default":"outline",onClick:n,children:[t&&d.jsx("span",{className:"mr-2",children:t}),e]})}),d.jsx(Ym,{side:"left",children:d.jsx("p",{children:o})})]}),zF=({isExpanded:e,activeView:t,onGameClick:n,onTesterClick:r,startNewGame:o,showAboutInfo:a,openGlossary:s,openDialogHistory:i,handleItemClick:l})=>e?d.jsxs(oe.div,{className:"absolute bottom-14 right-0 flex flex-col gap-2 w-48",initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2},children:[d.jsx(Zr,{label:"Game View",onClick:()=>l(n),active:t==="game",tooltipText:"Switch to Game View"}),d.jsx(Zr,{label:"Background Tester",onClick:()=>l(r),active:t==="tester",tooltipText:"Switch to Background Tester"}),d.jsx(Zr,{label:"New Game",onClick:()=>l(o),tooltipText:"Start a New Game"}),d.jsx(Zr,{label:"About",icon:d.jsx(wM,{className:"h-4 w-4"}),onClick:()=>l(a),tooltipText:"About the Game"}),d.jsx(Zr,{label:"Dialog History",icon:d.jsx(CM,{className:"h-4 w-4"}),onClick:()=>l(i),tooltipText:"View Dialog History"}),d.jsx(Zr,{label:"Glossary",icon:d.jsx(vM,{className:"h-4 w-4"}),onClick:()=>l(s),tooltipText:"Open Glossary"})]}):null,WF=({onGameClick:e,onTesterClick:t,activeView:n})=>{const[r,o]=f.useState(!1),[a,s]=f.useState(!1),[i,l]=f.useState(!1),{handleSceneTransition:c,gameState:u,handleNewGame:m,handleAbout:h,replayCurrentScene:p}=qe(),x=()=>{o(!r)},y=k=>{k(),o(!1)},b=()=>{s(!0)},g=()=>{l(!0)},v=()=>{m()},w=()=>{h()};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:d.jsx(pk,{children:d.jsxs("div",{className:"relative",children:[d.jsx(BF,{isExpanded:r,onClick:x}),d.jsx(Vl,{children:d.jsx(zF,{isExpanded:r,activeView:n,onGameClick:e,onTesterClick:t,startNewGame:v,showAboutInfo:w,openGlossary:b,openDialogHistory:g,handleItemClick:y})})]})})}),d.jsx(_F,{open:a,onOpenChange:s}),d.jsx(B0,{open:i,onOpenChange:l,onReplayScene:p})]})},HF=({showHistory:e,setShowHistory:t,dialogHistory:n,activeView:r,handleGameClick:o,handleTesterClick:a,replayCurrentScene:s})=>d.jsxs(d.Fragment,{children:[d.jsx(WF,{onGameClick:o,onTesterClick:a,activeView:r}),e&&d.jsx(B0,{dialogHistory:n,onClose:()=>t(!1),onOpenChange:()=>t(!1),open:e,onReplayScene:s})]}),js=({showMusicToggle:e=!1})=>{const[t,n]=f.useState(!1),[r,o]=f.useState(!1),a=()=>{const i=!t;n(i),X.setMuted(i),console.log(`Sound effects ${i?"muted":"unmuted"}`)},s=()=>{const i=!r;o(i),X.setMusicMuted(i),console.log(`Music ${i?"muted":"unmuted"}`)};return d.jsxs("div",{className:"flex gap-1",children:[d.jsx(te,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 bg-purple-900/20 hover:bg-purple-900/40",title:t?"Unmute sound effects":"Mute sound effects",children:t?d.jsx(AM,{className:"h-4 w-4 text-purple-300"}):d.jsx(EM,{className:"h-4 w-4 text-purple-300"})}),e&&d.jsx(te,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8 bg-purple-900/20 hover:bg-purple-900/40",title:r?"Unmute music":"Mute music",children:r?d.jsx(jM,{className:"h-4 w-4 text-purple-300"}):d.jsx(SM,{className:"h-4 w-4 text-purple-300"})})]})},UF=()=>d.jsx("div",{className:"absolute top-4 right-4 z-50",children:d.jsx(js,{})}),YF=()=>{var w,k;const{gameState:e,handleSceneTransition:t}=qe(),[n,r]=f.useState(!1),[o,a]=f.useState(null),[s,i]=f.useState(!1),[l,c]=f.useState(null),u=f.useRef(null),m=f.useRef(!1),{currentScene:h,dialogueIndex:p,showChoices:x}=e,y=f.useMemo(()=>{try{if(!h)return a("Invalid scene ID: undefined or null"),null;const S=Re[h];return S?(a(null),S):(console.error(`Scene not found: ${h}`),a(`Scene "${h}" not found`),s||(i(!0),setTimeout(()=>{t("intro")},1e3)),null)}catch(S){return console.error("Error getting scene:",S),a(`Error loading scene: ${S}`),null}},[h,s,t]),b=(w=y==null?void 0:y.dialogue)==null?void 0:w[p],g=((k=y==null?void 0:y.dialogue)==null?void 0:k.slice(0,p+1))||[],v=x&&(y!=null&&y.choices)?y.choices:[];return f.useEffect(()=>{b!=null&&b.character&&b.character!=="narrator"&&c(b.character)},[b]),f.useEffect(()=>{var S;console.log(`Scene loading: Current scene: ${h}, dialogue index: ${p}, showing choices: ${x}`),y?y.background?!b&&p<(((S=y.dialogue)==null?void 0:S.length)||0)&&console.error(`Dialogue line not found at index ${p} in scene ${h}`):console.warn(`Scene ${h} has no background defined`):(console.error(`Scene not found: ${h}`),Q.error(`Scene "${h}" not found. Please report this error.`))},[h,y,b,p]),f.useEffect(()=>{if(y!=null&&y.background){const S=y.background;try{if(Dr&&Dr[S]){const C=Dr[S].image;console.log(`Preloading background image: ${C} for scene ${h}`),De.preloadAssets([C],(T,I)=>{T===I&&console.log(`Successfully preloaded background: ${C}`)})}else console.warn(`Background not found for ID: ${S}`)}catch(C){console.error(`Error preloading background: ${C}`)}}},[y,h]),f.useEffect(()=>{if(!(m.current&&n))return u.current&&clearTimeout(u.current),y&&(r(!1),m.current=!0,u.current=setTimeout(()=>{r(!0),u.current=null,console.log(`Scene ${h} marked as loaded`)},500)),()=>{u.current&&clearTimeout(u.current)}},[y,h]),f.useEffect(()=>{m.current=!1},[h]),{scene:y,sceneId:h,error:o,loaded:n,currentDialogue:b,dialogHistory:g,displayedChoices:v,showChoices:x,activeCharacter:l}},GF=()=>{const{handleDialogueClick:e,handleChoiceClick:t,replayCurrentScene:n,isTransitioning:r}=qe(),[o,a]=f.useState(!1),[s,i]=f.useState(!1),[l,c]=f.useState("game"),[u,m]=f.useState(0),[h,p]=f.useState(!1),[x,y]=f.useState(!1),b=f.useRef(null),{scene:g,sceneId:v,error:w,loaded:k,currentDialogue:S,dialogHistory:C,displayedChoices:T,showChoices:I,activeCharacter:A}=YF();f.useEffect(()=>{const B=setTimeout(()=>{console.log("Force re-render triggered to ensure proper display"),m(M=>M+1);const E=document.querySelector(".game-background img");E instanceof HTMLElement&&(E.style.opacity="1",E.style.visibility="visible",E.style.display="block",E.style.zIndex="20"),p(!0)},1e3),R=setTimeout(()=>{y(!0)},1e4);return()=>{clearTimeout(B),clearTimeout(R)}},[v]),f.useEffect(()=>{console.log(`StandardGameView rendering: scene: ${v}, loaded: ${k}, background: ${g==null?void 0:g.background}`)},[v,k,g==null?void 0:g.background]);const P=()=>{c("game")},L=()=>{c("tester")},F=()=>{i(!s)},z=()=>{!I&&k&&g&&!r&&e()};if(w||!g)return Q.error(`Failed to load scene: ${w||"Unknown error"}`),d.jsx(XM,{error:w,sceneId:v,onReturnToMenu:()=>e()});if(!k)return d.jsx("div",{className:"flex items-center justify-center h-screen w-full bg-gray-900",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Ad,{className:"h-16 w-16 animate-spin text-[#9b87f5] mx-auto mb-4"}),d.jsx("p",{className:"text-white text-xl",children:"Loading game scene..."})]})});const O=(S==null?void 0:S.mood)||"neutral",U=S==null?void 0:S.character;return d.jsxs("div",{ref:b,className:"relative h-screen w-full overflow-hidden bg-gray-900",style:{zIndex:0},children:[g.background&&d.jsx("div",{className:"game-background absolute inset-0",style:{zIndex:10},children:d.jsx(FM,{backgroundId:g.background,onBackgroundClick:z})}),d.jsx(HF,{showHistory:o,setShowHistory:a,dialogHistory:C,activeView:l,handleGameClick:P,handleTesterClick:L,replayCurrentScene:n}),d.jsx(qM,{showAffection:s,toggleAffectionMeter:F}),d.jsx(UF,{}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 z-30",children:d.jsx(GM,{showChoices:I,displayedChoices:T,currentDialogue:S,loaded:k,onDialogueClick:e,onChoiceClick:t,characterId:U,characterMood:O})}),!h&&d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg max-w-md text-center",children:[d.jsx(Ad,{className:"h-10 w-10 animate-spin mx-auto mb-4 text-[#9b87f5]"}),d.jsx("p",{className:"text-white text-xl",children:"Loading scene assets..."}),d.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"This may take a moment"})]})}),x&&d.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-red-900 bg-opacity-90 p-4 rounded-lg z-50 shadow-lg",children:d.jsx("p",{className:"text-white",children:"Loading is taking longer than expected. Please refresh if the scene doesn't appear."})})]},`view-${v}-${u}`)},XF=({availableCharacters:e,scenePrefix:t,title:n,description:r,completionSceneId:o})=>{const{handleSceneTransition:a}=qe();console.log("CharacterSelectionScene rendered",{availableCharacters:e,scenePrefix:t,title:n,completionSceneId:o});const s=Object.values(zx).filter(c=>e.includes(c.id)),i=c=>{const u=xI(t,c);console.log(`Selected character ${c}, navigating to ${u}`),a(u)},l=()=>{const c=t.includes("spring")?"spring-planning":t.includes("summer")?"summer-planning":"festival-planning",u=o||c;console.log(`Proceeding to festival planning: ${u}`),a(u)};return d.jsxs(d.Fragment,{children:[d.jsx(bm,{backgroundId:"stonewich-cityscape"}),d.jsx("div",{className:"fixed inset-0 flex flex-col items-center justify-center p-4 z-30",children:d.jsxs(oe.div,{className:"bg-gray-900/80 backdrop-blur-sm rounded-lg p-8 max-w-4xl w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:n}),d.jsx("p",{className:"text-lg text-white/80 mb-8",children:r}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(c=>d.jsxs(oe.button,{className:"flex items-center p-4 rounded-lg border transition-all duration-300",style:{borderColor:`${c.color}50`,backgroundColor:`${c.color}10`},whileHover:{backgroundColor:`${c.color}30`,x:5},onClick:()=>i(c.id),children:[d.jsx("div",{className:"w-16 h-16 rounded-full mr-4 bg-cover bg-center",style:{backgroundImage:`url(${c.avatar})`,border:`2px solid ${c.color}`}}),d.jsxs("div",{className:"text-left",children:[d.jsx("h3",{className:"font-bold text-xl",style:{color:c.color},children:c.name}),d.jsx("p",{className:"text-white/70",children:c.role})]})]},c.id))}),d.jsx("div",{className:"mt-8 flex justify-center",children:d.jsx(te,{className:"px-8 py-4 bg-[#9b87f5] hover:bg-[#7E69AB] text-white font-semibold text-lg transition-all duration-300",onClick:l,children:"Proceed to Festival Planning"})})]})})]})},cy=({season:e,sceneId:t,gameState:n})=>{console.log(`CharacterSelectionView rendering with sceneId: ${t}, season: ${e}`);let r="";const o=t.match(/-(\d+)$/);o&&(r=o[1]);const a=[];r.includes("1")&&a.push("xavier"),r.includes("2")&&a.push("navarre"),r.includes("3")&&a.push("etta"),r.includes("4")&&a.push("senara");const s=parseInt(r)||0;s===1&&a.push("xavier"),s===2&&a.push("navarre"),s===3&&a.push("etta"),s===4&&a.push("senara"),console.log(`Detected visited characters: ${a.join(", ")}`);const i=["xavier","navarre","etta","senara"].filter(l=>!a.includes(l));return console.log(`Remaining characters to visit: ${i.join(", ")}`),d.jsx(XF,{availableCharacters:i,scenePrefix:`${e}-visit`,title:`${e.charAt(0).toUpperCase()+e.slice(1)} Connections`,description:i.length>0?"Spend time with your teammates. Who would you like to visit next?":`You've visited all your teammates. You can proceed to the ${e.charAt(0).toUpperCase()+e.slice(1)} festival planning.`,completionSceneId:i.length===0?`${e}-festival-planning`:void 0})},Km=f.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Km.displayName="Card";const KF=f.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));KF.displayName="CardHeader";const qF=f.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));qF.displayName="CardTitle";const QF=f.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));QF.displayName="CardDescription";const ZF=f.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...t}));ZF.displayName="CardContent";const JF=f.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...t}));JF.displayName="CardFooter";const eL=({activities:e,title:t,description:n,completionSceneId:r})=>{const{handleSceneTransition:o}=qe(),[a,s]=f.useState([]),i=c=>{console.log(`Activity selected: ${c.title}, navigating to scene: ${c.sceneId}`),o(c.sceneId),a.includes(c.id)||s([...a,c.id])},l=()=>{console.log(`All activities explored, continuing to: ${r}`),o(r)};return d.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-black/90",children:d.jsxs("div",{className:"bg-black/80 text-white rounded-lg w-full max-w-4xl p-6 backdrop-blur",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:t}),d.jsx("p",{className:"text-lg mb-8 text-center",children:n}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e.map(c=>d.jsx(oe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsx(Km,{className:"overflow-hidden h-full flex flex-col",style:{backgroundColor:"rgba(20, 20, 30, 0.8)",borderColor:a.includes(c.id)?"#45dc7f":c.color||"#9b87f5"},children:d.jsxs("div",{className:"p-4 flex-1 flex flex-col",style:{borderLeft:`4px solid ${c.color||"#9b87f5"}`},children:[d.jsx("h3",{className:"text-xl font-medium mb-2",children:c.title}),d.jsx("p",{className:"text-sm text-gray-300 mb-4",children:c.description}),d.jsx("div",{className:"mt-auto flex justify-end",children:d.jsx(te,{onClick:()=>i(c),className:"text-sm border-none",style:{backgroundColor:c.color||"#9b87f5",color:"#000"},children:a.includes(c.id)?"Try Again":"Start Activity"})})]})})},c.id))}),d.jsx("div",{className:"flex justify-center",children:d.jsx(te,{onClick:l,className:"text-lg px-8 py-2 bg-purple-600 hover:bg-purple-700",children:a.length===0?"Skip Activities":(a.length===e.length,"Continue")})})]})})},tL=({sceneId:e,activities:t,season:n})=>{const r=()=>{switch(n){case"spring":return{title:"Spring Blooms & Brooms Festival",description:"Choose an activity to participate in during the Spring Festival.",completionSceneId:"spring-festival-completion"};case"summer":return{title:"Summer Songs & Sips Festival",description:"Choose an activity to participate in during the Summer Festival.",completionSceneId:"summer-festival-completion"};case"autumn":return{title:"Autumn Handicrafts & Heritage Festival",description:"Choose an activity to participate in during the Autumn Festival.",completionSceneId:"autumn-festival-completion"};case"winter":return{title:"Winter Games & Gala Festival",description:"Choose an activity to participate in during the Winter Festival.",completionSceneId:"winter-festival-completion"};default:return{title:"Festival Activities",description:"Choose an activity to participate in during the Festival.",completionSceneId:`${n}-festival-completion`}}},{title:o,description:a,completionSceneId:s}=r();return d.jsx(eL,{activities:t,title:o,description:a,completionSceneId:s})},nL=()=>d.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:"url(/assets/backgrounds/wall-tiles.jpg)",filter:"brightness(0.8)"}}),d.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-1/3 bg-gradient-to-l from-[#1A1F2C]/90 to-transparent z-10"}),d.jsx("div",{className:"absolute inset-0 z-20 opacity-40",children:d.jsx("div",{className:"stars-bg"})}),d.jsx("div",{className:"absolute bottom-[-50%] right-[-25%] w-[80%] h-[150%] rounded-full bg-[#9b87f5]/10 blur-[100px] z-5"}),d.jsx("div",{className:"absolute top-[-50%] right-[-25%] w-[80%] h-[150%] rounded-full bg-[#7E69AB]/10 blur-[100px] z-5"})]}),rL=()=>d.jsx(oe.h1,{className:"text-5xl font-bold text-white text-glow mt-6 mb-4 text-right pr-10",animate:{scale:[1,1.02,1]},transition:{repeat:1/0,duration:3},children:"Versa"}),oL=({onNewGame:e,onAbout:t})=>{const n=f.useCallback(o=>{o.preventDefault(),console.log("New Game button clicked inside MenuButtons");try{X.playSFX("ui-click")}catch(a){console.warn("Failed to play click sound:",a)}e()},[e]),r=f.useCallback(o=>{o.preventDefault(),console.log("About button clicked inside MenuButtons");try{X.playSFX("ui-click")}catch(a){console.warn("Failed to play click sound:",a)}t&&t()},[t]);return d.jsxs("div",{className:"space-y-4",children:[d.jsx(te,{onClick:n,className:"w-full bg-[#9b87f5] hover:bg-[#7E69AB] text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 shadow-lg",children:"New Game"}),t&&d.jsx(te,{onClick:r,className:"w-full bg-transparent hover:bg-[#7E69AB]/20 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 shadow-lg border border-[#9b87f5]",children:"About"})]})},aL=({onNewGame:e,loadingComplete:t,onAbout:n})=>d.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col items-center justify-center",children:[d.jsx(_h,{position:"top-right",richColors:!0}),d.jsx("div",{className:"flex flex-col md:flex-row w-full max-w-7xl px-4 justify-end",children:d.jsxs("div",{className:"w-full md:w-1/3 flex flex-col items-end pr-8",children:[d.jsx("div",{className:"flex flex-col items-end mb-6 animate-fade-in",children:d.jsx(rL,{})}),d.jsxs("div",{className:"w-full max-w-xs flex flex-col items-end justify-center mt-6",children:[d.jsx(oL,{onNewGame:e,onAbout:n}),d.jsx("div",{className:"mt-6 self-end",children:d.jsx(js,{showMusicToggle:!0})})]})]})})]}),Wk=({onNewGame:e,loadingComplete:t,onAbout:n})=>{const r=f.useCallback(()=>{console.log("New Game button clicked");try{X.playSFX("ui-click")}catch(a){console.warn("Failed to play button click sound:",a)}Q.success("Starting new game..."),setTimeout(()=>{e()},300)},[e]),o=f.useCallback(()=>{console.log("About button clicked");try{X.playSFX("ui-click")}catch(a){console.warn("Failed to play button click sound:",a)}n&&n()},[n]);return d.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[d.jsx(_h,{position:"top-right"}),d.jsx(nL,{}),d.jsx(aL,{onNewGame:r,loadingComplete:t,onAbout:n?o:void 0})]})},sL=()=>{const{handleSceneTransition:e}=qe();return d.jsxs(d.Fragment,{children:[d.jsx(bm,{backgroundId:"cybaton-office"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-lg bg-black/70 rounded-lg p-8 m-4 backdrop-blur-sm",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4 text-white",children:"About Versa"}),d.jsx("p",{className:"text-gray-200 mb-3",children:"Versa is a visual novel where you play as Maven, a new recruit in the Cybaton city administration program."}),d.jsx("p",{className:"text-gray-200 mb-3",children:"Your choices will affect your relationships with your teammates, each of whom is a potential romance option."}),d.jsx("p",{className:"text-gray-200 mb-6",children:"Explore the city of Stonewich, navigate workplace challenges, and maybe find love along the way!"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(te,{onClick:()=>e("start"),className:"px-4 py-2 bg-primary rounded text-white hover:bg-primary/80 transition-colors",children:"Back to Main Menu"})})]})})]})},Hk=({title:e,instructions:t,children:n,onComplete:r,onExit:o,showExitButton:a=!0})=>d.jsx(oe.div,{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs("div",{className:"bg-gradient-to-r from-[#1A1F2C] to-[#2A2045] border-2 border-[#9b87f5]/30 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-[#1A1F2C] border-b border-[#9b87f5]/30 flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold text-[#9b87f5]",children:e}),d.jsx("div",{className:"flex items-center gap-2",children:o&&a&&d.jsxs(te,{variant:"outline",className:"border-[#9b87f5]/30 hover:bg-[#9b87f5]/10 flex items-center gap-1",onClick:o,children:[d.jsx(ra,{size:16}),"Exit Game"]})})]}),d.jsx("div",{className:"p-4 border-b border-[#9b87f5]/30",children:d.jsx("p",{className:"text-white",children:t})}),d.jsx("div",{className:"flex-grow p-4 overflow-auto",children:n})]})}),iL=({minigameType:e,onComplete:t,onExit:n})=>{const[r,o]=D.useState(!1),a=()=>e.replace(/([A-Z])/g," $1").replace(/^./,i=>i.toUpperCase());D.useEffect(()=>{const i=setTimeout(()=>{r||(o(!0),Q.success(`Minigame "${a()}" completed successfully`),setTimeout(()=>{t(!0)},1e3))},2e3);return()=>clearTimeout(i)},[e,t,r]);const s=()=>{r||(o(!0),Q.success(`Minigame "${a()}" completed successfully`),t(!0))};return d.jsx(Hk,{title:`${a()} (Placeholder)`,instructions:"This minigame is currently under development. You'll automatically progress in a few seconds.",onComplete:t,onExit:n,showExitButton:!0,children:d.jsxs("div",{className:"flex flex-col items-center justify-center p-8 h-full",children:[d.jsxs("div",{className:"mb-8 text-lg text-center",children:[d.jsxs("p",{children:["This minigame (",e,") is temporarily bypassed for development."]}),d.jsxs("div",{className:"mt-6 border border-[#9b87f5]/30 rounded-lg p-4 bg-[#1A1F2C]/70 max-w-md mx-auto",children:[d.jsxs("p",{className:"text-sm text-gray-300",children:[d.jsx("strong",{children:"Minigame Type:"})," ",e]}),d.jsxs("p",{className:"mt-2 text-sm text-gray-300",children:[d.jsx("strong",{children:"Auto-completing in:"})," ",r?"Completing...":"Just a moment..."]})]}),d.jsx("p",{className:"mt-6 text-sm text-gray-400",children:"In the final game, this will be a full minigame experience."})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(te,{onClick:s,className:"bg-green-600 hover:bg-green-700",disabled:r,children:r?"Completing...":"Complete Now"}),d.jsx(te,{onClick:n,className:"bg-red-600 hover:bg-red-700",disabled:r,children:"Exit"}),d.jsx("div",{className:"ml-4",children:d.jsx(js,{})})]})]})})},qm=({title:e,instructions:t,children:n,onComplete:r,onExit:o,showExitButton:a=!0})=>(f.useEffect(()=>{qx()},[]),d.jsx(oe.div,{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs("div",{className:"bg-gradient-to-r from-[#1A1F2C] to-[#2A2045] border-2 border-[#9b87f5]/30 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-[#1A1F2C] border-b border-[#9b87f5]/30 flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold text-[#9b87f5]",children:e}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(js,{}),o&&d.jsxs(te,{variant:"outline",className:"border-[#9b87f5]/30 hover:bg-[#9b87f5]/10 flex items-center gap-1",onClick:o,children:[d.jsx(ra,{size:16}),"Exit Game"]})]})]}),d.jsx("div",{className:"p-4 border-b border-[#9b87f5]/30",children:d.jsx("p",{className:"text-white",children:t})}),d.jsx("div",{className:"flex-grow p-4 overflow-auto",children:n})]})})),lL=e=>{const t="/assets/minigames/spring/bloomwithAView/garden-background.jpg",n=["/assets/minigames/spring/bloomwithAView/hidden-objects-wateringcan.png","/assets/minigames/spring/bloomwithAView/hidden-objects-gloves.png","/assets/minigames/spring/bloomwithAView/hidden-objects-beedrone.png","/assets/minigames/spring/bloomwithAView/hidden-objects-seedpacket.png","/assets/minigames/spring/bloomwithAView/hidden-objects-butterfly.png"],r=["/assets/minigames/spring/bloomwithAView/flower-tiles-1.png","/assets/minigames/spring/bloomwithAView/flower-tiles-2.png","/assets/minigames/spring/bloomwithAView/flower-tiles-3.png","/assets/minigames/spring/bloomwithAView/flower-tiles-4.png","/assets/minigames/spring/bloomwithAView/flower-tiles-5.png","/assets/minigames/spring/bloomwithAView/flower-tiles-6.png","/assets/minigames/spring/bloomwithAView/flower-tiles-7.png","/assets/minigames/spring/bloomwithAView/flower-tiles-8.png"],o=[t,...n,...r];De.preloadAssets(o,(a,s)=>{console.log(`Loaded ${a}/${s} BloomWithAView assets`)}).then(()=>{console.log("BloomWithAView assets loaded");const a=De.didAssetFail(t);e(t,a)})},cL=e=>{const t={"watering-can":"/assets/minigames/spring/bloomwithAView/hidden-objects-wateringcan.png",gloves:"/assets/minigames/spring/bloomwithAView/hidden-objects-gloves.png","bee-drone":"/assets/minigames/spring/bloomwithAView/hidden-objects-beedrone.png","seed-packet":"/assets/minigames/spring/bloomwithAView/hidden-objects-seedpacket.png",butterfly:"/assets/minigames/spring/bloomwithAView/hidden-objects-butterfly.png",default:"/assets/minigames/spring/bloomwithAView/hidden-objects-butterfly.png"};return t[e]||t.default},uL=({item:e,debugMode:t})=>e.found?null:t?d.jsx("div",{className:`absolute z-10 rounded-md ${e.highlighted?"animate-pulse":""}`,style:{width:"80px",height:"80px",top:`${e.position.y-40}px`,left:`${e.position.x-40}px`,backgroundColor:e.highlighted?"rgba(255, 255, 0, 0.7)":"rgba(255, 0, 0, 0.3)",border:"2px dashed rgba(255, 255, 255, 0.7)",pointerEvents:"none"}}):d.jsx("div",{className:`absolute z-10 ${e.highlighted?"animate-pulse":""}`,style:{width:"60px",height:"60px",top:`${e.position.y-30}px`,left:`${e.position.x-30}px`,backgroundImage:`url(${cL(e.id)})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",pointerEvents:"none",boxShadow:e.highlighted?"0 0 15px 8px rgba(255, 255, 0, 0.3)":"none"}}),dL=({imageLoaded:e})=>{if(!e)return null;const t=[{top:"50%",left:"20%",rotation:"0deg",size:"60px",imageIndex:1},{top:"55%",left:"75%",rotation:"45deg",size:"70px",imageIndex:2},{top:"60%",left:"20%",rotation:"15deg",size:"55px",imageIndex:3},{top:"52%",left:"60%",rotation:"-10deg",size:"65px",imageIndex:4},{top:"75%",left:"80%",rotation:"30deg",size:"60px",imageIndex:5},{top:"85%",left:"40%",rotation:"-20deg",size:"50px",imageIndex:6},{top:"65%",left:"45%",rotation:"5deg",size:"55px",imageIndex:7},{top:"70%",left:"85%",rotation:"-5deg",size:"65px",imageIndex:8},{top:"58%",left:"35%",rotation:"12deg",size:"58px",imageIndex:1},{top:"67%",left:"55%",rotation:"-8deg",size:"62px",imageIndex:2},{top:"80%",left:"25%",rotation:"22deg",size:"54px",imageIndex:3},{top:"72%",left:"70%",rotation:"-15deg",size:"59px",imageIndex:4}];return d.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-green-100/20 mix-blend-overlay"}),t.map((n,r)=>d.jsx("div",{className:"absolute pointer-events-none",style:{top:n.top,left:n.left,width:n.size,height:n.size,backgroundImage:`url(/assets/minigames/spring/bloomwithAView/flower-tiles-${n.imageIndex}.png)`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:`rotate(${n.rotation})`,opacity:.9}},`flower-tile-${r}`))]})},hL=({item:e})=>e.found?d.jsx("div",{className:"absolute z-30 flex items-center justify-center animate-in fade-in duration-500",style:{top:`${e.position.y-15}px`,left:`${e.position.x-15}px`,width:"30px",height:"30px"},children:d.jsx(_b,{className:"w-full h-full text-green-500 bg-black/30 rounded-full p-0.5"})}):null,mL=({item:e,showHint:t})=>!e.highlighted||!t?null:d.jsx(oe.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"absolute w-12 h-12 rounded-full border-2 border-dashed border-yellow-400 bg-yellow-400/20 z-30",style:{left:e.position.x-24,top:e.position.y-24}}),fL=({clickPosition:e})=>e?d.jsx(oe.div,{initial:{opacity:.8,scale:.5},animate:{opacity:0,scale:2},transition:{duration:.5},className:"absolute w-8 h-8 rounded-full bg-white/50 pointer-events-none z-40",style:{left:e.x-16,top:e.y-16}}):null,pL=({foundItemCount:e,totalItemCount:t})=>d.jsx("div",{className:"absolute top-4 left-4 bg-black/60 text-white px-4 py-2 rounded-lg z-20 shadow-lg",children:d.jsxs("span",{className:"font-medium",children:["Found: ",e," / ",t]})}),gL=({debugMode:e})=>e?d.jsx("div",{className:"absolute top-16 left-4 bg-red-600/80 text-white px-4 py-2 rounded-lg z-40 shadow-lg",children:"Missing image assets - Using debug mode"}):null,yL=({hiddenItems:e,clickPosition:t,showHint:n,onClick:r,backgroundImage:o="spring/bloomWithAView/garden-background",foundItemCount:a,totalItemCount:s})=>{const[i,l]=f.useState(!1),[c,u]=f.useState(""),[m,h]=f.useState(!1);f.useEffect(()=>{console.log("Loading BloomWithAView assets..."),lL((x,y)=>{console.log(`Assets loaded: BG: ${x}, DebugMode: ${y}`),u(x),h(y),l(!0)})},[]);const p=x=>{const y=x.currentTarget.getBoundingClientRect();x.clientX-y.left,x.clientY-y.top,r(x)};return d.jsx("div",{className:"relative w-full",children:d.jsxs("div",{className:"relative w-full h-[400px] rounded-lg border-2 border-purple-600/50 overflow-hidden cursor-pointer",onClick:p,style:{backgroundImage:"url(/assets/backgrounds/stonewich-cityscape.jpg)",backgroundSize:"cover",backgroundPosition:"center"},children:[i&&c&&d.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center"}}),i&&e.map(x=>d.jsx(uL,{item:x,debugMode:m},`object-${x.id}`)),i&&d.jsx(dL,{imageLoaded:i}),d.jsx(pL,{foundItemCount:a,totalItemCount:s}),d.jsx(gL,{debugMode:m}),e.map(x=>d.jsx(mL,{item:x,showHint:n},`hint-${x.id}`)),e.map(x=>d.jsx(hL,{item:x},`found-${x.id}`)),d.jsx(fL,{clickPosition:t})]})})},vL=({items:e})=>d.jsxs("div",{className:"bg-[#1A1F2C]/50 p-4 rounded-lg mb-4 w-full",children:[d.jsx("h3",{className:"font-medium text-white mb-2",children:"Items to Find:"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 lg:grid-cols-2 gap-4",children:e.map(t=>d.jsx("div",{className:`text-center p-2 rounded-lg ${t.found?"bg-green-800/50 text-white/80":"bg-gray-800/50 text-white"}`,children:d.jsx("span",{className:t.found?"line-through":"",children:t.name})},t.id))})]}),xL=[{id:"wateringcan",name:"Watering Can",imagePath:"/assets/minigames/spring/bloomwithAView/hidden-objects-wateringcan.png",position:{x:75,y:60},found:!1},{id:"gloves",name:"Garden Gloves",imagePath:"/assets/minigames/spring/bloomwithAView/hidden-objects-gloves.png",position:{x:25,y:75},found:!1},{id:"beedrone",name:"Bee Drone",imagePath:"/assets/minigames/spring/bloomwithAView/hidden-objects-beedrone.png",position:{x:55,y:25},found:!1},{id:"seedpacket",name:"Seed Packet",imagePath:"/assets/minigames/spring/bloomwithAView/hidden-objects-seedpacket.png",position:{x:15,y:40},found:!1},{id:"butterfly",name:"Butterfly",imagePath:"/assets/minigames/spring/bloomwithAView/hidden-objects-butterfly.png",position:{x:85,y:35},found:!1}];function wL(){const[e]=f.useState(xL),[t,n]=f.useState(null),[r,o]=f.useState(!1),[a,s]=f.useState(0),[i,l]=f.useState(!1),[c,u]=f.useState(!1);return{hiddenItems:e,clickPosition:t,showHint:r,hintCooldown:a,gameComplete:i,gameExited:c}}function bL({gameState:e,setHiddenItems:t,setClickPosition:n,setShowHint:r,setHintCooldown:o,setGameExited:a,checkCompletion:s,playSoundSafely:i,onComplete:l,onExit:c}){const u=f.useCallback((x,y)=>{if(e.gameComplete||e.gameExited)return;n({x,y});const b=e.hiddenItems.find(g=>{const v=g.position.x,w=g.position.y;return Math.sqrt(Math.pow(x-v,2)+Math.pow(y-w,2))<=10&&!g.found});b?(t(v=>v.map(w=>w.id===b.id?{...w,found:!0}:w)),e.showHint&&r(!1),i("bloomWithAView-find-success"),s()&&i("bloomWithAView-completion-success")):i("bloomWithAView-find-miss")},[e,n,t,r,s,i]),m=f.useCallback(()=>{if(e.gameComplete||e.gameExited||e.hintCooldown>0)return;r(!0),o(10);const x=setInterval(()=>{o(y=>y<=1?(clearInterval(x),0):y-1)},1e3);return i("bloomWithAView-hint-activate"),()=>clearInterval(x)},[e,r,o,i]),h=f.useCallback(()=>{a(!0),c()},[a,c]),p=f.useCallback(()=>{l(!0)},[l]);return{handleSceneClick:u,handleHintClick:m,handleExit:h,handleComplete:p}}function kL(e,t){const n=wL(),[r,o]=f.useState(n.hiddenItems),[a,s]=f.useState(n.clickPosition),[i,l]=f.useState(n.showHint),[c,u]=f.useState(n.hintCooldown),[m,h]=f.useState(n.gameComplete),[p,x]=f.useState(n.gameExited),y={hiddenItems:r,clickPosition:a,showHint:i,hintCooldown:c,gameComplete:m,gameExited:p},b=()=>{const k=r.every(S=>S.found);return k&&!m&&(h(!0),X.playSFX("bloomWithAView-completion-success")),k},{handleSceneClick:g,handleHintClick:v,handleExit:w}=bL({gameState:y,setHiddenItems:o,setClickPosition:s,setShowHint:l,setHintCooldown:u,setGameComplete:h,setGameExited:x,checkCompletion:b,playSoundSafely:k=>X.playSFX(k),onComplete:e,onExit:t});return{hiddenItems:r,clickPosition:a,showHint:i,hintCooldown:c,gameComplete:m,handleSceneClick:g,handleHintClick:v,handleExit:w,checkCompletion:b}}const SL=({onComplete:e,onExit:t})=>{const[n,r]=f.useState(0),{hiddenItems:o,clickPosition:a,showHint:s,hintCooldown:i,gameComplete:l,handleSceneClick:c,handleHintClick:u,handleExit:m,checkCompletion:h}=kL(e,t),p=o.filter(g=>g.found).length,x=o.length;f.useEffect(()=>{p===x&&h()},[p,x,h]);const y=g=>{const v=g.currentTarget.getBoundingClientRect(),w=(g.clientX-v.left)/v.width*100,k=(g.clientY-v.top)/v.height*100;c(w,k)};f.useEffect(()=>{console.log("🎵 Attempting to load and play BloomWithAView music...");const g=async()=>{try{console.log("🎵 Playing background music: bloomWithAView-loop-gameplay.mp3"),X.playMusic("bloomWithAView-loop-gameplay.mp3",{loop:!0,volume:.7}),console.log("🎵 Successfully started music")}catch(v){console.warn("Failed to play music:",v),r(w=>w+1),n<3?setTimeout(()=>{console.log("Retrying music playback..."),g()},1e3):Q.error("Could not play game music",{description:"Sound effects may be limited",duration:3e3})}};return g(),()=>{console.log("🎵 Stopping BloomWithAView music"),X.stopMusic()}},[n]);const b=()=>{e(!0)};return d.jsxs(qm,{title:"Bloom With A View",instructions:"Find all the hidden items in the garden scene. Use the hint button if you get stuck!",onComplete:e,onExit:m,children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 h-full",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsxs("div",{className:"bg-purple-900/20 p-4 rounded-lg mb-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(TM,{className:"h-5 w-5 text-purple-400"}),d.jsxs("span",{className:"text-white text-lg font-medium",children:["Found: ",p,"/",x]})]}),d.jsx("div",{children:d.jsx(js,{showMusicToggle:!0})})]}),d.jsx(yL,{hiddenItems:o,clickPosition:a,showHint:s,onClick:y,foundItemCount:p,totalItemCount:x}),d.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[d.jsx(te,{onClick:u,disabled:i>0||l,className:"bg-purple-700 hover:bg-purple-800",children:i>0?`Hint (${i}s)`:"Get Hint"}),d.jsx("div",{className:"text-sm text-white/70",children:s&&"Hint active! Look for the highlighted item."})]})]}),d.jsx("div",{className:"w-full md:w-64 shrink-0",children:d.jsx(vL,{items:o})})]}),l&&d.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg max-w-md text-center",children:[d.jsx("div",{className:"mb-4 flex justify-center",children:d.jsx(_b,{className:"w-16 h-16 text-green-500"})}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Success!"}),d.jsx("p",{className:"text-gray-300 mb-6",children:"You've found all the hidden items!"}),d.jsx(te,{onClick:b,className:"px-8",children:"Close"})]})})]})},CL=({onSelect:e})=>{const t=[{id:"fabric",name:"Fabric",image:"/assets/minigames/autumn/crafter/fabricBase.png"},{id:"metal",name:"Metal",image:"/assets/minigames/autumn/crafter/metalBase.png"},{id:"wood",name:"Wood",image:"/assets/minigames/autumn/crafter/woodBase.png"}];return d.jsx("div",{className:"flex gap-6 justify-center",children:t.map(n=>d.jsxs(oe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex flex-col items-center cursor-pointer",onClick:()=>e(n.id),children:[d.jsx("div",{className:"bg-[#1A1F2C]/70 p-3 rounded-lg border-2 border-[#9b87f5] mb-2 hover:bg-[#2A2045]/70 transition-colors",children:d.jsx("img",{src:n.image,alt:n.name,className:"w-32 h-32 object-contain"})}),d.jsx("span",{className:"text-white font-semibold text-shadow",children:n.name})]},n.id))})},TL=({onSelect:e,compact:t=!1})=>{const n=[{id:"leaf",name:"Leaf",image:"/assets/minigames/autumn/crafter/accents.png",position:"0 0"},{id:"button",name:"Button",image:"/assets/minigames/autumn/crafter/accents.png",position:"-50px 0"},{id:"glass",name:"Glass",image:"/assets/minigames/autumn/crafter/accents.png",position:"-100px 0"},{id:"gearcharm",name:"Gear",image:"/assets/minigames/autumn/crafter/accents.png",position:"-150px 0"},{id:"ribbon",name:"Ribbon",image:"/assets/minigames/autumn/crafter/accents.png",position:"-200px 0"}];return d.jsx("div",{className:`grid ${t?"grid-cols-2 gap-2":"grid-cols-5 gap-4"}`,children:n.map(r=>d.jsxs(oe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex flex-col items-center cursor-pointer",onClick:()=>e(r.id),children:[d.jsx("div",{className:`bg-[#1A1F2C]/70 ${t?"p-1":"p-3"} rounded-lg border border-[#9b87f5] hover:bg-[#2A2045]/70 transition-colors`,children:d.jsx("div",{className:t?"w-12 h-12":"w-16 h-16",style:{backgroundImage:`url(${r.image})`,backgroundPosition:r.position,backgroundSize:"250px 50px",backgroundRepeat:"no-repeat"}})}),!t&&d.jsx("span",{className:"text-white text-xs mt-1",children:r.name})]},r.id))})},$d=({baseMaterial:e,accents:t,onPlaceAccent:n,interactive:r=!1,showInitials:o=!1,characterInitials:a=""})=>{const s=f.useRef(null),[i,l]=f.useState(!1),c=m=>({"autumn-leaf":"/assets/minigames/autumn/crafter/accents-leaf.png",button:"/assets/minigames/autumn/crafter/accents-button.png","glass-shard":"/assets/minigames/autumn/crafter/accents-glass.png","gear-charm":"/assets/minigames/autumn/crafter/accents-gearcharm.png",ribbon:"/assets/minigames/autumn/crafter/accents-ribbon.png"})[m]||"/assets/minigames/autumn/crafter/accents-leaf.png",u=m=>{if(!r||!n||!s.current)return;const h=s.current.getBoundingClientRect(),p=(m.clientX-h.left)/h.width*100,x=(m.clientY-h.top)/h.height*100;n(p,x)};return d.jsxs("div",{ref:s,className:`relative w-64 h-64 ${r?"cursor-pointer":""} bg-transparent`,onClick:u,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[d.jsx("img",{src:`/assets/minigames/autumn/crafter/${e}Base.png`,alt:`${e} base`,className:"absolute inset-0 w-full h-full object-contain"}),t.map((m,h)=>d.jsx("div",{className:"absolute w-12 h-12",style:{left:`${m.position.x-6}%`,top:`${m.position.y-6}%`},children:d.jsx("img",{src:c(m.id),alt:m.id,className:"w-full h-full object-contain"})},`${m.id}-${h}`)),o&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",className:"text-[#FF5E5B]/70",children:d.jsx("path",{fill:"currentColor",d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:a})})]})}),r&&i&&d.jsx(oe.div,{className:"absolute inset-0 border-2 border-dashed border-[#9b87f5]/60 rounded-lg",animate:{opacity:[.6,.8,.6]},transition:{duration:1.5,repeat:1/0}})]})},IL=({baseMaterial:e,accents:t,characterInitials:n,onComplete:r})=>{const[o,a]=f.useState(!1);return f.useEffect(()=>{const s=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(s)},[]),d.jsx("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-10",children:d.jsxs(oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-[#1A1F2C]/90 p-6 rounded-lg border-2 border-[#9b87f5] max-w-md text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#9b87f5] mb-4",children:"Completed Craft"}),d.jsxs("div",{className:"relative w-64 h-64 mx-auto mb-4",children:[d.jsx($d,{baseMaterial:e,accents:t,interactive:!1,showInitials:o,characterInitials:n}),!o&&d.jsx(oe.div,{className:"absolute inset-0 flex items-center justify-center",animate:{opacity:[1,.2,1],scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:d.jsxs("svg",{className:"w-16 h-16 text-[#9b87f5]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),d.jsx("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),d.jsx("path",{d:"M2 2l7.586 7.586"}),d.jsx("circle",{cx:"11",cy:"11",r:"2"})]})})]}),d.jsx("p",{className:"text-white mb-6",children:o?"Your personal touch has been added!":"Adding your personal signature..."}),o&&d.jsx(te,{onClick:r,className:"bg-[#9b87f5] hover:bg-[#7E69AB] text-white",children:"Close"})]})})},EL=({gameStage:e,selectedBaseMaterial:t,placedAccents:n,onBaseMaterialSelect:r,onAccentSelect:o,onAccentPlace:a,onFinishCraft:s,onCompleteCraft:i,onExitWorkshop:l,characterInitials:c})=>d.jsx("div",{className:"relative w-full h-full flex flex-col items-center",children:d.jsxs("div",{className:"w-full h-full min-h-[550px] bg-cover bg-center relative",style:{backgroundImage:"url(/assets/minigames/autumn/crafter/workshop-background.png)"},children:[e==="material-selection"&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4 text-shadow",children:"Select a Base Material"}),d.jsx(CL,{onSelect:r})]}),e==="accent-placement"&&d.jsxs("div",{className:"absolute inset-0 flex",children:[d.jsxs("div",{className:"w-1/4 p-3 bg-[#1A1F2C]/80 flex flex-col",children:[d.jsx("h3",{className:"text-sm font-semibold text-white mb-2 text-center",children:"Accents"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:d.jsx(TL,{onSelect:o,compact:!0})}),d.jsx(te,{onClick:s,className:"bg-[#9b87f5] hover:bg-[#7E69AB] text-white mt-4 text-sm w-full",disabled:n.length===0,children:"View"})]}),d.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:d.jsx("div",{className:"relative bg-transparent",children:d.jsx($d,{baseMaterial:t,accents:n,onPlaceAccent:a,interactive:!0})})})]}),e==="finishing-touch"&&d.jsx(IL,{baseMaterial:t,accents:n,characterInitials:c,onComplete:i}),e==="completed"&&d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:d.jsxs("div",{className:"bg-[#1A1F2C]/80 p-6 rounded-lg border-2 border-[#9b87f5] max-w-md",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#9b87f5] mb-4 text-center",children:"Your Craft is Complete!"}),d.jsx("div",{className:"relative w-64 h-64 mx-auto mb-4",children:d.jsx($d,{baseMaterial:t,accents:n,interactive:!1,showInitials:!0,characterInitials:c})}),d.jsx("p",{className:"text-white text-center mb-6",children:"You've created a beautiful craft with the perfect personal touch!"}),d.jsx("div",{className:"flex justify-center",children:d.jsx(te,{onClick:l,className:"bg-[#9b87f5] hover:bg-[#7E69AB] text-white",children:"Close"})})]})})]})}),AL=({onComplete:e})=>{const{gameState:t}=qe(),[n,r]=f.useState("material-selection"),[o,a]=f.useState(null),[s,i]=f.useState(null),[l,c]=f.useState([]),u=f.useCallback(()=>{const b="M",g=(()=>{const{currentLoveInterest:v}=t;if(!v)return"S";switch(v){case"xavier":return"X";case"navarre":return"N";case"etta":return"E";case"senara":return"S";default:return"S"}})();return`${b}+${g}`},[t]),m=f.useCallback(b=>{a(b),r("accent-placement")},[]),h=f.useCallback(b=>{i(b)},[]),p=f.useCallback((b,g)=>{s&&c(v=>[...v,{id:s,position:{x:b,y:g}}])},[s]),x=f.useCallback(()=>{if(!o||l.length===0){console.log("Cannot finish craft: missing base material or accents");return}r("finishing-touch")},[o,l]),y=f.useCallback(()=>{r("completed"),setTimeout(()=>{e(!0)},500)},[e]);return{gameState:{stage:n,baseMaterial:o,selectedAccent:s,accents:l},gameStage:n,selectedBaseMaterial:o,selectedAccent:s,placedAccents:l,selectBaseMaterial:m,selectAccent:h,placeAccent:p,finishCraft:x,completeGame:y,characterInitials:u()}},jL=()=>{const e=f.useRef(null),t=f.useRef(!1),n=f.useCallback(()=>{console.log("🎵 Initializing Crafter audio...");try{zI();const s=new Audio("/audio/crafter-loop-gameplay.mp3");s.loop=!0,s.volume=.3,s.addEventListener("canplaythrough",()=>{console.log("🎵 Crafter background music ready"),s.play().then(()=>{console.log("🎵 Successfully started Crafter music"),t.current=!0}).catch(i=>{console.error("🎵 Error playing Crafter music:",i)})}),e.current=s}catch(s){console.error("🎵 Error initializing Crafter audio:",s)}},[]),r=f.useCallback(s=>{const l={"hit-block":"crafter-hit-block","decor-add":"crafter-decor-add","finish-initials":"crafter-finish-initials","complete-fanfare":"crafter-complete-fanfare"}[s];l&&X.playSFX(l,!1)},[]),o=f.useCallback(()=>{e.current&&t.current&&(e.current.pause(),e.current.currentTime=0,t.current=!1,console.log("🎵 Stopping Crafter music"))},[]),a=f.useCallback(()=>{o(),WI()},[o]);return f.useEffect(()=>()=>{a()},[a]),{initializeAudio:n,playSound:r,stopBackgroundMusic:o,stopAllSounds:a}},PL=({onComplete:e,onExit:t})=>{const{gameState:n,selectedBaseMaterial:r,placedAccents:o,gameStage:a,selectBaseMaterial:s,selectAccent:i,placeAccent:l,finishCraft:c,completeGame:u,characterInitials:m}=AL({onComplete:e}),{initializeAudio:h,playSound:p,stopAllSounds:x}=jL();f.useEffect(()=>(h(),()=>{x()}),[h,x]);const y=C=>{s(C),p("hit-block"),Q.info(`Selected ${C} as base material`)},b=C=>{i(C),Q.info(`Selected ${C} accent`)},g=(C,T)=>{l(C,T),p("decor-add")},v=()=>{c(),p("finish-initials"),Q.success("Adding finishing touches to your craft!")},w=()=>{x(),setTimeout(()=>{u(),p("complete-fanfare"),Q.success("Craft completed successfully!")},100)},k=()=>{x(),t&&t()},S=C=>{x(),setTimeout(()=>{e(C)},200)};return f.useEffect(()=>()=>{x()},[x]),d.jsx(Hk,{title:"Autumn Crafting Workshop",instructions:"Create a unique craft by selecting a base material and adding decorative accents. When you're done, add a personal touch with your initials!",onComplete:S,onExit:k,children:d.jsx(EL,{gameStage:a,selectedBaseMaterial:r,placedAccents:o,onBaseMaterialSelect:y,onAccentSelect:b,onAccentPlace:g,onFinishCraft:v,onCompleteCraft:w,onExitWorkshop:k,characterInitials:m})})},lu=[{id:"nature",name:"Nature & Environment",color:"#4CC2FF",character:"xavier"},{id:"connection",name:"Human Connection",color:"#FFB347",character:"navarre"},{id:"ambition",name:"Ambition & Success",color:"#FF5E5B",character:"etta"},{id:"knowledge",name:"Knowledge & Mystery",color:"#9C89FF",character:"senara"}],Fi=[{id:"stanza1",prompt:"Begin your poem with:",options:[{id:"a1",text:"In summer light, we find our voice",themes:["nature","connection"]},{id:"a2",text:"Beneath the stars of Stonewich sky",themes:["knowledge","nature"]},{id:"a3",text:"Ambitions rise like summer heat",themes:["ambition","nature"]},{id:"a4",text:"Connections form through melody",themes:["connection","knowledge"]}]},{id:"stanza2",prompt:"Continue with:",options:[{id:"b1",text:"The rhythm flows through ancient streets",themes:["knowledge","connection"]},{id:"b2",text:"As technology and nature blend",themes:["nature","knowledge"]},{id:"b3",text:"We climb the ladders of success",themes:["ambition"]},{id:"b4",text:"And share our stories hand in hand",themes:["connection"]}]},{id:"stanza3",prompt:"Then add:",options:[{id:"c1",text:"The legacy we leave behind",themes:["ambition","knowledge"]},{id:"c2",text:"In harmony with earth and sky",themes:["nature"]},{id:"c3",text:"Through shared experience we grow",themes:["connection"]},{id:"c4",text:"Our wisdom deepens, thoughts refined",themes:["knowledge"]}]},{id:"stanza4",prompt:"Conclude with:",options:[{id:"d1",text:"Until we reach our destined heights",themes:["ambition"]},{id:"d2",text:"Forever part of nature's song",themes:["nature"]},{id:"d3",text:"Together stronger than alone",themes:["connection"]},{id:"d4",text:"The mysteries of life unfold",themes:["knowledge"]}]}],NL=[{theme:"nature",combination:["a1","b2","c2","d2"]},{theme:"connection",combination:["a4","b4","c3","d3"]},{theme:"ambition",combination:["a3","b3","c1","d1"]},{theme:"knowledge",combination:["a2","b1","c4","d4"]}],cu=[{name:"Laureate",minScore:90,description:"A true master of words!"},{name:"Lyricist",minScore:70,description:"Your words flow with rhythm and meaning."},{name:"Wordsmith",minScore:50,description:"You have a good grasp of poetic elements."},{name:"Acolyte",minScore:0,description:"You're taking your first steps into poetry."}];function ML(e){const[t,n]=f.useState(null),[r,o]=f.useState("theme"),[a,s]=f.useState({}),[i,l]=f.useState(0),[c,u]=f.useState(0),[m,h]=f.useState(!1);f.useEffect(()=>{if(r==="results"){h(!0);const w=setTimeout(()=>{X.play("spokenWord-typing")},300),k=setTimeout(()=>{h(!1),X.play("spokenWord-mastered-ding")},3e3);return()=>{clearTimeout(w),clearTimeout(k)}}},[r]);const p=w=>{n(w),o("poem"),X.play("click")},x=(w,k)=>{X.play("spokenWord-line-select"),s(S=>({...S,[w]:k})),w==="stanza4"||i===Fi.length-1?(y({...a,[w]:k}),o("results")):l(S=>S+1)},y=w=>{let k=50;const S=Object.values(w),C=Fi.flatMap(L=>L.options.filter(F=>S.includes(F.id))),T={};C.forEach(L=>{L.themes.forEach(F=>{T[F]=(T[F]||0)+1})});const I=t;I&&T[I]&&(k+=T[I]*10);const A=[w.stanza1,w.stanza2,w.stanza3,w.stanza4];NL.some(L=>L.combination.every((F,z)=>A[z]===F))?(k=100,X.play("win")):X.play("click"),u(Math.min(100,Math.max(0,k)))};return{selectedTheme:t,gameStage:r,selectedOptions:a,currentStanzaIndex:i,score:c,isTypingPoem:m,handleThemeSelect:p,handleOptionSelect:x,getRanking:()=>cu.find(w=>c>=w.minScore)||cu[cu.length-1],getCompiledPoem:()=>Fi.map(w=>{const k=a[w.id],S=w.options.find(C=>C.id===k);return S?S.text:""}).filter(Boolean).join(`
`),handleContinue:()=>{r==="results"&&X.play("click"),setTimeout(()=>{const w=c>=70;e(w)},100)}}}const RL=({themes:e,onThemeSelect:t})=>{const n=r=>{switch(r){case"nature":return"/assets/minigames/summer/spokenWord/theme-icons-nature.png";case"connection":return"/assets/minigames/summer/spokenWord/theme-icons-human.png";case"ambition":return"/assets/minigames/summer/spokenWord/theme-icons-technology.png";case"knowledge":return"/assets/minigames/summer/spokenWord/theme-icons-mysticism.png";default:return"/assets/minigames/summer/spokenWord/theme-icons-nature.png"}};return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-2xl",children:e.map(r=>d.jsx(oe.div,{className:"p-4 rounded-lg border cursor-pointer relative overflow-hidden",style:{borderColor:`${r.color}50`,backgroundColor:`${r.color}10`,boxShadow:`0 4px 6px -1px ${r.color}20`},whileHover:{backgroundColor:`${r.color}20`,boxShadow:`0 8px 12px -1px ${r.color}30`,y:-5},transition:{duration:.2},onClick:()=>t(r.id),children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-12 w-12 rounded-full flex items-center justify-center bg-cover",style:{backgroundImage:`url(${n(r.id)})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:`${r.color}20`}}),d.jsx("div",{children:d.jsx("h3",{className:"font-semibold text-lg",style:{color:r.color},children:r.name})})]})},r.id))})},DL=({themes:e,stanzas:t,selectedTheme:n,currentStanzaIndex:r,selectedOptions:o,onOptionSelect:a})=>{const s=e.find(l=>l.id===n),i=t[r];return!s||!i?null:d.jsxs("div",{className:"w-full max-w-2xl",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsxs("h3",{className:"text-xl font-semibold mb-1",style:{color:s==null?void 0:s.color},children:["Theme: ",s==null?void 0:s.name]}),d.jsx("div",{className:"flex items-center justify-center gap-1 mb-2",children:t.map((l,c)=>d.jsx("div",{className:`w-3 h-3 rounded-full ${c===r?"bg-white":"bg-gray-600"} ${c<r?"bg-green-500":""}`,style:c===r?{backgroundColor:s==null?void 0:s.color}:{}},`progress-${c}`))}),d.jsxs("p",{className:"text-gray-400",children:["Stanza ",r+1," of ",t.length]})]}),r>0&&d.jsx("div",{className:"mb-6 p-6 rounded-lg",style:{backgroundImage:"url(/assets/minigames/summer/spokenWord/paper-background.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",boxShadow:`0 4px 6px -1px ${s.color}30`},children:t.slice(0,r).map((l,c)=>{const u=o[l.id],m=l.options.find(h=>h.id===u);return m?d.jsx("div",{className:"mb-3 italic text-gray-800 font-medium",children:m.text},`stanza-${c}`):null})}),d.jsx("div",{className:"text-gray-300 mb-4 text-lg font-medium",children:i.prompt}),d.jsx("div",{className:"space-y-3",children:i.options.map(l=>{var c;return d.jsx(oe.div,{className:"p-4 rounded-lg cursor-pointer backdrop-blur-sm",style:{backgroundColor:"rgba(30, 30, 40, 0.7)",border:"1px solid rgba(150, 150, 170, 0.2)"},whileHover:{backgroundColor:`rgba(${(c=s.color.substring(1).match(/.{2}/g))==null?void 0:c.map(u=>parseInt(u,16)).join(", ")}, 0.2)`,y:-2},whileTap:{scale:.98},onClick:()=>a(i.id,l.id),children:d.jsx("p",{className:"text-white",children:l.text})},l.id)})})]})},FL=({themes:e,selectedTheme:t,score:n,compiledPoem:r,ranking:o,onContinue:a})=>{const s=e.find(h=>h.id===t),[i,l]=f.useState(!1),[c,u]=f.useState(""),m=h=>{switch(h){case"Laureate":return"/assets/minigames/summer/spokenWord/mastery-icons-laureate.png";case"Lyricist":return"/assets/minigames/summer/spokenWord/mastery-icons-lyricist.png";case"Wordsmith":return"/assets/minigames/summer/spokenWord/mastery-icons-wordsmith.png";case"Acolyte":return"/assets/minigames/summer/spokenWord/mastery-icons-acolyte.png";default:return"/assets/minigames/summer/spokenWord/mastery-icons-acolyte.png"}};return f.useEffect(()=>{if(!r)return;let h=0;const p=50,x=()=>{h<r.length?(u(r.substring(0,h+1)),h++,setTimeout(x,p)):setTimeout(()=>{l(!0)},500)};return setTimeout(x,500),()=>{}},[r]),d.jsxs("div",{className:"w-full max-w-2xl",children:[d.jsx("div",{className:"mb-6 p-6 rounded-lg relative",style:{backgroundImage:"url(/assets/minigames/summer/spokenWord/paper-background.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",boxShadow:`0 4px 6px -1px ${(s==null?void 0:s.color)||"#9b87f5"}30`},children:d.jsx("div",{className:"whitespace-pre-line text-gray-800 font-medium leading-relaxed",children:c.split(`
`).map((h,p)=>d.jsx("p",{className:"mb-3 italic",children:h},`line-${p}`))})}),i&&d.jsx(oe.div,{className:"bg-gray-800/80 backdrop-blur-sm p-6 rounded-lg mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-24 h-24 mb-4 bg-contain bg-center bg-no-repeat",style:{backgroundImage:`url(${m(o.name)})`}}),d.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:s==null?void 0:s.color},children:o.name}),d.jsx("div",{className:"text-gray-300 mb-4 text-center",children:o.description}),d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx("div",{className:"text-4xl font-bold",children:n}),d.jsx("div",{className:"text-gray-400 ml-2",children:"/ 100"})]})]})}),d.jsx("div",{className:"flex justify-center",children:d.jsx(te,{onClick:a,className:"bg-[#9b87f5] hover:bg-[#7E69AB] text-white px-8 py-2",children:i?"Close":"View Mastery"})})]})},LL=({onComplete:e,onExit:t})=>{const{selectedTheme:n,gameStage:r,selectedOptions:o,currentStanzaIndex:a,score:s,handleThemeSelect:i,handleOptionSelect:l,getRanking:c,getCompiledPoem:u,handleContinue:m}=ML(e);f.useEffect(()=>{const p=["/assets/minigames/summer/spokenWord/paper-background.png","/assets/minigames/summer/spokenWord/theme-icons.png","/assets/minigames/summer/spokenWord/mastery-icons.png"];return De.preloadAssets(p,(x,y)=>{console.log(`Loaded ${x}/${y} Spoken Word assets`)}).then(()=>{console.log("All Spoken Word assets loaded")}),()=>{X.stopMusic()}},[]);const h=()=>{switch(r){case"theme":return"Choose a theme for your poem. Different themes resonate with different characters.";case"poem":return"Create your poem by selecting options for each stanza. Choose carefully to maintain thematic coherence.";case"results":return"Your poem is complete! See how well you maintained the theme.";default:return""}};return d.jsx(qm,{title:"Spoken Word: Poetry Game",instructions:h(),onComplete:m,onExit:t,children:d.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-4xl mx-auto",children:[r==="theme"&&d.jsx(RL,{themes:lu,onThemeSelect:i}),r==="poem"&&n&&d.jsx(DL,{themes:lu,stanzas:Fi,selectedTheme:n,currentStanzaIndex:a,selectedOptions:o,onOptionSelect:l}),r==="results"&&n&&d.jsx(FL,{themes:lu,selectedTheme:n,score:s,compiledPoem:u(),ranking:c(),onContinue:m})]})})},OL=e=>{const[t,n]=f.useState("gameplay"),[r,o]=f.useState(60),[a,s]=f.useState(null),[i,l]=f.useState(0),[c,u]=f.useState(0),[m,h]=f.useState("failure"),[p,x]=f.useState(!1),[y,b]=f.useState(!1),g=f.useCallback(()=>{const S=Math.random()>.5?"good":"bad",C=Math.floor(Math.random()*3);return{type:S,index:C}},[]);f.useEffect(()=>{t==="gameplay"&&!a&&(s(g()),X.playSFX("lookingSigns-clue-found"))},[t,a,g]),f.useEffect(()=>{if(t!=="gameplay"||p)return;const S=setInterval(()=>{o(C=>C<=1?(clearInterval(S),v(),0):C-1)},1e3);return()=>clearInterval(S)},[t,p]);const v=f.useCallback(()=>{x(!0);const S=i+c,T=(S>0?i/S*100:0)>=51;h(T?"success":"failure"),n("results")},[i,c]),w=f.useCallback(S=>{if(!a||p||y)return;a.type==="good"&&S==="right"||a.type==="bad"&&S==="left"?(X.playSFX("lookingSigns-sign-sorted"),l(T=>T+1)):(X.playSFX("lookingSigns-sort-wrong"),u(T=>T+1)),b(!0),setTimeout(()=>{s(g()),b(!1)},1e3)},[a,p,g,y]),k=f.useCallback(()=>{e(m==="success")},[m,e]);return{gameStage:t,timeRemaining:r,currentSign:a,score:i,incorrectScore:c,handleSignSort:w,gameResult:m,handleGameComplete:k,signAnimating:y}},VL=({currentSign:e,timeRemaining:t,score:n,incorrectScore:r,onSortSign:o,signAnimating:a})=>{const s=(i,l)=>{const c={good:["/assets/minigames/winter/lookingSigns/sign-clues-coin.png","/assets/minigames/winter/lookingSigns/sign-clues-bird.png","/assets/minigames/winter/lookingSigns/sign-clues-heartcharm.png"],bad:["/assets/minigames/winter/lookingSigns/sign-clues-brokenclock.png","/assets/minigames/winter/lookingSigns/sign-clues-blackcat.png","/assets/minigames/winter/lookingSigns/sign-clues-evileye.png"]};return c[i][l]||c.good[0]};return d.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"w-full flex justify-between items-center",children:[d.jsx("div",{className:"text-2xl font-bold",children:d.jsxs("span",{className:"text-green-400",children:["Good: ",n]})}),d.jsx("div",{className:"px-4 py-2 bg-[#1A1F2C] rounded-md border border-[#9b87f5]/30",children:d.jsxs("span",{className:"text-xl font-mono",children:[Math.floor(t/60),":",(t%60).toString().padStart(2,"0")]})}),d.jsx("div",{className:"text-2xl font-bold",children:d.jsxs("span",{className:"text-red-400",children:["Bad: ",r]})})]}),d.jsxs("div",{className:"w-full h-80 relative rounded-lg overflow-hidden flex flex-col items-center justify-center",style:{backgroundImage:"url(/assets/minigames/winter/lookingSigns/signs-background.png)",backgroundSize:"cover",backgroundPosition:"center"},children:[d.jsx(Vl,{mode:"wait",children:e&&!a&&d.jsx(oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4},className:"w-40 h-40 bg-contain bg-center bg-no-repeat mb-4",style:{backgroundImage:`url(${s(e.type,e.index)})`}},`${e.type}-${e.index}-${Date.now()}`)}),d.jsxs("div",{className:"flex justify-center gap-12 mt-2",children:[d.jsxs(te,{variant:"destructive",className:"w-40 h-16 text-xl flex items-center gap-2",onClick:()=>o("left"),disabled:a,children:[d.jsx(gM,{className:"w-6 h-6"}),"Bad Omen"]}),d.jsxs(te,{variant:"default",className:"w-40 h-16 text-xl bg-green-600 hover:bg-green-700 flex items-center gap-2",onClick:()=>o("right"),disabled:a,children:["Good Luck",d.jsx(yM,{className:"w-6 h-6"})]})]})]})]})},$L=({score:e,incorrectScore:t,gameResult:n,onContinue:r})=>{const o=e+t,a=o>0?Math.round(e/o*100):0,s=n==="success";return d.jsx("div",{className:"flex flex-col items-center gap-6 max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-sm p-8 rounded-lg text-center w-full max-w-xl",children:[d.jsx(oe.div,{className:"mb-6 flex justify-center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:s?d.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center text-white",children:d.jsx($b,{className:"w-12 h-12"})}):d.jsx("div",{className:"w-20 h-20 bg-red-600 rounded-full flex items-center justify-center text-white",children:d.jsx(ra,{className:"w-12 h-12"})})}),d.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:s?"Favorable Fortune":"An Unfortunate Reading..."}),d.jsx("p",{className:"text-gray-300 mb-6",children:s?"Your accurate interpretation of the signs shows you can discern true meaning. Your fortune is bright!":"You have misinterpreted too many signs. Your fortune is clouded."}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-3xl font-bold text-green-400",children:e}),d.jsx("div",{className:"text-gray-400 text-sm",children:"Correct"})]}),d.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[d.jsx("div",{className:"text-3xl font-bold text-red-400",children:t}),d.jsx("div",{className:"text-gray-400 text-sm",children:"Incorrect"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Accuracy"}),d.jsx("div",{className:"h-4 bg-gray-700 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full ${a>=51?"bg-green-500":"bg-red-500"}`,style:{width:`${a}%`}})}),d.jsxs("div",{className:"text-right text-sm mt-1 text-gray-400",children:[a,"%"]}),d.jsx("div",{className:"text-xs mt-2 text-gray-500",children:"(51% accuracy or higher is needed to succeed)"})]}),d.jsx(te,{className:"px-8 py-2 text-lg",onClick:r,variant:s?"default":"secondary",children:"Continue"})]})})},_L=({onComplete:e,onExit:t})=>{const{gameStage:n,timeRemaining:r,currentSign:o,score:a,incorrectScore:s,handleSignSort:i,gameResult:l,handleGameComplete:c,signAnimating:u}=OL(e);f.useEffect(()=>{const p=["/assets/minigames/winter/lookingSigns/signs-background.png","/assets/minigames/winter/lookingSigns/sign-clues-coin.png","/assets/minigames/winter/lookingSigns/sign-clues-bird.png","/assets/minigames/winter/lookingSigns/sign-clues-heartcharm.png","/assets/minigames/winter/lookingSigns/sign-clues-brokenclock.png","/assets/minigames/winter/lookingSigns/sign-clues-blackcat.png","/assets/minigames/winter/lookingSigns/sign-clues-evileye.png"];return De.preloadAssets(p,(x,y)=>{console.log(`Loaded ${x}/${y} Looking Signs assets`)}).then(()=>{console.log("All Looking Signs assets loaded"),X.playMusic("lookingSigns-loop-gameplay.mp3",{loop:!0,volume:.4})}),()=>{X.stopMusic()}},[]);const m=()=>{switch(n){case"gameplay":return"Sort the signs by clicking the correct arrow. Good luck signs go RIGHT, bad luck signs go LEFT. You have 60 seconds!";case"results":return"Game complete! See how well you did at finding auspicious signs.";default:return""}},h=()=>{console.log("Exiting minigame without completion"),console.log("Returning to festival activities: winter-festival-activities"),t()};return d.jsxs(qm,{title:"Looking Signs: Fortune Reading",instructions:m(),onComplete:()=>c(),onExit:h,children:[n==="gameplay"&&d.jsx(VL,{currentSign:o,timeRemaining:r,score:a,incorrectScore:s,onSortSign:i,signAnimating:u}),n==="results"&&d.jsx($L,{score:a,incorrectScore:s,gameResult:l,onContinue:c})]})},BL=({locations:e,currentLocationIndex:t,selectLocation:n})=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h3",{className:"text-xl mb-4",children:"Choose your location"}),d.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:e.map((r,o)=>d.jsxs("button",{className:`relative p-1 border-2 ${t===o?"border-[#9b87f5]":"border-transparent"}`,onClick:()=>{n(o),X.playSFX("ui-click",!1)},children:[d.jsx("img",{src:r.src,alt:r.name,className:"w-32 h-24 object-cover rounded"}),d.jsx("div",{className:"mt-1 text-center text-sm",children:r.name})]},r.id))})]}),zL=({frames:e,selectFrame:t})=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h3",{className:"text-xl mb-4",children:"Choose a frame"}),d.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:e.map(n=>d.jsxs("button",{className:"relative p-1 border-2 border-transparent hover:border-[#9b87f5] transition-colors",onClick:()=>{t(n.id),X.playSFX("memoriesDate-frame-select")},children:[d.jsx("img",{src:n.src,alt:n.name,className:"w-32 h-32 object-contain rounded"}),d.jsx("div",{className:"mt-1 text-center text-sm",children:n.name})]},n.id))})]}),WL=({stickers:e,selectSticker:t,onComplete:n,currentStickers:r})=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h3",{className:"text-xl mb-4",children:"Add stickers to your photo"}),d.jsxs("div",{className:"mb-6 w-full max-w-md bg-gray-800 rounded-lg p-4",children:[d.jsx("div",{className:"text-center mb-2",children:"Selected stickers:"}),d.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:r.length===0?d.jsx("span",{className:"text-gray-500",children:"No stickers selected yet"}):r.map((o,a)=>d.jsx("div",{className:"flex items-center bg-gray-700 rounded px-2 py-1",children:d.jsx("span",{className:"text-xs",children:o.name})},a))})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:e.map(o=>d.jsxs("button",{className:`relative p-1 border-2 ${r.some(a=>a.id===o.id)?"border-[#9b87f5]":"border-transparent"} hover:border-[#7e69AB] transition-colors`,onClick:()=>{t(o.id),X.playSFX("memoriesDate-sticker-select",!1)},children:[d.jsx("img",{src:o.src,alt:o.name,className:"w-32 h-32 object-contain rounded"}),d.jsx("div",{className:"mt-1 text-center text-sm",children:o.name})]},o.id))}),d.jsxs(te,{onClick:n,className:"bg-purple-700 hover:bg-purple-600 mt-4",children:["Complete Photo ",d.jsx(IM,{className:"ml-2 w-4 h-4"})]})]}),HL=({photos:e,onFinish:t})=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("h3",{className:"text-xl mb-4 flex items-center",children:[d.jsx(Ed,{className:"mr-2 text-pink-500"})," Your Memory Album ",d.jsx(Ed,{className:"ml-2 text-pink-500"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:e.map((n,r)=>d.jsxs("div",{className:"relative bg-gray-800 p-3 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.location.src,alt:n.location.name,className:"w-full h-48 object-cover rounded"}),d.jsx("img",{src:n.frame.src,alt:n.frame.name,className:"absolute top-0 left-0 w-full h-full object-contain",style:{transform:`translate(${n.framePosition.x-50}%, ${n.framePosition.y-50}%) scale(${n.frameSize/200})`}}),d.jsx("img",{src:n.sticker.src,alt:n.sticker.name,className:"absolute",style:{top:`${n.stickerPosition.y}%`,left:`${n.stickerPosition.x}%`,width:"30%",transform:"translate(-50%, -50%)"}})]}),d.jsxs("div",{className:"mt-2 text-center text-sm",children:[d.jsx("div",{className:"font-semibold",children:n.location.name}),d.jsxs("div",{className:"text-gray-400 text-xs flex items-center justify-center",children:[d.jsx(xM,{className:"w-3 h-3 mr-1"})," Memory #",r+1]})]})]},r))}),d.jsxs(te,{onClick:t,className:"bg-green-700 hover:bg-green-600 mt-6 flex items-center",children:[d.jsx($b,{className:"mr-2"})," Complete Memory Album"]})]}),UL=({photos:e,activePhotoIndex:t,currentStep:n,onExit:r,onCompletePhoto:o})=>d.jsxs("div",{className:"flex justify-between mt-4",children:[d.jsx(te,{variant:"outline",onClick:r,className:"bg-red-800 hover:bg-red-700 text-white",children:"Exit"}),d.jsx("div",{className:"flex space-x-2",children:e.map((a,s)=>d.jsx("div",{className:`w-3 h-3 rounded-full ${t===s?"bg-purple-500":a.completed?"bg-green-500":"bg-gray-500"}`},s))}),n==="sticker"&&d.jsx(te,{variant:"default",onClick:o,className:"bg-purple-700 hover:bg-purple-600",children:"Complete Photo"})]}),YL=()=>{const[e]=f.useState([{id:"market",name:"Autumn Market",src:"/assets/minigames/autumn/memoriesDate/market-backdrop.png"},{id:"overlook",name:"City Overlook",src:"/assets/minigames/autumn/memoriesDate/overlook-backdrop.png"},{id:"boardwalk",name:"Boardwalk",src:"/assets/minigames/autumn/memoriesDate/boardwalk-backdrop.png"}]),[t]=f.useState([{id:"neon",name:"Neon Frame",src:"/assets/minigames/autumn/memoriesDate/frames-neon.png"},{id:"gears",name:"Gear Frame",src:"/assets/minigames/autumn/memoriesDate/frames-gears.png"},{id:"circle",name:"Circle Frame",src:"/assets/minigames/autumn/memoriesDate/frames-circle.png"}]),[n]=f.useState([{id:"bestday",name:"Best Day",src:"/assets/minigames/autumn/memoriesDate/stickers-bestday.png"},{id:"kitten",name:"Kitten",src:"/assets/minigames/autumn/memoriesDate/stickers-kitten.png"},{id:"sparklehearts",name:"Sparkle Hearts",src:"/assets/minigames/autumn/memoriesDate/stickers-sparklehearts.png"},{id:"sparklegears",name:"Sparkle Gears",src:"/assets/minigames/autumn/memoriesDate/stickers-sparklegears.png"}]),[r,o]=f.useState(""),[a,s]=f.useState(""),[i,l]=f.useState([]),[c,u]=f.useState(!1);return{locations:e,frames:t,stickers:n,selectedBackdrop:r,selectedFrame:a,selectedStickers:i,setSelectedBackdrop:o,setSelectedFrame:s,setSelectedStickers:l,isCompleted:c,reset:()=>{o(""),s(""),l([]),u(!1)},complete:()=>{u(!0)}}},GL=e=>{const[t,n]=f.useState("location"),[r,o]=f.useState(0),[a,s]=f.useState([{id:"1",location:{id:"",name:"",src:""},frame:{id:"",name:"",src:""},stickers:[],completed:!1},{id:"2",location:{id:"",name:"",src:""},frame:{id:"",name:"",src:""},stickers:[],completed:!1},{id:"3",location:{id:"",name:"",src:""},frame:{id:"",name:"",src:""},stickers:[],completed:!1}]),[i,l]=f.useState(""),c=YL(),[u,m]=f.useState(0);return f.useEffect(()=>(X.playSFX("memoriesDate-loop-gameplay",!0),()=>{X.stopSFX("memoriesDate-loop-gameplay")}),[]),{currentStep:t,activePhotoIndex:r,successMessage:i,selectedLocationIndex:u,photos:a,memoriesDateState:c,handleLocationSelect:v=>{m(v),n("frame")},handleFrameSelect:v=>{const w=c.frames.find(k=>k.id===v);if(w){X.playSFX("memoriesDate-frame-select",!1);const k=[...a];k[r]={...k[r],frame:w,location:c.locations[u]},s(k),n("sticker")}},handleStickerSelect:v=>{const w=c.stickers.find(k=>k.id===v);if(w){X.playSFX("memoriesDate-sticker-place",!1);const k=[...a];k[r].stickers=[...k[r].stickers||[],w],s(k)}},handlePhotoComplete:()=>{X.playSFX("memoriesDate-camera-click",!1);const v=[...a];v[r].completed=!0,s(v),r<a.length-1?(o(r+1),n("location"),Q.success("Photo saved! Let's take another one.")):(l("You've completed your memory book!"),n("gallery"),Q.success("Memory book complete!"))},handleFinish:()=>{e(!0)},getDisplayPhotos:()=>a.filter(v=>v.completed).map(v=>{const w=v.stickers.length>0?v.stickers[0]:c.stickers[0];return{id:v.id,location:v.location,frame:v.frame,sticker:w,framePosition:{x:50,y:50},stickerPosition:{x:Math.random()*70+15,y:Math.random()*70+15},frameSize:100,loveInterest:void 0}})}},XL=({onComplete:e,onExit:t})=>{var x;const{currentStep:n,activePhotoIndex:r,successMessage:o,selectedLocationIndex:a,photos:s,memoriesDateState:i,handleLocationSelect:l,handleFrameSelect:c,handleStickerSelect:u,handlePhotoComplete:m,handleFinish:h,getDisplayPhotos:p}=GL(e);return d.jsxs("div",{className:"flex flex-col h-full w-full bg-gray-900 text-white p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Memories Date"}),d.jsx("p",{className:"text-gray-400",children:n==="gallery"?"Your memory book is complete!":"Create memories together by making a photo album"}),o&&n==="gallery"&&d.jsx("p",{className:"text-green-400 mt-2",children:o})]}),n==="location"&&d.jsx(BL,{locations:i.locations,currentLocationIndex:a,selectLocation:l}),n==="frame"&&d.jsx(zL,{frames:i.frames,selectFrame:c}),n==="sticker"&&d.jsx(WL,{stickers:i.stickers,selectSticker:u,onComplete:m,currentStickers:((x=s[r])==null?void 0:x.stickers)||[]}),n==="gallery"&&d.jsx(HL,{photos:p(),onFinish:h}),d.jsx(UL,{photos:s,activePhotoIndex:r,currentStep:n,onExit:t,onCompletePhoto:m})]})},KL=({activeMinigame:e,completeMinigame:t,exitMinigame:n})=>{if(console.log(`MinigameHandler rendering with activeMinigame: ${e}`),f.useEffect(()=>{if(e==="memoriesDate"){console.log("Preloading MemoriesDate assets");const r=["/assets/minigames/autumn/memoriesDate/market-backdrop.png","/assets/minigames/autumn/memoriesDate/overlook-backdrop.png","/assets/minigames/autumn/memoriesDate/boardwalk-backdrop.png","/assets/minigames/autumn/memoriesDate/frames-neon.png","/assets/minigames/autumn/memoriesDate/frames-gears.png","/assets/minigames/autumn/memoriesDate/frames-circle.png","/assets/minigames/autumn/memoriesDate/stickers-bestday.png","/assets/minigames/autumn/memoriesDate/stickers-kitten.png","/assets/minigames/autumn/memoriesDate/stickers-sparklehearts.png","/assets/minigames/autumn/memoriesDate/stickers-sparklegears.png"];De.preloadAssets(r,(o,a)=>{console.log(`Loaded ${o}/${a} MemoriesDate assets`)}).then(()=>{console.log("All MemoriesDate assets preloaded")}).catch(o=>{console.error("Failed to preload MemoriesDate assets:",o)})}else if(e==="crafter"){console.log("Preloading Crafter assets");const r=["/assets/minigames/autumn/crafter/workshop-background.png","/assets/minigames/autumn/crafter/fabricBase.png","/assets/minigames/autumn/crafter/metalBase.png","/assets/minigames/autumn/crafter/woodBase.png","/assets/minigames/autumn/crafter/accents-button.png","/assets/minigames/autumn/crafter/accents-gearcharm.png","/assets/minigames/autumn/crafter/accents-glass.png","/assets/minigames/autumn/crafter/accents-leaf.png","/assets/minigames/autumn/crafter/accents-ribbon.png"];De.preloadAssets(r,(o,a)=>{console.log(`Loaded ${o}/${a} Crafter assets`)}).then(()=>{console.log("All Crafter assets preloaded")}).catch(o=>{console.error("Failed to preload Crafter assets:",o)})}else if(e==="bloomWithAView"){console.log("Preloading BloomWithAView assets");const r=["/assets/minigames/spring/bloomwithAView/garden-background.jpg","/assets/minigames/spring/bloomwithAView/hidden-objects.png","/assets/minigames/spring/bloomwithAView/flower-tiles.png"];De.preloadAssets(r,(o,a)=>{console.log(`Loaded ${o}/${a} BloomWithAView assets`)}).then(()=>{console.log("All BloomWithAView assets preloaded")}).catch(o=>{console.error("Failed to preload assets:",o)})}else if(e==="spokenWord"){console.log("Preloading SpokenWord assets");const r=["/assets/minigames/summer/spokenWord/paper-background.png","/assets/minigames/summer/spokenWord/theme-icons.png","/assets/minigames/summer/spokenWord/mastery-icons.png"];De.preloadAssets(r,(o,a)=>{console.log(`Loaded ${o}/${a} SpokenWord assets`)}).then(()=>{console.log("All SpokenWord assets preloaded")}).catch(o=>{console.error("Failed to preload SpokenWord assets:",o)})}else if(e==="lookingSigns"){console.log("Preloading LookingSigns assets");const r=["/assets/minigames/winter/lookingSigns/signs-background.png","/assets/minigames/winter/lookingSigns/sign-clues.png"];De.preloadAssets(r,(o,a)=>{console.log(`Loaded ${o}/${a} LookingSigns assets`)}).then(()=>{console.log("All LookingSigns assets preloaded")}).catch(o=>{console.error("Failed to preload LookingSigns assets:",o)})}e&&console.log(`MinigameHandler: Starting minigame ${e}`)},[e]),f.useEffect(()=>{e&&!qL(e)&&(console.error(`Invalid minigame type: ${e}`),Q.error("Error loading minigame. Returning to game."),n())},[e,n]),!e)return null;switch(e){case"bloomWithAView":return d.jsx(SL,{onComplete:t,onExit:n});case"crafter":return d.jsx(PL,{onComplete:t,onExit:n});case"spokenWord":return d.jsx(LL,{onComplete:t,onExit:n});case"lookingSigns":return d.jsx(_L,{onComplete:t,onExit:n});case"memoriesDate":return d.jsx(XL,{onComplete:t,onExit:n});default:return d.jsx(iL,{minigameType:e,onComplete:t,onExit:n})}};function qL(e){return["broomsAway","mudFling","bloomWithAView","serenade","spokenWord","whatsOnTap","tourGuide","crafter","memoriesDate","charityAuction","galaDance","lookingSigns"].includes(e)}const QL=e=>({"spring-festival-activities":[{id:"brooms-away",title:"Brooms Away!",description:"Help coordinate the cleanup efforts with the automated drones",color:"#4CC2FF",sceneId:"spring-brooms-away-intro"},{id:"mud-fling",title:"Mud Fling",description:"Participate in the playful mud fling competition at the festival",color:"#FFB347",sceneId:"spring-mud-fling-intro"},{id:"bloom-view",title:"Bloom with a View",description:"Assist residents with planting flowers and creating garden displays",color:"#9C89FF",sceneId:"spring-bloom-view-intro"}],"summer-festival-activities":[{id:"serenade",title:"Serenade",description:"Experience the interactive rhythm game at the music stages",color:"#4CC2FF",sceneId:"summer-serenade-intro"},{id:"spoken-word",title:"Spoken Word",description:"Participate in the poetry competition by crafting your own verses",color:"#9C89FF",sceneId:"summer-spoken-word-intro"},{id:"whats-on-tap",title:"What's On-Tap?",description:"Work the beer tent and serve drinks to festival attendees",color:"#FFB347",sceneId:"summer-whats-on-tap-intro"}],"autumn-festival-activities":[{id:"tour-guide",title:"Tour Guide",description:"Match up tour itineraries with guests",color:"#FF5E5B",sceneId:"autumn-tour-guide-intro"},{id:"crafter",title:"Crafter",description:"Create a custom item at the DIY crafting booth",color:"#9C89FF",sceneId:"autumn-crafter-intro"},{id:"memories-date",title:"Making Memories Date",description:"Go on a sightseeing date with someone special",color:"#0D98BA",sceneId:"autumn-memories-date-intro",available:e.currentLoveInterest!==void 0}],"winter-festival-activities":[{id:"charity-auction",title:"Charity Auction",description:"Bid on items in the silent auction",color:"#FFB347",sceneId:"winter-charity-auction-intro"},{id:"gala-dance",title:"Gala Dance",description:"Dance with someone special at the gala",color:"#4CC2FF",sceneId:"winter-gala-dance-intro",available:e.currentLoveInterest!==void 0},{id:"looking-signs",title:"Looking for Signs",description:"Take a walk to search for signs of love",color:"#9C89FF",sceneId:"winter-looking-signs-intro",available:e.currentLoveInterest!==void 0}]}),ZL=({jumpTargets:e,onJumpToScene:t,isDev:n=!1})=>{const[r,o]=f.useState(!1),[a,s]=f.useState(""),i=a.length>0?e.filter(u=>u.label.toLowerCase().includes(a.toLowerCase())||u.id.toLowerCase().includes(a.toLowerCase())):e,l={};i.forEach(u=>{const m=u.season||"Other";l[m]||(l[m]=[]),l[m].push(u)});const c=u=>{t(u),Q.success(`Jumping to: ${u}`),o(!1)};return n?d.jsxs("div",{className:"fixed top-4 left-4 z-50",children:[d.jsx(te,{onClick:()=>o(!r),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 text-sm rounded shadow",children:r?"Hide Dev Menu":"Show Dev Menu"}),r&&d.jsxs(Km,{className:"mt-2 bg-black/90 p-4 rounded shadow w-72 border-yellow-600 overflow-hidden",children:[d.jsx("div",{className:"mb-2",children:d.jsx("input",{type:"text",placeholder:"Search scenes...",className:"w-full p-2 bg-gray-800 text-white rounded text-sm",value:a,onChange:u=>s(u.target.value)})}),d.jsxs("div",{className:"max-h-96 overflow-y-auto pr-1",children:[Object.entries(l).map(([u,m])=>d.jsxs("div",{className:"mb-2",children:[d.jsx("h3",{className:"text-white text-sm font-bold border-b border-yellow-600/50 pb-1 mb-1",children:u}),d.jsx("div",{className:"flex flex-col space-y-1",children:m.map(({id:h,label:p})=>d.jsx(te,{onClick:()=>c(h),className:"text-xs justify-start bg-gray-800 hover:bg-gray-700",title:`Jump to scene: ${h}`,children:p},h))})]},u)),i.length===0&&d.jsx("p",{className:"text-gray-400 text-center py-2",children:"No matching scenes found"})]}),d.jsxs("div",{className:"mt-2 pt-2 border-t border-yellow-600/50 text-xs text-gray-400",children:[d.jsx("p",{children:"Click on a scene to jump there"}),d.jsx("p",{className:"mt-1",children:"Season will be automatically updated"})]})]})]}):null},Jr=({onJumpToScene:e})=>{const{gameState:t,setGameState:n}=qe(),r=[{id:"prologue-intro",label:"Prologue Intro",season:"prologue"},{id:"spring-intro",label:"Spring Intro",season:"spring"},{id:"summer-intro",label:"Summer Intro",season:"summer"},{id:"autumn-intro",label:"Autumn Intro",season:"autumn"},{id:"winter-intro",label:"Winter Intro",season:"winter"},{id:"epilogue-route",label:"Epilogue",season:"epilogue"},{id:"spring-character-selection",label:"Spring Character Select",season:"spring"},{id:"summer-character-selection",label:"Summer Character Select",season:"summer"},{id:"autumn-character-path",label:"Autumn Romance Path",season:"autumn"},{id:"winter-planning-character",label:"Winter Romance Path",season:"winter"},{id:"spring-festival-planning",label:"Spring Festival Planning",season:"spring"},{id:"spring-festival-activities",label:"Spring Festival Activities",season:"spring"},{id:"summer-planning",label:"Summer Festival Planning",season:"summer"},{id:"summer-festival-activities",label:"Summer Festival Activities",season:"summer"},{id:"autumn-festival-introduction",label:"Autumn Festival",season:"autumn"},{id:"autumn-festival-activities",label:"Autumn Festival Activities",season:"autumn"},{id:"winter-planning",label:"Winter Festival Planning",season:"winter"},{id:"winter-festival-intro",label:"Winter Festival",season:"winter"},{id:"winter-festival-activities",label:"Winter Festival Activities",season:"winter"},{id:"spring-bloom-view-start",label:"Bloom With A View",season:"spring"},{id:"spring-brooms-away-start",label:"Brooms Away",season:"spring"},{id:"spring-mud-fling-start",label:"Mud Fling",season:"spring"},{id:"summer-serenade-start",label:"Serenade",season:"summer"},{id:"summer-spoken-word-start",label:"Spoken Word",season:"summer"},{id:"summer-whats-on-tap-start",label:"What's On Tap",season:"summer"},{id:"autumn-crafter-start",label:"Crafter",season:"autumn"},{id:"autumn-tour-guide-start",label:"Tour Guide",season:"autumn"},{id:"autumn-memories-date-start",label:"Memories Date",season:"autumn"},{id:"winter-charity-auction-start",label:"Charity Auction",season:"winter"},{id:"winter-gala-dance-start",label:"Gala Dance",season:"winter"},{id:"winter-looking-signs-start",label:"Looking Signs",season:"winter"},{id:"crafter",label:"Crafter Game Direct",season:"autumn"}],o=(a,s)=>{console.log(`Dev Jump: Transitioning to scene ${a} with season ${s}`),n(i=>({...i,currentSeason:s})),e(a),console.log(`Dev Jump completed to: ${a}`)};return d.jsx(ZL,{jumpTargets:r,onJumpToScene:a=>{const s=r.find(i=>i.id===a);s&&s.season?o(a,s.season):e(a)}})},JL=({gameState:e,activeMinigame:t,completeMinigame:n,exitMinigame:r,handleSceneTransition:o,handleNewGame:a,handleAbout:s,loadingComplete:i=!0,gameStarted:l=!1,initialSceneId:c})=>{const u=QL(e);if(e.currentScene==="start")return d.jsxs(d.Fragment,{children:[d.jsx(Wk,{onNewGame:a,onAbout:s,loadingComplete:i}),d.jsx(Jr,{onJumpToScene:o})]});if(e.currentScene==="about")return d.jsx(sL,{});if(t)return d.jsxs(d.Fragment,{children:[d.jsx(KL,{activeMinigame:t,completeMinigame:n,exitMinigame:r}),d.jsx(Jr,{onJumpToScene:o})]});if(e.currentScene==="spring-character-selection"||/^spring-character-selection-\d+$/.test(e.currentScene))return d.jsxs(d.Fragment,{children:[d.jsx(cy,{season:"spring",sceneId:e.currentScene,gameState:e}),d.jsx(Jr,{onJumpToScene:o})]});if(e.currentScene==="summer-character-selection"||/^summer-character-selection-\d+$/.test(e.currentScene)||e.currentScene==="summer-visit-character")return console.log("Rendering summer character selection view"),d.jsxs(d.Fragment,{children:[d.jsx(cy,{season:"summer",sceneId:e.currentScene==="summer-visit-character"?"summer-character-selection":e.currentScene,gameState:e}),d.jsx(Jr,{onJumpToScene:o})]});if(["spring-festival-activities","summer-festival-activities","autumn-festival-activities","winter-festival-activities"].includes(e.currentScene)){const h=e.currentScene.split("-")[0],p=u[e.currentScene]||[];return console.log(`Rendering ${h} festival activities view with ${p.length} activities`),d.jsxs(d.Fragment,{children:[d.jsx(tL,{sceneId:e.currentScene,activities:p.map(x=>({...x,available:x.available!==void 0?x.available:!0})),season:h}),d.jsx(Jr,{onJumpToScene:o})]})}return d.jsxs(d.Fragment,{children:[d.jsx(GF,{}),d.jsx(Jr,{onJumpToScene:o})]})},e5=()=>{const{gameState:e,handleSceneTransition:t}=qe(),{routeToEpilogue:n}=Kx(e,r=>r);return f.useEffect(()=>{const{currentScene:r,currentLoveInterest:o}=e;if(r==="epilogue-route")t(n(r));else if(r==="happy-ending-character"&&o)t(`happy-ending-${o}`);else if(["autumn-character","winter-planning-character","winter-confession-character"].includes(r)){console.log(`Special character scene routing for: ${r} with interest: ${o}`);const a={"autumn-character":"autumn-festival-intro","winter-planning-character":"winter-festival-intro","winter-confession-character":"team-future-meeting"};if(o)if(r==="autumn-character")console.log(`Routing to autumn scene for: ${o}`),t(`autumn-${o}`);else{const s=r.replace("-character","");t(`${s}-${o}`)}else t(a[r])}else r==="winter-planning"&&e.dialogueIndex===2&&e.showChoices&&o&&(console.log(`Auto-transitioning from winter-planning to winter-planning-character for ${o}`),t("winter-planning-character"))},[e.currentScene,e.currentLoveInterest,e.dialogueIndex,e.showChoices,t,n]),null},t5=({isTransitioning:e,duration:t=300})=>{const[n,r]=f.useState(!1);return f.useEffect(()=>{if(e){r(!0);const o=setTimeout(()=>{r(!1)},t+200);return()=>clearTimeout(o)}},[e,t]),d.jsx(Vl,{children:(e||n)&&d.jsx(oe.div,{className:"fixed inset-0 bg-black z-50 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:t/1e3}})})},n5=({initialSceneId:e,gameStarted:t=!1})=>{const{gameState:n,handleNewGame:r,handleAbout:o,activeMinigame:a,completeMinigame:s,exitMinigame:i,handleSceneTransition:l,isTransitioning:c,transitionDuration:u}=qe(),[m,h]=f.useState(!1),[p,x]=f.useState(!0);return f.useEffect(()=>{console.log("GameInterface rendering with scene:",n.currentScene),console.log("Current scene data:",Re[n.currentScene]),n.currentScene==="summer-character-selection"&&(console.log("Summer character selection scene triggered in GameInterface"),console.log("Scene exists in allScenes:",!!Re["summer-character-selection"])),!m&&e&&e!==n.currentScene&&t&&(console.log(`Initializing GameInterface with scene: ${e}`),l(e),h(!0))},[n.currentScene,e,l,m,t]),d.jsxs(d.Fragment,{children:[d.jsx(t5,{isTransitioning:c,duration:u}),d.jsx(e5,{}),d.jsx(JL,{gameState:n,activeMinigame:a,completeMinigame:s,exitMinigame:i,handleSceneTransition:l,handleNewGame:r,handleAbout:o,loadingComplete:p,gameStarted:t,initialSceneId:e})]})},r5=D.memo(n5),o5=[{id:"bloom-background",name:"Bloom With a View Background",src:"/assets/minigames/spring/bloomwithAView/garden-background.jpg",description:"Garden background for Bloom With a View",priority:!0,category:"background"},{id:"hidden-objects-wateringcan",name:"Watering Can",src:"/assets/minigames/spring/bloomwithAView/hidden-objects-wateringcan.png",description:"Watering can hidden object",priority:!0,category:"item"},{id:"hidden-objects-gloves",name:"Gardening Gloves",src:"/assets/minigames/spring/bloomwithAView/hidden-objects-gloves.png",description:"Gardening gloves hidden object",priority:!0,category:"item"},{id:"hidden-objects-beedrone",name:"Bee Drone",src:"/assets/minigames/spring/bloomwithAView/hidden-objects-beedrone.png",description:"Bee drone hidden object",priority:!0,category:"item"},{id:"hidden-objects-seedpacket",name:"Seed Packet",src:"/assets/minigames/spring/bloomwithAView/hidden-objects-seedpacket.png",description:"Seed packet hidden object",priority:!0,category:"item"},{id:"hidden-objects-butterfly",name:"Butterfly",src:"/assets/minigames/spring/bloomwithAView/hidden-objects-butterfly.png",description:"Butterfly hidden object",priority:!0,category:"item"},{id:"flower-tiles",name:"Flower Tiles",src:"/assets/minigames/spring/bloomwithAView/flower-tiles.png",description:"Flower tiles for Bloom With a View",priority:!1,category:"item"},{id:"flower-tiles-1",name:"Flower Tile 1",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-1.png",description:"Individual flower tile 1",priority:!0,category:"item"},{id:"flower-tiles-2",name:"Flower Tile 2",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-2.png",description:"Individual flower tile 2",priority:!0,category:"item"},{id:"flower-tiles-3",name:"Flower Tile 3",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-3.png",description:"Individual flower tile 3",priority:!0,category:"item"},{id:"flower-tiles-4",name:"Flower Tile 4",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-4.png",description:"Individual flower tile 4",priority:!0,category:"item"},{id:"flower-tiles-5",name:"Flower Tile 5",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-5.png",description:"Individual flower tile 5",priority:!0,category:"item"},{id:"flower-tiles-6",name:"Flower Tile 6",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-6.png",description:"Individual flower tile 6",priority:!0,category:"item"},{id:"flower-tiles-7",name:"Flower Tile 7",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-7.png",description:"Individual flower tile 7",priority:!0,category:"item"},{id:"flower-tiles-8",name:"Flower Tile 8",src:"/assets/minigames/spring/bloomwithAView/flower-tiles-8.png",description:"Individual flower tile 8",priority:!0,category:"item"},{id:"signs-background",name:"Looking Signs Background",src:"/assets/minigames/winter/lookingSigns/signs-background.png",description:"Background for Looking Signs minigame",priority:!0,category:"background"},{id:"sign-clues-coin",name:"Coin Sign",src:"/assets/minigames/winter/lookingSigns/sign-clues-coin.png",description:"Good luck coin sign",priority:!0,category:"item"},{id:"sign-clues-bird",name:"Bird Sign",src:"/assets/minigames/winter/lookingSigns/sign-clues-bird.png",description:"Good luck bird sign",priority:!0,category:"item"},{id:"sign-clues-heartcharm",name:"Heart Charm Sign",src:"/assets/minigames/winter/lookingSigns/sign-clues-heartcharm.png",description:"Good luck heart charm sign",priority:!0,category:"item"},{id:"sign-clues-brokenclock",name:"Broken Clock Sign",src:"/assets/minigames/winter/lookingSigns/sign-clues-brokenclock.png",description:"Bad luck broken clock sign",priority:!0,category:"item"},{id:"sign-clues-blackcat",name:"Black Cat Sign",src:"/assets/minigames/winter/lookingSigns/sign-clues-blackcat.png",description:"Bad luck black cat sign",priority:!0,category:"item"},{id:"sign-clues-evileye",name:"Evil Eye Sign",src:"/assets/minigames/winter/lookingSigns/sign-clues-evileye.png",description:"Bad luck evil eye sign",priority:!0,category:"item"},{id:"paper-background",name:"Paper Background",src:"/assets/minigames/summer/spokenWord/paper-background.png",description:"Paper background for Spoken Word",priority:!0,category:"background"},{id:"theme-icons-nature",name:"Nature Theme Icon",src:"/assets/minigames/summer/spokenWord/theme-icons-nature.png",description:"Nature theme icon",priority:!0,category:"ui"},{id:"theme-icons-human",name:"Human Connection Theme Icon",src:"/assets/minigames/summer/spokenWord/theme-icons-human.png",description:"Human connection theme icon",priority:!0,category:"ui"},{id:"theme-icons-technology",name:"Technology Theme Icon",src:"/assets/minigames/summer/spokenWord/theme-icons-technology.png",description:"Technology theme icon",priority:!0,category:"ui"},{id:"theme-icons-mysticism",name:"Mysticism Theme Icon",src:"/assets/minigames/summer/spokenWord/theme-icons-mysticism.png",description:"Mysticism theme icon",priority:!0,category:"ui"},{id:"mastery-icons-laureate",name:"Laureate Mastery Icon",src:"/assets/minigames/summer/spokenWord/mastery-icons-laureate.png",description:"Laureate mastery rank icon",priority:!0,category:"ui"},{id:"mastery-icons-lyricist",name:"Lyricist Mastery Icon",src:"/assets/minigames/summer/spokenWord/mastery-icons-lyricist.png",description:"Lyricist mastery rank icon",priority:!0,category:"ui"},{id:"mastery-icons-wordsmith",name:"Wordsmith Mastery Icon",src:"/assets/minigames/summer/spokenWord/mastery-icons-wordsmith.png",description:"Wordsmith mastery rank icon",priority:!0,category:"ui"},{id:"mastery-icons-acolyte",name:"Acolyte Mastery Icon",src:"/assets/minigames/summer/spokenWord/mastery-icons-acolyte.png",description:"Acolyte mastery rank icon",priority:!0,category:"ui"},{id:"crafter-workshop-background",name:"Crafter Workshop Background",src:"/assets/minigames/autumn/crafter/workshop-background.png",description:"Workshop background for Crafter minigame",priority:!0,category:"background"},{id:"crafter-fabric-base",name:"Fabric Base",src:"/assets/minigames/autumn/crafter/fabricBase.png",description:"Fabric base material",priority:!0,category:"item"},{id:"crafter-metal-base",name:"Metal Base",src:"/assets/minigames/autumn/crafter/metalBase.png",description:"Metal base material",priority:!0,category:"item"},{id:"crafter-wood-base",name:"Wood Base",src:"/assets/minigames/autumn/crafter/woodBase.png",description:"Wood base material",priority:!0,category:"item"},{id:"crafter-accent-leaf",name:"Leaf Accent",src:"/assets/minigames/autumn/crafter/accents-leaf.png",description:"Autumn leaf accent",priority:!0,category:"item"},{id:"crafter-accent-button",name:"Button Accent",src:"/assets/minigames/autumn/crafter/accents-button.png",description:"Button accent",priority:!0,category:"item"},{id:"crafter-accent-glass",name:"Glass Shard Accent",src:"/assets/minigames/autumn/crafter/accents-glass.png",description:"Glass shard accent",priority:!0,category:"item"},{id:"crafter-accent-gearcharm",name:"Gear Charm Accent",src:"/assets/minigames/autumn/crafter/accents-gearcharm.png",description:"Gear charm accent",priority:!0,category:"item"},{id:"crafter-accent-ribbon",name:"Ribbon Accent",src:"/assets/minigames/autumn/crafter/accents-ribbon.png",description:"Ribbon accent",priority:!0,category:"item"},{id:"memories-market-backdrop",name:"Market Backdrop",src:"/assets/minigames/autumn/memoriesDate/market-backdrop.png",description:"Market backdrop for Memories Date",priority:!0,category:"background"},{id:"memories-overlook-backdrop",name:"City Overlook Backdrop",src:"/assets/minigames/autumn/memoriesDate/overlook-backdrop.png",description:"City overlook backdrop for Memories Date",priority:!0,category:"background"},{id:"memories-boardwalk-backdrop",name:"Boardwalk Backdrop",src:"/assets/minigames/autumn/memoriesDate/boardwalk-backdrop.png",description:"Boardwalk backdrop for Memories Date",priority:!0,category:"background"},{id:"memories-frame-neon",name:"Neon Frame",src:"/assets/minigames/autumn/memoriesDate/frames-neon.png",description:"Neon photo frame",priority:!0,category:"item"},{id:"memories-frame-gears",name:"Gear Frame",src:"/assets/minigames/autumn/memoriesDate/frames-gears.png",description:"Gear-themed photo frame",priority:!0,category:"item"},{id:"memories-frame-circle",name:"Circle Frame",src:"/assets/minigames/autumn/memoriesDate/frames-circle.png",description:"Circle-shaped photo frame",priority:!0,category:"item"},{id:"memories-sticker-bestday",name:"Best Day Sticker",src:"/assets/minigames/autumn/memoriesDate/stickers-bestday.png",description:"Best Day Ever sticker",priority:!0,category:"item"},{id:"memories-sticker-kitten",name:"Kitten Sticker",src:"/assets/minigames/autumn/memoriesDate/stickers-kitten.png",description:"Cute kitten sticker",priority:!0,category:"item"},{id:"memories-sticker-sparklehearts",name:"Sparkle Hearts Sticker",src:"/assets/minigames/autumn/memoriesDate/stickers-sparklehearts.png",description:"Sparkly hearts sticker",priority:!0,category:"item"},{id:"memories-sticker-sparklegears",name:"Sparkle Gears Sticker",src:"/assets/minigames/autumn/memoriesDate/stickers-sparklegears.png",description:"Sparkly gears sticker",priority:!0,category:"item"},{id:"fallback-asset",name:"Fallback Asset",src:"/assets/backgrounds/stonewich-cityscape.jpg",description:"Fallback asset for all minigames",priority:!0,category:"background"}],_d=({onComplete:e,priorityOnly:t=!1,skipMinigameAssets:n=!0})=>{const[r,o]=f.useState(!0),[a,s]=f.useState(!0),[i,l]=f.useState(!n),[c,u]=f.useState(0),[m,h]=f.useState(0),[p,x]=f.useState(0),[y,b]=f.useState(0),[g,v]=f.useState(0),[w,k]=f.useState(0),[S,C]=f.useState(0),[T,I]=f.useState(0),[A,P]=f.useState(0),L=Object.values(Wb).flat().filter(R=>!t||R.priority===!0).map(R=>R.image),F=Object.values(Dr).filter(R=>!t||R.priority===!0).map(R=>R.image),z=n?[]:o5.filter(R=>!t||R.priority===!0).map(R=>R.src);f.useEffect(()=>{console.log(`AssetPreloader: Loading assets (${t?"priority only":"all"}, ${n?"skipping minigames":"with minigames"})`),C(L.length),I(F.length),P(z.length),L.length>0?De.preloadAssets(L,(R,E)=>{u(R)}).then(()=>{const R=L.filter(E=>De.didAssetFail(E)).length;b(R),console.log(`Loaded ${L.length-R} character expressions, ${R} errors`),o(!1)}):o(!1),F.length>0?De.preloadAssets(F,(R,E)=>{h(R)}).then(()=>{const R=F.filter(E=>De.didAssetFail(E)).length;v(R),console.log(`Loaded ${F.length-R} background images, ${R} errors`),s(!1)}):s(!1),!n&&z.length>0?(console.log(`Loading ${z.length} minigame assets...`),De.preloadAssets(z,(R,E)=>{x(R)}).then(()=>{const R=z.filter(E=>De.didAssetFail(E)).length;k(R),console.log(`Loaded ${z.length-R} minigame assets, ${R} errors`),l(!1)})):l(!1)},[L,F,z,t,n]),f.useEffect(()=>{!r&&!a&&!i&&(console.log("All required assets loaded."),e())},[r,a,i,e]);const O=S+T+(n?0:A),U=c+m+(n?0:p),B=O>0?Math.min(100,Math.round(U/O*100)):100;return d.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-[#1A1F2C] z-50 text-white",children:[d.jsxs("div",{className:"w-64 mb-8",children:[d.jsx("div",{className:"text-center mb-2 text-lg",children:"Loading Game Assets"}),d.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-[#9b87f5] to-[#7E69AB] transition-all duration-300",style:{width:`${B}%`}})}),d.jsxs("div",{className:"text-center mt-2 text-sm text-gray-300",children:[B,"%"]})]}),d.jsxs("div",{className:"text-xs text-gray-400 max-w-md text-center px-4",children:[r&&`Loading character expressions (${c}/${S})...`,a&&`Loading backgrounds (${m}/${T})...`,i&&!n&&`Loading minigame assets (${p}/${A})...`,!r&&!a&&!i&&"All assets loaded!"]})]})},a5=({onSceneSelect:e,currentSceneId:t})=>{const[n,r]=f.useState(!1),[o,a]=f.useState(""),[s,i]=f.useState(null),l=Object.keys(Re).reduce((u,m)=>{let h="other";return m.startsWith("spring")?h="spring":m.startsWith("summer")?h="summer":m.startsWith("autumn")?h="autumn":m.startsWith("winter")?h="winter":m.startsWith("prologue")?h="prologue":m.includes("epilogue")&&(h="epilogue"),u[h]||(u[h]=[]),u[h].push(m),u},{}),c=Object.entries(l).filter(([u])=>!s||u===s).flatMap(([u,m])=>m.filter(h=>!o||h.toLowerCase().includes(o.toLowerCase())));return f.useEffect(()=>{const u=m=>{m.ctrlKey&&m.shiftKey&&m.key==="D"&&(m.preventDefault(),r(h=>!h))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),n?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-dark-purple p-6 rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-white text-xl font-bold",children:"Dev Scene Jumper"}),d.jsx("button",{className:"text-white hover:text-red-500",onClick:()=>r(!1),children:"✕"})]}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("input",{type:"text",placeholder:"Filter scenes...",className:"flex-1 p-2 bg-gray-800 text-white rounded border border-gray-700",value:o,onChange:u=>a(u.target.value)}),d.jsxs("select",{className:"p-2 bg-gray-800 text-white rounded border border-gray-700",value:s||"",onChange:u=>i(u.target.value||null),children:[d.jsx("option",{value:"",children:"All Seasons"}),d.jsx("option",{value:"prologue",children:"Prologue"}),d.jsx("option",{value:"spring",children:"Spring"}),d.jsx("option",{value:"summer",children:"Summer"}),d.jsx("option",{value:"autumn",children:"Autumn"}),d.jsx("option",{value:"winter",children:"Winter"}),d.jsx("option",{value:"epilogue",children:"Epilogue"}),d.jsx("option",{value:"other",children:"Other"})]})]}),d.jsxs("div",{className:"overflow-y-auto flex-1 pr-2",children:[d.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.map(u=>d.jsx("button",{className:`p-2 rounded text-left transition-colors ${u===t?"bg-primary-purple text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,onClick:()=>{e(u),r(!1)},children:u},u))}),c.length===0&&d.jsx("div",{className:"text-gray-400 text-center p-4",children:"No scenes match your search"})]}),d.jsxs("div",{className:"mt-4 text-xs text-gray-400 border-t border-gray-700 pt-2",children:[d.jsxs("p",{children:["Press ",d.jsx("kbd",{className:"px-1 py-0.5 bg-gray-700 rounded",children:"Ctrl"}),"+",d.jsx("kbd",{className:"px-1 py-0.5 bg-gray-700 rounded",children:"Shift"}),"+",d.jsx("kbd",{className:"px-1 py-0.5 bg-gray-700 rounded",children:"D"})," to toggle this menu"]}),d.jsxs("p",{className:"mt-1",children:["Current Scene: ",d.jsx("span",{className:"text-primary-purple",children:t})]})]})]})}):d.jsx("button",{className:"fixed bottom-4 right-4 bg-gray-800 text-white p-2 rounded-full z-50 opacity-30 hover:opacity-100 transition-opacity",onClick:()=>r(!0),title:"Open Dev Scene Jumper (Ctrl+Shift+D)",children:"DEV"})},s5=()=>{const[e,t]=f.useState(!0),[n,r]=f.useState(!1),[o,a]=f.useState(!1),[s,i]=f.useState(!1),[l,c]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(null),{currentSceneId:x,transitionToScene:y,currentScene:b,previousSceneId:g,loading:v,transitionEffect:w,setTransitionEffect:k}=Gx();f.useEffect(()=>{console.log("Game component rendered, current scene:",x),x!=="start"&&x!=="about"&&e&&u&&(console.log("Scene is not start or about, hiding main menu"),t(!1)),(x==="start"||x==="about")&&!e&&(console.log("Returning to start/about scene, showing main menu"),t(!0))},[x,e,u]),f.useEffect(()=>{if(!l)try{console.log("Initializing game sound system..."),qx(),HI(),c(!0),console.log("Sound system initialized")}catch(T){console.error("Failed to initialize sound system:",T)}},[l]);const S=()=>{console.log("Starting new game");try{l?X.playSFX("ui-click",!1):console.log("[SOUND] ui-click")}catch(T){console.warn("Failed to play sound:",T)}m(!0),t(!1),p("intro"),setTimeout(()=>{y("intro"),Q.success("Starting new game...")},50)},C=()=>{console.log("Showing about screen");try{X.playSFX("ui-click",!1)}catch(T){console.log("[SOUND] ui-click"),console.warn("Failed to play sound:",T)}y("about")};return o?d.jsxs(Ob,{children:[!n&&d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-dark-purple bg-opacity-75 text-white text-xs p-1",children:"Loading remaining assets in background..."}),e?d.jsx(Wk,{onNewGame:S,loadingComplete:s,onAbout:C}):d.jsx(r5,{initialSceneId:h||x,gameStarted:u}),d.jsx(a5,{onSceneSelect:y,currentSceneId:x}),!n&&d.jsx("div",{className:"hidden",children:d.jsx(_d,{onComplete:()=>{r(!0),i(!0)},skipMinigameAssets:!0})})]}):d.jsx(_d,{onComplete:()=>a(!0),priorityOnly:!0,skipMinigameAssets:!0})},i5=()=>{const[e,t]=f.useState(!1);return d.jsx("div",{className:"w-full h-screen bg-black",children:e?d.jsx(s5,{}):d.jsx(_d,{onComplete:()=>t(!0),priorityOnly:!0})})};var Qm="ToastProvider",[Zm,l5,c5]=bk("Toast"),[Uk,gO]=Is("Toast",[c5]),[u5,tc]=Uk(Qm),Yk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:s}=e,[i,l]=f.useState(null),[c,u]=f.useState(0),m=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qm}\`. Expected non-empty \`string\`.`),d.jsx(Zm.Provider,{scope:t,children:d.jsx(u5,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:c,viewport:i,onViewportChange:l,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:s})})};Yk.displayName=Qm;var Gk="ToastViewport",d5=["F8"],Bd="toast.viewportPause",zd="toast.viewportResume",Xk=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=d5,label:o="Notifications ({hotkey})",...a}=e,s=tc(Gk,n),i=l5(n),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),m=f.useRef(null),h=Ce(t,m,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;f.useEffect(()=>{const b=g=>{var w;r.length!==0&&r.every(k=>g[k]||g.code===k)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,g=m.current;if(x&&b&&g){const v=()=>{if(!s.isClosePausedRef.current){const C=new CustomEvent(Bd);g.dispatchEvent(C),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const C=new CustomEvent(zd);g.dispatchEvent(C),s.isClosePausedRef.current=!1}},k=C=>{!b.contains(C.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",k),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[x,s.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:b})=>{const v=i().map(w=>{const k=w.ref.current,S=[k,...C5(k)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?v.reverse():v).flat()},[i]);return f.useEffect(()=>{const b=m.current;if(b){const g=v=>{var S,C,T;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const I=document.activeElement,A=v.shiftKey;if(v.target===b&&A){(S=c.current)==null||S.focus();return}const F=y({tabbingDirection:A?"backwards":"forwards"}),z=F.findIndex(O=>O===I);uu(F.slice(z+1))?v.preventDefault():A?(C=c.current)==null||C.focus():(T=u.current)==null||T.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[i,y]),d.jsxs(d2,{ref:l,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx(Wd,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});uu(b)}}),d.jsx(Zm.Slot,{scope:n,children:d.jsx(ne.ol,{tabIndex:-1,...a,ref:h})}),x&&d.jsx(Wd,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});uu(b)}})]})});Xk.displayName=Gk;var Kk="ToastFocusProxy",Wd=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,a=tc(Kk,n);return d.jsx(Kl,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:s=>{var c;const i=s.relatedTarget;!((c=a.viewport)!=null&&c.contains(i))&&r()}})});Wd.displayName=Kk;var nc="Toast",h5="toast.swipeStart",m5="toast.swipeMove",f5="toast.swipeCancel",p5="toast.swipeEnd",qk=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:a,...s}=e,[i=!0,l]=Es({prop:r,defaultProp:o,onChange:a});return d.jsx(Ut,{present:n||i,children:d.jsx(v5,{open:i,...s,ref:t,onClose:()=>l(!1),onPause:Ae(e.onPause),onResume:Ae(e.onResume),onSwipeStart:q(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:q(e.onSwipeMove,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:q(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:q(e.onSwipeEnd,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),l(!1)})})})});qk.displayName=nc;var[g5,y5]=Uk(nc,{onClose(){}}),v5=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:a,onClose:s,onEscapeKeyDown:i,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...x}=e,y=tc(nc,n),[b,g]=f.useState(null),v=Ce(t,O=>g(O)),w=f.useRef(null),k=f.useRef(null),S=o||y.duration,C=f.useRef(0),T=f.useRef(S),I=f.useRef(0),{onToastAdd:A,onToastRemove:P}=y,L=Ae(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=y.viewport)==null||U.focus()),s()}),F=f.useCallback(O=>{!O||O===1/0||(window.clearTimeout(I.current),C.current=new Date().getTime(),I.current=window.setTimeout(L,O))},[L]);f.useEffect(()=>{const O=y.viewport;if(O){const U=()=>{F(T.current),c==null||c()},B=()=>{const R=new Date().getTime()-C.current;T.current=T.current-R,window.clearTimeout(I.current),l==null||l()};return O.addEventListener(Bd,B),O.addEventListener(zd,U),()=>{O.removeEventListener(Bd,B),O.removeEventListener(zd,U)}}},[y.viewport,S,l,c,F]),f.useEffect(()=>{a&&!y.isClosePausedRef.current&&F(S)},[a,S,y.isClosePausedRef,F]),f.useEffect(()=>(A(),()=>P()),[A,P]);const z=f.useMemo(()=>b?rS(b):null,[b]);return y.viewport?d.jsxs(d.Fragment,{children:[z&&d.jsx(x5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),d.jsx(g5,{scope:n,onClose:L,children:bs.createPortal(d.jsx(Zm.ItemSlot,{scope:n,children:d.jsx(u2,{asChild:!0,onEscapeKeyDown:q(i,()=>{y.isFocusedToastEscapeKeyDownRef.current||L(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:q(e.onKeyDown,O=>{O.key==="Escape"&&(i==null||i(O.nativeEvent),O.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:q(e.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:q(e.onPointerMove,O=>{if(!w.current)return;const U=O.clientX-w.current.x,B=O.clientY-w.current.y,R=!!k.current,E=["left","right"].includes(y.swipeDirection),M=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,_=E?M(0,U):0,$=E?0:M(0,B),W=O.pointerType==="touch"?10:2,J={x:_,y:$},pe={originalEvent:O,delta:J};R?(k.current=J,di(m5,m,pe,{discrete:!1})):uy(J,y.swipeDirection,W)?(k.current=J,di(h5,u,pe,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(U)>W||Math.abs(B)>W)&&(w.current=null)}),onPointerUp:q(e.onPointerUp,O=>{const U=k.current,B=O.target;if(B.hasPointerCapture(O.pointerId)&&B.releasePointerCapture(O.pointerId),k.current=null,w.current=null,U){const R=O.currentTarget,E={originalEvent:O,delta:U};uy(U,y.swipeDirection,y.swipeThreshold)?di(p5,p,E,{discrete:!0}):di(f5,h,E,{discrete:!0}),R.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),x5=e=>{const{__scopeToast:t,children:n,...r}=e,o=tc(nc,t),[a,s]=f.useState(!1),[i,l]=f.useState(!1);return k5(()=>s(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),i?null:d.jsx(km,{asChild:!0,children:d.jsx(Kl,{...r,children:a&&d.jsxs(d.Fragment,{children:[o.label," ",n]})})})},w5="ToastTitle",Qk=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.jsx(ne.div,{...r,ref:t})});Qk.displayName=w5;var b5="ToastDescription",Zk=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.jsx(ne.div,{...r,ref:t})});Zk.displayName=b5;var Jk="ToastAction",eS=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?d.jsx(nS,{altText:n,asChild:!0,children:d.jsx(Jm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Jk}\`. Expected non-empty \`string\`.`),null)});eS.displayName=Jk;var tS="ToastClose",Jm=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=y5(tS,n);return d.jsx(nS,{asChild:!0,children:d.jsx(ne.button,{type:"button",...r,ref:t,onClick:q(e.onClick,o.onClose)})})});Jm.displayName=tS;var nS=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return d.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function rS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),S5(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...rS(r))}}),t}function di(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Hb(o,a):o.dispatchEvent(a)}var uy=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),a=r>o;return t==="left"||t==="right"?a&&r>n:!a&&o>n};function k5(e=()=>{}){const t=Ae(e);Cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function S5(e){return e.nodeType===e.ELEMENT_NODE}function C5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var T5=Yk,oS=Xk,aS=qk,sS=Qk,iS=Zk,lS=eS,cS=Jm;const I5=T5,uS=f.forwardRef(({className:e,...t},n)=>d.jsx(oS,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uS.displayName=oS.displayName;const E5=Pb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dS=f.forwardRef(({className:e,variant:t,...n},r)=>d.jsx(aS,{ref:r,className:ce(E5({variant:t}),e),...n}));dS.displayName=aS.displayName;const A5=f.forwardRef(({className:e,...t},n)=>d.jsx(lS,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));A5.displayName=lS.displayName;const hS=f.forwardRef(({className:e,...t},n)=>d.jsx(cS,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(ra,{className:"h-4 w-4"})}));hS.displayName=cS.displayName;const mS=f.forwardRef(({className:e,...t},n)=>d.jsx(sS,{ref:n,className:ce("text-sm font-semibold",e),...t}));mS.displayName=sS.displayName;const fS=f.forwardRef(({className:e,...t},n)=>d.jsx(iS,{ref:n,className:ce("text-sm opacity-90",e),...t}));fS.displayName=iS.displayName;function j5(){const{toasts:e}=VI();return d.jsxs(I5,{children:[e.map(function({id:t,title:n,description:r,action:o,...a}){return d.jsxs(dS,{...a,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(mS,{children:n}),r&&d.jsx(fS,{children:r})]}),o,d.jsx(hS,{})]},t)}),d.jsx(uS,{})]})}var dy=["light","dark"],P5="(prefers-color-scheme: dark)",N5=f.createContext(void 0),M5={setTheme:e=>{},themes:[]},R5=()=>{var e;return(e=f.useContext(N5))!=null?e:M5};f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:s,attrs:i,nonce:l})=>{let c=a==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=o?dy.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,y=!1,b=!0)=>{let g=s?s[x]:x,v=y?x+"|| ''":`'${g}'`,w="";return o&&b&&!y&&dy.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?y||g?w+=`c.add(${v})`:w+="null":g&&(w+=`d[s](n,${v})`),w},p=e?`!function(){${u}${h(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${P5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${m}}catch(t){}}();`;return f.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});const D5=({...e})=>{const{theme:t="system"}=R5();return d.jsx(_h,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var rc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oc=typeof window>"u"||"Deno"in globalThis;function Lt(){}function F5(e,t){return typeof e=="function"?e(t):e}function L5(e){return typeof e=="number"&&e>=0&&e!==1/0}function O5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hy(e,t){return typeof e=="function"?e(t):e}function V5(e,t){return typeof e=="function"?e(t):e}function my(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:a,queryKey:s,stale:i}=e;if(s){if(r){if(t.queryHash!==ef(s,t.options))return!1}else if(!ms(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||o&&o!==t.state.fetchStatus||a&&!a(t))}function fy(e,t){const{exact:n,status:r,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(hs(t.options.mutationKey)!==hs(a))return!1}else if(!ms(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function ef(e,t){return((t==null?void 0:t.queryKeyHashFn)||hs)(e)}function hs(e){return JSON.stringify(e,(t,n)=>Hd(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function ms(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ms(e[n],t[n])):!1}function pS(e,t){if(e===t)return e;const n=py(e)&&py(t);if(n||Hd(e)&&Hd(t)){const r=n?e:Object.keys(e),o=r.length,a=n?t:Object.keys(t),s=a.length,i=n?[]:{};let l=0;for(let c=0;c<s;c++){const u=n?c:a[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(i[u]=void 0,l++):(i[u]=pS(e[u],t[u]),i[u]===e[u]&&e[u]!==void 0&&l++)}return o===s&&l===o?e:i}return t}function py(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hd(e){if(!gy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!gy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gy(e){return Object.prototype.toString.call(e)==="[object Object]"}function $5(e){return new Promise(t=>{setTimeout(t,e)})}function _5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?pS(e,t):t}function B5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function z5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tf=Symbol();function gS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Er,Wn,Ao,xy,W5=(xy=class extends rc{constructor(){super();re(this,Er);re(this,Wn);re(this,Ao);K(this,Ao,t=>{if(!oc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Wn)||this.setEventListener(j(this,Ao))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Wn))==null||t.call(this),K(this,Wn,void 0))}setEventListener(t){var n;K(this,Ao,t),(n=j(this,Wn))==null||n.call(this),K(this,Wn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){j(this,Er)!==t&&(K(this,Er,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof j(this,Er)=="boolean"?j(this,Er):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Er=new WeakMap,Wn=new WeakMap,Ao=new WeakMap,xy),yS=new W5,jo,Hn,Po,wy,H5=(wy=class extends rc{constructor(){super();re(this,jo,!0);re(this,Hn);re(this,Po);K(this,Po,t=>{if(!oc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Hn)||this.setEventListener(j(this,Po))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Hn))==null||t.call(this),K(this,Hn,void 0))}setEventListener(t){var n;K(this,Po,t),(n=j(this,Hn))==null||n.call(this),K(this,Hn,t(this.setOnline.bind(this)))}setOnline(t){j(this,jo)!==t&&(K(this,jo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return j(this,jo)}},jo=new WeakMap,Hn=new WeakMap,Po=new WeakMap,wy),wl=new H5;function U5(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function Y5(e){return Math.min(1e3*2**e,3e4)}function vS(e){return(e??"online")==="online"?wl.isOnline():!0}var xS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function du(e){return e instanceof xS}function wS(e){let t=!1,n=0,r=!1,o;const a=U5(),s=y=>{var b;r||(h(new xS(y)),(b=e.abort)==null||b.call(e))},i=()=>{t=!0},l=()=>{t=!1},c=()=>yS.isFocused()&&(e.networkMode==="always"||wl.isOnline())&&e.canRun(),u=()=>vS(e.networkMode)&&e.canRun(),m=y=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,y),o==null||o(),a.resolve(y))},h=y=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,y),o==null||o(),a.reject(y))},p=()=>new Promise(y=>{var b;o=g=>{(r||c())&&y(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;o=void 0,r||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(r)return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(m).catch(g=>{var C;if(r)return;const v=e.retry??(oc?0:3),w=e.retryDelay??Y5,k=typeof w=="function"?w(n,g):w,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(t||!S){h(g);return}n++,(C=e.onFail)==null||C.call(e,n,g),$5(k).then(()=>c()?void 0:p()).then(()=>{t?h(g):x()})})};return{promise:a,cancel:s,continue:()=>(o==null||o(),a),cancelRetry:i,continueRetry:l,canStart:u,start:()=>(u()?x():p().then(x),a)}}function G5(){let e=[],t=0,n=i=>{i()},r=i=>{i()},o=i=>setTimeout(i,0);const a=i=>{t?e.push(i):o(()=>{n(i)})},s=()=>{const i=e;e=[],i.length&&o(()=>{r(()=>{i.forEach(l=>{n(l)})})})};return{batch:i=>{let l;t++;try{l=i()}finally{t--,t||s()}return l},batchCalls:i=>(...l)=>{a(()=>{i(...l)})},schedule:a,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{o=i}}}var Je=G5(),Ar,by,bS=(by=class{constructor(){re(this,Ar)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),L5(this.gcTime)&&K(this,Ar,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(oc?1/0:5*60*1e3))}clearGcTimeout(){j(this,Ar)&&(clearTimeout(j(this,Ar)),K(this,Ar,void 0))}},Ar=new WeakMap,by),No,Mo,St,Ue,fs,jr,Ot,hn,ky,X5=(ky=class extends bS{constructor(t){super();re(this,Ot);re(this,No);re(this,Mo);re(this,St);re(this,Ue);re(this,fs);re(this,jr);K(this,jr,!1),K(this,fs,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,St,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,No,q5(this.options)),this.state=t.state??j(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,Ue))==null?void 0:t.promise}setOptions(t){this.options={...j(this,fs),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,St).remove(this)}setData(t,n){const r=_5(this.state.data,t,this.options);return ze(this,Ot,hn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ze(this,Ot,hn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=j(this,Ue))==null?void 0:r.promise;return(o=j(this,Ue))==null||o.cancel(t),n?n.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,No))}isActive(){return this.observers.some(t=>V5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!O5(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,St).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(j(this,Ue)&&(j(this,jr)?j(this,Ue).cancel({revert:!0}):j(this,Ue).cancelRetry()),this.scheduleGc()),j(this,St).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,Ot,hn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,Ue))return j(this,Ue).continueRetry(),j(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(K(this,jr,!0),r.signal)})},a=()=>{const m=gS(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),K(this,jr,!1),this.options.persister?this.options.persister(m,h,this):m(h)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(s),(l=this.options.behavior)==null||l.onFetch(s,this),K(this,Mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&ze(this,Ot,hn).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const i=m=>{var h,p,x,y;du(m)&&m.silent||ze(this,Ot,hn).call(this,{type:"error",error:m}),du(m)||((p=(h=j(this,St).config).onError)==null||p.call(h,m,this),(y=(x=j(this,St).config).onSettled)==null||y.call(x,this.state.data,m,this)),this.scheduleGc()};return K(this,Ue,wS({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var h,p,x,y;if(m===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){i(b);return}(p=(h=j(this,St).config).onSuccess)==null||p.call(h,m,this),(y=(x=j(this,St).config).onSettled)==null||y.call(x,m,this.state.error,this),this.scheduleGc()},onError:i,onFail:(m,h)=>{ze(this,Ot,hn).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{ze(this,Ot,hn).call(this,{type:"pause"})},onContinue:()=>{ze(this,Ot,hn).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),j(this,Ue).start()}},No=new WeakMap,Mo=new WeakMap,St=new WeakMap,Ue=new WeakMap,fs=new WeakMap,jr=new WeakMap,Ot=new WeakSet,hn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...K5(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return du(o)&&o.revert&&j(this,Mo)?{...j(this,Mo),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Je.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,St).notify({query:this,type:"updated",action:t})})},ky);function K5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qt,Sy,Q5=(Sy=class extends rc{constructor(t={}){super();re(this,Qt);this.config=t,K(this,Qt,new Map)}build(t,n,r){const o=n.queryKey,a=n.queryHash??ef(o,n);let s=this.get(a);return s||(s=new X5({cache:this,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(s)),s}add(t){j(this,Qt).has(t.queryHash)||(j(this,Qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=j(this,Qt).get(t.queryHash);n&&(t.destroy(),n===t&&j(this,Qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Qt).get(t)}getAll(){return[...j(this,Qt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>my(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>my(t,r)):n}notify(t){Je.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Je.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Je.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qt=new WeakMap,Sy),Zt,Qe,Pr,Jt,Vn,Cy,Z5=(Cy=class extends bS{constructor(t){super();re(this,Jt);re(this,Zt);re(this,Qe);re(this,Pr);this.mutationId=t.mutationId,K(this,Qe,t.mutationCache),K(this,Zt,[]),this.state=t.state||J5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Zt).includes(t)||(j(this,Zt).push(t),this.clearGcTimeout(),j(this,Qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Zt,j(this,Zt).filter(n=>n!==t)),this.scheduleGc(),j(this,Qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Zt).length||(this.state.status==="pending"?this.scheduleGc():j(this,Qe).remove(this))}continue(){var t;return((t=j(this,Pr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,s,i,l,c,u,m,h,p,x,y,b,g,v,w,k,S,C,T;K(this,Pr,wS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{ze(this,Jt,Vn).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{ze(this,Jt,Vn).call(this,{type:"pause"})},onContinue:()=>{ze(this,Jt,Vn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Qe).canRun(this)}));const n=this.state.status==="pending",r=!j(this,Pr).canStart();try{if(!n){ze(this,Jt,Vn).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(o=j(this,Qe).config).onMutate)==null?void 0:a.call(o,t,this));const A=await((i=(s=this.options).onMutate)==null?void 0:i.call(s,t));A!==this.state.context&&ze(this,Jt,Vn).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const I=await j(this,Pr).start();return await((c=(l=j(this,Qe).config).onSuccess)==null?void 0:c.call(l,I,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,I,t,this.state.context)),await((p=(h=j(this,Qe).config).onSettled)==null?void 0:p.call(h,I,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,I,null,t,this.state.context)),ze(this,Jt,Vn).call(this,{type:"success",data:I}),I}catch(I){try{throw await((g=(b=j(this,Qe).config).onError)==null?void 0:g.call(b,I,t,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,I,t,this.state.context)),await((S=(k=j(this,Qe).config).onSettled)==null?void 0:S.call(k,void 0,I,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,I,t,this.state.context)),I}finally{ze(this,Jt,Vn).call(this,{type:"error",error:I})}}finally{j(this,Qe).runNext(this)}}},Zt=new WeakMap,Qe=new WeakMap,Pr=new WeakMap,Jt=new WeakSet,Vn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Je.batch(()=>{j(this,Zt).forEach(r=>{r.onMutationUpdate(t)}),j(this,Qe).notify({mutation:this,type:"updated",action:t})})},Cy);function J5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dt,ps,Ty,eO=(Ty=class extends rc{constructor(t={}){super();re(this,dt);re(this,ps);this.config=t,K(this,dt,new Map),K(this,ps,Date.now())}build(t,n,r){const o=new Z5({mutationCache:this,mutationId:++Ds(this,ps)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=hi(t),r=j(this,dt).get(n)??[];r.push(t),j(this,dt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=hi(t);if(j(this,dt).has(n)){const o=(r=j(this,dt).get(n))==null?void 0:r.filter(a=>a!==t);o&&(o.length===0?j(this,dt).delete(n):j(this,dt).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=j(this,dt).get(hi(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=j(this,dt).get(hi(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...j(this,dt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fy(n,r))}findAll(t={}){return this.getAll().filter(n=>fy(t,n))}notify(t){Je.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Je.batch(()=>Promise.all(t.map(n=>n.continue().catch(Lt))))}},dt=new WeakMap,ps=new WeakMap,Ty);function hi(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function yy(e){return{onFetch:(t,n)=>{var u,m,h,p,x;const r=t.options,o=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],s=((x=t.state.data)==null?void 0:x.pageParams)||[];let i={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=gS(t.options,t.fetchOptions),v=async(w,k,S)=>{if(y)return Promise.reject();if(k==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:t.queryKey,pageParam:k,direction:S?"backward":"forward",meta:t.options.meta};b(C);const T=await g(C),{maxPages:I}=t.options,A=S?z5:B5;return{pages:A(w.pages,T,I),pageParams:A(w.pageParams,k,I)}};if(o&&a.length){const w=o==="backward",k=w?tO:vy,S={pages:a,pageParams:s},C=k(r,S);i=await v(S,C,w)}else{const w=e??a.length;do{const k=l===0?s[0]??r.initialPageParam:vy(r,i);if(l>0&&k==null)break;i=await v(i,k),l++}while(l<w)}return i};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function vy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tO(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var be,Un,Yn,Ro,Do,Gn,Fo,Lo,Iy,nO=(Iy=class{constructor(e={}){re(this,be);re(this,Un);re(this,Yn);re(this,Ro);re(this,Do);re(this,Gn);re(this,Fo);re(this,Lo);K(this,be,e.queryCache||new Q5),K(this,Un,e.mutationCache||new eO),K(this,Yn,e.defaultOptions||{}),K(this,Ro,new Map),K(this,Do,new Map),K(this,Gn,0)}mount(){Ds(this,Gn)._++,j(this,Gn)===1&&(K(this,Fo,yS.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,be).onFocus())})),K(this,Lo,wl.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,be).onOnline())})))}unmount(){var e,t;Ds(this,Gn)._--,j(this,Gn)===0&&((e=j(this,Fo))==null||e.call(this),K(this,Fo,void 0),(t=j(this,Lo))==null||t.call(this),K(this,Lo,void 0))}isFetching(e){return j(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,Un).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,be).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=j(this,be).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(hy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return j(this,be).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=j(this,be).get(r.queryHash),a=o==null?void 0:o.state.data,s=F5(t,a);if(s!==void 0)return j(this,be).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Je.batch(()=>j(this,be).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,be).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=j(this,be);Je.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=j(this,be),r={type:"active",...e};return Je.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Je.batch(()=>j(this,be).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Lt).catch(Lt)}invalidateQueries(e={},t={}){return Je.batch(()=>{if(j(this,be).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Je.batch(()=>j(this,be).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(Lt)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=j(this,be).build(this,t);return n.isStaleByTime(hy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lt).catch(Lt)}fetchInfiniteQuery(e){return e.behavior=yy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lt).catch(Lt)}ensureInfiniteQueryData(e){return e.behavior=yy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wl.isOnline()?j(this,Un).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,be)}getMutationCache(){return j(this,Un)}getDefaultOptions(){return j(this,Yn)}setDefaultOptions(e){K(this,Yn,e)}setQueryDefaults(e,t){j(this,Ro).set(hs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,Ro).values()];let n={};return t.forEach(r=>{ms(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){j(this,Do).set(hs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,Do).values()];let n={};return t.forEach(r=>{ms(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,Yn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ef(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===tf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,Yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,be).clear(),j(this,Un).clear()}},be=new WeakMap,Un=new WeakMap,Yn=new WeakMap,Ro=new WeakMap,Do=new WeakMap,Gn=new WeakMap,Fo=new WeakMap,Lo=new WeakMap,Iy),rO=f.createContext(void 0),oO=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(rO.Provider,{value:e,children:t}));const aO=new nO;function sO(){return d.jsx(oO,{client:aO,children:d.jsx(Ob,{children:d.jsxs(pk,{children:[d.jsx(j5,{}),d.jsx(D5,{}),d.jsx(i5,{})]})})})}Bx(document.getElementById("root")).render(d.jsx(sO,{}));
